{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Overview","text":""},{"location":"#gemseo-umdo","title":"gemseo-umdo","text":""},{"location":"#overview","title":"Overview","text":"<p><code>gemseo-umdo</code> is a plugin of the library GEMSEO, dedicated to multidisciplinary optimization (MDO) under uncertainty.</p>"},{"location":"#mdo-under-uncertainty","title":"MDO under uncertainty","text":"<p>The main goal of <code>gemseo-umdo</code> is to extend GEMSEO to MDO under uncertainty.</p> <p>Given a collection of disciplines, we are interested in solving a problem like</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp; &amp; \\mathbb{E}[f(x,U)]+\\kappa\\times\\mathbb{S}[f(x,U)] \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\mathbb{P}[g(x,U)\\geq 0] \\leq \\varepsilon \\end{align} \\] <p>by selecting an MDO formulation to handle the multidisciplinary coupling and an estimation technique to approximate the statistics.</p>"},{"location":"#statistics","title":"Statistics","text":"<p><code>gemseo-umdo</code> also proposes advanced techniques for uncertainty quantification and management (UQ&amp;M). In presence of multilevel simulators, multilevel Monte Carlo (MLMC) sampling can reduce the variance of the statistics estimators. Another variance reduction technique consists of using the outputs of surrogate models as control variates, even moderately correlated with the original models.</p>"},{"location":"#visualization","title":"Visualization","text":"<p>A third facet of <code>gemseo-umdo</code> is the visualization toolbox to display the propagation of the uncertainties through a multidisciplinary system as well as the interaction between the uncertain input variables.</p>"},{"location":"#installation","title":"Installation","text":"<p>Install the latest version with <code>pip install gemseo-umdo</code>.</p> <p>See pip for more information.</p>"},{"location":"#bugs-and-questions","title":"Bugs and questions","text":"<p>Please use the gitlab issue tracker to submit bugs or questions.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>See the contributing section of GEMSEO.</p>"},{"location":"#contributors","title":"Contributors","text":"<ul> <li>Antoine Dechaume</li> <li>Matthias De Lozzo</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":"<p>All notable changes of this project will be documented here.</p> <p>The format is based on Keep a Changelog and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#develop","title":"Develop","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>The subpackage truss includes modules for implementing a truss structure problem from the literature.</li> <li>The function create_noising_discipline_chain returns a disciplines chain to noise input variables.   This function is used by the UDOEScenario and UMDOScenario   when the argument <code>uncertain_design_variables</code> is set to noise design variables.   In the case of bi-level formulations,   it may be preferable to use this function directly rather than through this argument,   as illustrated in an example of the documentation.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>The iterative Monte Carlo estimation of statistics when used for derivatives.</li> </ul>"},{"location":"changelog/#version-410-april-2025","title":"Version 4.1.0 (April 2025)","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>A SobolGraph can be defined   from a PCERegressor   by using its from_pce method.</li> </ul>"},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>The PCE U-MDO formulation handles the case   where the uncertain space dimension is greater than 1   and the derivatives with respect to the design variables are requested.</li> <li>The Sampling U-MDO formulation handles the case   where the estimation of the standard deviation is zero   and the derivatives with respect to the design variables are requested.</li> </ul>"},{"location":"changelog/#version-400-march-2025","title":"Version 4.0.0 (March 2025)","text":""},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Each BaseUMDOFormulation   has a Pydantic model to define its settings.   For example,   Sampling_Settings   is the Pydantic model for the Sampling U-MDO formulation.</li> <li>The U-MDO formulations   Sampling,   SequentialSampling   and PCE   are differentiable,   so that gradient-based optimizer can be used   when the multidisciplinary process is differentiable.</li> <li>The U-MDO formulation PCE has a new option <code>approximate_statistics_jacobians</code>   to approximate the Jacobians of the mean, standard deviation and variance with respect to the design variables   at no extra cost,   if you do not want to compute the derivatives of the disciplines to reduce the calculation budget   or approximate these Jacobians by finite differences.   The approximation uses the technique proposed by Mura et al. (2020)   and is parametrized by the option <code>differentiation_step</code> (default: <code>1e-6</code>).</li> <li>UOptAsUMDOScenario   can make a monodisciplinary optimization problem under uncertainty multidisciplinary.</li> <li>An example illustrates the use of the BiLevel MDO formulation   in the U-MDO formulation Sampling.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>API CHANGE:   UDOEScenario   and UMDOScenario   no longer have a default statistic estimation technique.   The <code>statistic_estimation_settings</code> argument must be defined.</li> <li>API CHANGE:   The <code>statistic_estimation</code> and <code>statistic_estimation_parameters</code> keyword arguments of   UDOEScenario   and UMDOScenario   have been replaced by the positional argument <code>statistic_estimation_settings</code>,   which is a Pydantic model.</li> <li>API CHANGE:   The statistic estimation settings of   a BaseUMDOFormulation   passed as positional and keyword arguments   have been replaced by the unique positional argument <code>settings_model</code>,   which is a Pydantic model.</li> </ul>"},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>The bug related to the way   ControlVariate   and TaylorPolynomial   use non-normalized data has been corrected.</li> <li>UDOEScenario   and UMDOScenario   now accept disciplines with variables that are floats rather than NumPy arrays.</li> </ul>"},{"location":"changelog/#version-300-november-2024","title":"Version 3.0.0 (November 2024)","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>Support GEMSEO v6.</li> <li>Support for Python 3.12.</li> <li>The U-MDO formulation PCE creates a polynomial chaos expansion (PCE)   over the uncertain space at each iteration of the optimization loop and uses the coefficients of the PCE   to estimate the following statistics: <code>Mean</code>, <code>StandardDeviation</code>, <code>Margin</code> and <code>Variance</code>.</li> <li>The U-MDO formulation Surrogate creates a surrogate model   over the uncertain space at each iteration of the optimization loop and uses Monte Carlo sampling   to estimate the following statistics: <code>Mean</code>, <code>StandardDeviation</code>, <code>Margin</code>, <code>Probability</code> and <code>Variance</code>.</li> <li>The U-MDO formulations   Sampling and   SequentialSampling   have an option <code>samples_directory_path</code>   to save the samples at each iteration of the algorithm chosen for the execution of the   UDOEScenario   or UMDOScenario.</li> <li>The U-MDO formulation SequentialSampling   has an option <code>estimate_statistics_iteratively</code> (default: <code>True</code>)   to compute the statistics iteratively   and so do not store the samples in a <code>Database</code>.</li> <li>The dictionary argument <code>uncertain_design_variables</code> of   UDOEScenario   and UMDOScenario   can now accept values such as <code>(\"+\", \"u\")</code> and <code>(\"*\", \"u\")</code>   to noise the corresponding key <code>x</code> as <code>x = dv_x + u</code> and <code>x = dv_x * (1 + u)</code>   where <code>x</code> is a discipline input made uncertain by the random variable <code>u</code>.</li> <li>AdditiveNoiser   and   MultiplicativeNoiser   are disciplines to noise a design variable \\(x\\) as \\(X=x+U\\) and \\(X=x(1+U)\\) respectively   where \\(U\\) is a random variable.   BaseNoiser   can be used to create other noising disciplines   and a specific   NoiserFactory   is available.</li> <li>ControlVariate,   a new BaseUMDOFormulation   estimating the statistics with a control variate technique based on Taylor polynomials.</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>The default value of the <code>initial_n_samples</code> argument of   SequentialSampling   is 2 instead of 1,   because the default DOE algorithm (<code>\"OT_OPT_LHS\"</code>) requires at least 2 samples.</li> <li><code>gemseo_umdo.scenarios._uscenario._UScenario</code> renamed to <code>gemseo_umdo.scenarios.base_u_scenario.BaseUScenario</code>.</li> <li>API CHANGE: <code>gemseo_umdo.statistics.mlmc.pilots.pilot.MLMCPilot</code> renamed to <code>gemseo_umdo.statistics.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot</code>.</li> <li>API CHANGE: <code>gemseo_umdo.statistics.mlmc_mlcv.pilots.pilot.MLMCMLCVPilot</code> renamed to <code>gemseo_umdo.statistics.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot</code>.</li> <li>API CHANGE: <code>gemseo_umdo.statistics.pilot.Pilot</code> renamed to <code>gemseo_umdo.statistics.base_pilot.BasePilot</code>.</li> <li>API CHANGE: <code>gemseo_umdo.formulations.formulation.UMDOFormulation</code> renamed to <code>gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation</code>.</li> <li>API CHANGE: <code>gemseo_umdo.formulations.statistics</code> is now a protected package.</li> <li>API CHANGE: <code>gemseo_umdo.formulations.functions</code> is now a protected package.</li> <li>The BeamConstraints discipline   computed outputs of the form <code>a/(b+eps)</code> where <code>eps</code> was used to avoid division by zero.   Now,   this discipline computes outputs of the form <code>b/a</code>   as <code>a</code> is never zero.</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>The U-MDO formulation Sampling   works properly when the option <code>estimate_statistics_iteratively</code>  is <code>True</code>   and the DOE option <code>n_processes</code> is greater than 1.</li> <li>The docstring of the <code>uncertain_design_variables</code> argument of   UDOEScenario   and UMDOScenario   explains that specifying a value such as <code>\"{} + u\"</code> at key <code>\"x\"</code>   assumes that both the uncertain design variable <code>\"x\"</code>   and the uncertain variable <code>\"u\"</code> are scalar variables.</li> <li>The discipline transforming the design variables into uncertain design variables   is placed before the user's disciplines;   by doing so,   the uncertain design variables can be propagated   through the multidisciplinary process   even with MDO formulations that do not ensure the satisfaction of couplings,   such as DisciplinaryOpt.</li> </ul>"},{"location":"changelog/#version-201-january-2024","title":"Version 2.0.1 (January 2024)","text":""},{"location":"changelog/#fixed_4","title":"Fixed","text":"<ul> <li>The U-MDO formulations handle the finite-difference approximation of derivatives.</li> </ul>"},{"location":"changelog/#version-200-december-2023","title":"Version 2.0.0 (December 2023)","text":""},{"location":"changelog/#added_4","title":"Added","text":"<ul> <li>Support for Python 3.11.</li> <li>A web documentation.</li> <li>The heat equation problem (   HeatEquationConfiguration,   HeatEquationDiscipline,   HeatEquationModel   and HeatEquationUncertainSpace)   to illustrate the algorithms MLMC   and MLMCMLCV.</li> <li>The MLMC and   the MLMCMLCV   algorithms to estimate a statistic of the output of a function   whose input is random.</li> <li>The MonteCarloSampler   to sample vectorized functions.</li> <li>UncertainCouplingGraph   has a new option <code>save</code> (default: <code>True</code>).</li> <li>The U-MDO formulation Sampling   has an option <code>estimate_statistics_iteratively</code> (default: <code>True</code>)   to compute the statistics iteratively   and so do not store the samples in a <code>Database</code>.</li> <li>The package <code>gemseo_umdo.formulations.functions</code> contains the <code>MDOFunction</code>s   used by a UMDOFormulation   to compute the statistics of the objective, constraints and observables.</li> <li>The logs of the UDOEScenario   and UMDOScenario   include the uncertain space.</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>Setting the argument <code>n_samples</code>   of the U-MDO formulation Sampling   is mandatory for many DOE algorithms   but optional in the case where   the DOE algorithm does not consider a <code>n_samples</code> argument to generate the samples.</li> <li>The estimator of the <code>Variance</code>   used by the U-MDO formulation Sampling   with <code>estimate_statistics_iteratively=False</code> is now unbiased.</li> <li>API changes:</li> <li>The options of the statistics estimators     are now set at instantiation instead of execution.</li> <li><code>gemseo_umdo.estimators</code> has been renamed to <code>gemseo_umdo.formulations.statistics</code>.</li> <li>The log of the statistics no longer includes design variables and uncertain inputs   (e.g. <code>E[y(x; u)]</code>),   but only uncertain output  (e.g. <code>E[y]</code>) to avoid display problems in large dimensions.</li> </ul>"},{"location":"changelog/#fixed_5","title":"Fixed","text":"<ul> <li>The UDOEScenario   and UMDOScenario   maximize the statistic of the objective   when the argument <code>maximize_objective</code> is set to <code>True</code>.</li> <li>The log of the objective and constraint is now consistent   with the arguments <code>maximize_objective</code> and <code>constraint_name</code>.</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>Support for Python 3.8.</li> </ul>"},{"location":"changelog/#version-111-october-2023","title":"Version 1.1.1 (October 2023)","text":""},{"location":"changelog/#fixed_6","title":"Fixed","text":"<ul> <li>One test was not compatible with GEMSEO 5.1+.</li> </ul>"},{"location":"changelog/#version-110-june-2023","title":"Version 1.1.0 (June 2023)","text":""},{"location":"changelog/#added_5","title":"Added","text":"<ul> <li>The beam problem (Beam,   BeamConstraints,   BeamUncertainSpace   and BeamDesignSpace   to benchmark robust optimization algorithms.</li> <li>TaylorPolynomial,   a new UMDOFormulation   estimating the statistics with Taylor polynomials.</li> <li>SequentialSampling,   a new UMDOFormulation   estimating the statistics with sequential sampling.</li> <li>UncertainCouplingGraph   to visualize the dispersion of the coupling variables.</li> <li>SobolGraph   to visualize the first-, second- and total-order Sobol' indices.</li> <li>The set of SpringMassModel,   SpringMassDiscipline   and SpringMassUncertainSpace   is a use case based on a spring-mass system.</li> </ul>"},{"location":"changelog/#fixed_7","title":"Fixed","text":"<ul> <li>The <code>_UScenario</code> no longer changes the list of disciplines passed by the user.</li> </ul>"},{"location":"changelog/#version-101-january-2023","title":"Version 1.0.1 (January 2023)","text":""},{"location":"changelog/#changed_3","title":"Changed","text":"<ul> <li>API change: the argument <code>statistic_estimation_options</code>   of UMDOFormulation   has been renamed to <code>statistic_estimation_parameters</code>.</li> <li>API change: <code>UMDOFormulation._processed_functions</code> replaces <code>Sampling.processed_functions</code>.</li> </ul>"},{"location":"changelog/#version-100-july-2022","title":"Version 1.0.0 (July 2022)","text":"<p>First release.</p>"},{"location":"credits/","title":"Credits","text":""},{"location":"credits/#exec-1--credits","title":"Credits","text":"<p>The developers thank all the open source libraries making <code>gemseo-umdo</code> possible.</p>"},{"location":"credits/#exec-1--external-dependencies","title":"External Dependencies","text":"<p><code>gemseo-umdo</code> depends on software with compatible licenses that are listed below.</p> Project License <code>Python</code> Python Software License <code>gemseo</code> GNU Lesser General Public License v3 <code>matplotlib</code> Python Software Foundation License <code>numpy</code> BSD License <code>scipy</code> BSD License"},{"location":"credits/#exec-1--external-applications","title":"External applications","text":"<p>Some external applications are used by <code>gemseo-umdo</code>, but not linked with the application, for testing, documentation generation, training or example purposes.</p> Project License <code>black</code> MIT License <code>commitizen</code> MIT License <code>covdefaults</code> MIT License <code>griffe-fieldz</code> BSD-3-Clause <code>griffe-inherited-docstrings</code> ISC <code>insert-license</code> MIT <code>markdown-exec</code> ? <code>mike</code> BSD-3-Clause <code>mkdocs-bibtex</code> BSD-3-Clause-LBNL <code>mkdocs-gallery</code> BSD 3-Clause <code>mkdocs-gen-files</code> MIT License <code>mkdocs-include-markdown-plugin</code> Apache Software License <code>mkdocs-literate-nav</code> MIT License <code>mkdocs-material</code> MIT License <code>mkdocs-section-index</code> MIT License <code>mkdocstrings</code> ? <code>pre-commit</code> MIT License <code>pygrep-hooks</code> MIT <code>pytest</code> MIT License <code>pytest-cov</code> MIT License <code>pytest-xdist</code> ? <code>ruff</code> MIT License <code>setuptools</code> ? <code>setuptools-scm</code> MIT License"},{"location":"licenses/","title":"Licenses","text":""},{"location":"licenses/#licenses","title":"Licenses","text":""},{"location":"licenses/#gnu-lgpl-v30","title":"GNU LGPL v3.0","text":"<p>The <code>gemseo-umdo</code> source code is distributed under the GNU LGPL v3.0 license. <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis program is free software; you can redistribute it and/or\nmodify it under the terms of the GNU Lesser General Public\nLicense version 3 as published by the Free Software Foundation.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nLesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with this program; if not, write to the Free Software Foundation,\nInc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n</code></pre></p>"},{"location":"licenses/#bsd-0-clause","title":"BSD 0-Clause","text":"<p>The <code>gemseo-umdo</code> examples are distributed under the BSD 0-Clause <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis work is licensed under a BSD 0-Clause License.\n\nPermission to use, copy, modify, and/or distribute this software\nfor any purpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL\nWARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL\nTHE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT,\nOR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING\nFROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,\nNEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION\nWITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n</code></pre></p>"},{"location":"licenses/#cc-by-sa-40","title":"CC BY-SA 4.0","text":"<p>The <code>gemseo-umdo</code> documentation is distributed under the CC BY-SA 4.0 license. <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis work is licensed under the Creative Commons Attribution-ShareAlike 4.0\nInternational License. To view a copy of this license, visit\nhttp://creativecommons.org/licenses/by-sa/4.0/ or send a letter to Creative\nCommons, PO Box 1866, Mountain View, CA 94042, USA.\n</code></pre></p>"},{"location":"developer_guide/umdo/","title":"U-MDO","text":""},{"location":"developer_guide/umdo/#mdo-under-uncertainty","title":"MDO under uncertainty","text":"<p>This section describes the design of the disciplines, formulations and scenarios subpackages used to define and solve an MDO problem under uncertainty.</p> <p>Info</p> <p>Open the user guide for general information, e.g. concepts, API, examples, etc.</p>"},{"location":"developer_guide/umdo/#tree-structure","title":"Tree structure","text":"<pre><code>\ud83d\udcc1 gemseo_umdo\n\u251c\u2500\u2500 \ud83d\udcc1 disciplines # Subpackage including noising disciplines\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 additive_noiser.py # Noising discipline adding a random variable to a deterministic one\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 base_noiser.py # Base class for noising disciplines\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 multiplicative_noiser.py # Noising discipline multiplying a deterministic variable by a random one\n\u2502   \u2514\u2500\u2500 \ud83d\udcc4 noiser_factory.py # Factory of noising disciplines\n\u251c\u2500\u2500 \ud83d\udcc1 formulations # Subpackage including U-MDO formulations\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 factory.py # Factory of U-MDO formulations\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 base_umdo_formulation.py # Base class for U-MDO formulations\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 control_variate.py # U-MDO formulation estimating statistics using Taylor-based control variates\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 control_variate_settings.py # Settings for ControlVariate\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 pce.py # U-MDO formulation estimating statistics using polynomial chaos expansions (PCE)\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 pce_settings.py # Settings for PCE\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 sampling.py # U-MDO formulation estimating statistics using Monte Carlo sampling\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 sampling_settings.py # Settings for Sampling\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 sequential_sampling.py # U-MDO formulation estimating statistics using Monte Carlo sampling\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 sequential_sampling_settings.py # SequentialSettings for Sampling\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 taylor_polynomial.py # U-MDO formulation estimating statistics using Taylor polynomials\n\u2502   \u251c\u2500\u2500 \ud83d\udcc4 taylor_polynomial_settings.py # Settings for TaylorPolynomial\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 _functions # Subpackage of statistic estimation functions to be used with EvaluationProblem\n\u2502   \u2502   \u251c\u2500\u2500 \ud83d\udcc4 base_statistic_function.py # Base class for statistic estimation functions\n\u2502   \u2502   \u251c\u2500\u2500 \ud83d\udcc4 statistic_function_for_a_specific_u_mdo_formulation.py # Statistic estimation functions for a U-MDO formulation\n\u2502   \u2502   \u2514\u2500\u2500 \ud83d\udcc4 ...\n\u2502   \u2514\u2500\u2500 \ud83d\udcc1 _statistics # Subpackage of statistic estimators\n\u2502       \u251c\u2500\u2500 \ud83d\udcc4 base_statistic_estimator.py # Base class for statistic estimators\n\u2502       \u251c\u2500\u2500 \ud83d\udcc1 specific_u_mdo_formulation # The subpackage of statistic estimators associated with a specific U-MDO formulation\n\u2502       \u2502   \u251c\u2500\u2500 \ud83d\udcc4 base_sampling_estimator.py # The base class for statistic estimators associated with this U-MDO formulation\n\u2502       \u2502   \u251c\u2500\u2500 \ud83d\udcc4 mean.py # The estimator of the mean associated with this U-MDO formulation\n\u2502       \u2502   \u251c\u2500\u2500 \ud83d\udcc4 variance.py # The estimator of the variance associated with this U-MDO formulation\n\u2502       \u2502   \u2514\u2500\u2500 \ud83d\udcc4 ...\n\u2502       \u2514\u2500\u2500 \ud83d\udcc4 ...\n\u2514\u2500\u2500 \ud83d\udcc1 scenarios # Subpackage including scenarios using U-MDO formulations\n    \u251c\u2500\u2500 \ud83d\udcc4 base_u_scenario.py # Base scenario using a U-MDO formulation\n    \u251c\u2500\u2500 \ud83d\udcc4 udoe_scenario.py # DOE-based scenario using a U-MDO formulation\n    \u2514\u2500\u2500 \ud83d\udcc4 umdo_scenario.py # Optimizer-based scenario using a U-MDO formulation\n</code></pre>"},{"location":"developer_guide/umdo/#class-diagram","title":"Class diagram","text":"<p>A <code>BaseUScenario</code> is a <code>Scenario</code> with an API adapted to the definition of the uncertain space, statistics and the associated estimation techniques.</p> <p>A <code>BaseUScenario</code> is made of</p> <ul> <li>a <code>BaseUMDOFormulation</code>, which is an <code>MDOFormulation</code> depending on a standard <code>MDOFormulation</code>, e.g. <code>MDF</code>,</li> <li>the settings of a specific statistics estimation technique, e.g. <code>Sampling_Settings</code> for sampling.</li> </ul> <p>The standard <code>MDOFormulation</code> is in charge to define the multidisciplinary process for a specific design value and a specific uncertainty value while the estimation technique is in charge to</p> <ol> <li>sample this multidisciplinary process over the uncertain space,</li> <li>estimate the statistics by means of <code>BaseStatisticFunction</code>s    which are particular <code>MDOFunction</code>s    associated with the <code>OptimizationProblem</code> attached to the <code>UMDOFormulation</code>.</li> </ol> <p>A <code>BaseStatisticFunction</code> relies on a basic functor, called <code>BaseStatisticEstimator</code>.</p> <p>So, adding a new U-MDO formulation <code>Foo</code> implies to</p> <ul> <li>subclass <code>BaseUMDOFormulation</code> to <code>Foo</code>,</li> <li>subclass <code>BaseUMDOFormulationSettings</code> to <code>Foo_Settings</code>,</li> <li>subclass <code>BaseStatisticFunction</code> to <code>StasticFunctionForFoo</code>,</li> <li>subclass <code>BaseStatisticEstimator</code> to <code>BaseFooEstimator</code>,</li> <li>subclass <code>BaseFooEstimator</code> to <code>Mean</code>, <code>Variance</code>, etc.</li> </ul> <pre><code>classDiagram\n\n   BaseUScenario --|&gt; Scenario\n   BaseUScenario &lt;|-- UMDOScenario\n   MDOScenario &lt;|-- UMDOScenario\n\n   class BaseUScenario {\n    +add_constraint()\n    +add_observable()\n    +formulation_name\n    +mdo_formulation\n    +uncertain_space\n   }\n\n   BaseUScenario *-- BaseUMDOFormulation\n   BaseUMDOFormulation &lt;|-- BaseMDOFormulation\n   BaseUMDOFormulation o-- BaseMDOFormulation\n\n   class BaseUMDOFormulation {\n     +add_constraint()\n     +add_observable()\n     +get_expected_dataflow()\n     +get_expected_workflow()\n     +get_top_level_disc()\n     +input_data_to_output_data\n     +mdo_formulation\n     +name\n     +uncertain_space\n     +update_top_level_disciplines()\n   }\n\n   BaseUMDOFormulation o-- ParameterSpace: uncertain space\n   BaseUMDOFormulation \"1\" --&gt; \"n\" BaseStatisticFunction\n   BaseStatisticFunction *-- BaseStatisticEstimator\n\n   BaseUMDOFormulation &lt;|-- Sampling\n   MDOFunction &lt;|-- BaseStatisticFunction\n   BaseStatisticFunction &lt;|-- StatisticFunctionForStandardSampling\n   Sampling \"1\" --&gt; \"n\" StatisticFunctionForStandardSampling\n   StatisticFunctionForStandardSampling *-- BaseSamplingEstimator\n   BaseStatisticEstimator &lt;|-- BaseSamplingEstimator\n   BaseSamplingEstimator &lt;|-- Mean\n\n   BaseUMDOFormulation *-- BaseUMDOFormulationSettings\n\n   BaseUMDOFormulation *-- OptimizationProblem\n   OptimizationProblem \"1\" o-- \"n\" BaseStatisticFunction\n\n   BaseUMDOFormulation \"1\" *-- \"n\" BaseNoiser\n   BaseNoiser --|&gt; Discipline\n\n   &lt;&lt;abstract&gt;&gt; BaseUScenario\n   &lt;&lt;abstract&gt;&gt; BaseMDOFormulation\n   &lt;&lt;abstract&gt;&gt; BaseUMDOFormulation\n   &lt;&lt;abstract&gt;&gt; BaseStatisticFunction\n   &lt;&lt;abstract&gt;&gt; BaseStatisticEstimator\n   &lt;&lt;abstract&gt;&gt; BaseSamplingEstimator\n   &lt;&lt;abstract&gt;&gt; BaseNoiser\n\n   namespace Example {\n    class Sampling\n    class StatisticFunctionForStandardSampling\n    class BaseSamplingEstimator\n    class Mean\n   }\n\n   namespace gemseo {\n     class BaseMDOFormulation\n     class Discipline\n     class MDOFunction\n     class MDOScenario\n     class OptimizationProblem\n     class ParameterSpace\n     class Scenario\n   }</code></pre>"},{"location":"generated/examples/problems/","title":"Problems","text":""},{"location":"generated/examples/problems/#problems","title":"Problems","text":""},{"location":"generated/examples/problems/#the-beam-problem","title":"The beam problem","text":"<p> Optimization problem. </p> <p> Sobol' sensitivity analysis. </p> <p> Large DOE study. </p> <p> Robust optimization problem. </p>"},{"location":"generated/examples/problems/#make-an-optimization-problem-under-uncertainty-multidisciplinary","title":"Make an optimization problem under uncertainty multidisciplinary","text":"<p> Make a monodisciplinary optimization under uncertainty problem multidisciplinary </p> <p> Download all examples in Python source code: problems_python.zip</p> <p> Download all examples in Jupyter notebooks: problems_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/problems/beam_model/mg_execution_times/","title":"Computation times","text":"<p>00:35.382 total execution time for generated_examples_problems_beam_model files:</p> <p>+------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_beam_rob_opt (docs/examples/problems/beam_model/plot_beam_rob_opt.py) | 00:21.676 | 0.0 MB | +------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_beam_opt (docs/examples/problems/beam_model/plot_beam_opt.py)             | 00:07.918 | 0.0 MB | +------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_beam_doe (docs/examples/problems/beam_model/plot_beam_doe.py)             | 00:03.733 | 0.0 MB | +------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_beam_sa (docs/examples/problems/beam_model/plot_beam_sa.py)                | 00:02.056 | 0.0 MB | +------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_doe/","title":"Large DOE study.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_doe/#large-doe-study","title":"Large DOE study.","text":"<p>Sample the weight \\(w(h,t)\\) and the constraints \\(c_{\\text{stress}}(h,t)\\) and \\(c_{\\text{displacement}}(h,t)\\) w.r.t. the height \\(h\\in[500, 800]\\) and the thickness \\(t\\in[2,10]\\).</p> <p>Out:</p> <pre><code>    INFO - 09:10:57: *** Start DOEScenario execution ***\n    INFO - 09:10:57: DOEScenario\n    INFO - 09:10:57:    Disciplines: Beam BeamConstraints\n    INFO - 09:10:57:    MDO formulation: MDF\n    INFO - 09:10:57: Optimization problem:\n    INFO - 09:10:57:    minimize w(h, t)\n    INFO - 09:10:57:    with respect to h, t\n    INFO - 09:10:57:    under the inequality constraints\n    INFO - 09:10:57:       c_stress(h, t) &lt;= 1.0\n    INFO - 09:10:57:       c_displ(h, t) &gt;= 1.0\n    INFO - 09:10:57:    over the design space:\n    INFO - 09:10:57:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:57:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:10:57:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:57:       | h    |     500     |  800  |     800     | float |\n    INFO - 09:10:57:       | t    |      2      |  2.5  |      10     | float |\n    INFO - 09:10:57:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:57: Solving optimization problem with algorithm PYDOE_FULLFACT:\n    INFO - 09:10:57:      1%|          | 1/100 [00:00&lt;00:00, 129.87 it/sec, obj=55.8]\n    INFO - 09:10:57:      2%|\u258f         | 2/100 [00:00&lt;00:00, 217.90 it/sec, obj=57.6]\n    INFO - 09:10:57:      3%|\u258e         | 3/100 [00:00&lt;00:00, 288.76 it/sec, obj=59.5]\n    INFO - 09:10:57:      4%|\u258d         | 4/100 [00:00&lt;00:00, 346.58 it/sec, obj=61.4]\n    INFO - 09:10:57:      5%|\u258c         | 5/100 [00:00&lt;00:00, 393.38 it/sec, obj=63.2]\n    INFO - 09:10:57:      6%|\u258c         | 6/100 [00:00&lt;00:00, 433.65 it/sec, obj=65.1]\n    INFO - 09:10:57:      7%|\u258b         | 7/100 [00:00&lt;00:00, 467.87 it/sec, obj=67]\n    INFO - 09:10:57:      8%|\u258a         | 8/100 [00:00&lt;00:00, 496.21 it/sec, obj=68.8]\n    INFO - 09:10:57:      9%|\u2589         | 9/100 [00:00&lt;00:00, 520.20 it/sec, obj=70.7]\n    INFO - 09:10:57:     10%|\u2588         | 10/100 [00:00&lt;00:00, 542.35 it/sec, obj=72.6]\n    INFO - 09:10:57:     11%|\u2588         | 11/100 [00:00&lt;00:00, 562.04 it/sec, obj=80.4]\n    INFO - 09:10:57:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:00, 578.95 it/sec, obj=83.1]\n    INFO - 09:10:57:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:00, 594.61 it/sec, obj=85.8]\n    INFO - 09:10:57:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:00, 608.56 it/sec, obj=88.5]\n    INFO - 09:10:57:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:00, 618.87 it/sec, obj=91.2]\n    INFO - 09:10:57:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:00, 629.41 it/sec, obj=93.9]\n    INFO - 09:10:57:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:00, 640.35 it/sec, obj=96.6]\n    INFO - 09:10:57:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:00, 649.99 it/sec, obj=99.3]\n    INFO - 09:10:57:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:00, 658.62 it/sec, obj=102]\n    INFO - 09:10:57:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:00, 666.52 it/sec, obj=105]\n    INFO - 09:10:57:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:00, 673.68 it/sec, obj=105]\n    INFO - 09:10:57:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:00, 680.31 it/sec, obj=109]\n    INFO - 09:10:57:     23%|\u2588\u2588\u258e       | 23/100 [00:00&lt;00:00, 687.27 it/sec, obj=112]\n    INFO - 09:10:57:     24%|\u2588\u2588\u258d       | 24/100 [00:00&lt;00:00, 693.69 it/sec, obj=116]\n    INFO - 09:10:57:     25%|\u2588\u2588\u258c       | 25/100 [00:00&lt;00:00, 699.79 it/sec, obj=119]\n    INFO - 09:10:57:     26%|\u2588\u2588\u258c       | 26/100 [00:00&lt;00:00, 705.13 it/sec, obj=123]\n    INFO - 09:10:57:     27%|\u2588\u2588\u258b       | 27/100 [00:00&lt;00:00, 709.66 it/sec, obj=126]\n    INFO - 09:10:57:     28%|\u2588\u2588\u258a       | 28/100 [00:00&lt;00:00, 714.68 it/sec, obj=130]\n    INFO - 09:10:57:     29%|\u2588\u2588\u2589       | 29/100 [00:00&lt;00:00, 718.74 it/sec, obj=133]\n    INFO - 09:10:57:     30%|\u2588\u2588\u2588       | 30/100 [00:00&lt;00:00, 722.58 it/sec, obj=137]\n    INFO - 09:10:57:     31%|\u2588\u2588\u2588       | 31/100 [00:00&lt;00:00, 726.73 it/sec, obj=129]\n    INFO - 09:10:57:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:00&lt;00:00, 731.03 it/sec, obj=134]\n    INFO - 09:10:57:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:00&lt;00:00, 734.73 it/sec, obj=138]\n    INFO - 09:10:57:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:00&lt;00:00, 738.38 it/sec, obj=143]\n    INFO - 09:10:57:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:00&lt;00:00, 741.57 it/sec, obj=147]\n    INFO - 09:10:57:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:00&lt;00:00, 744.64 it/sec, obj=151]\n    INFO - 09:10:57:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:00&lt;00:00, 747.86 it/sec, obj=156]\n    INFO - 09:10:57:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:00&lt;00:00, 750.70 it/sec, obj=160]\n    INFO - 09:10:57:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:00&lt;00:00, 753.82 it/sec, obj=164]\n    INFO - 09:10:57:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:00&lt;00:00, 756.57 it/sec, obj=169]\n    INFO - 09:10:57:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:00&lt;00:00, 759.24 it/sec, obj=154]\n    INFO - 09:10:57:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:00&lt;00:00, 761.84 it/sec, obj=159]\n    INFO - 09:10:57:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:00&lt;00:00, 763.82 it/sec, obj=164]\n    INFO - 09:10:57:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:00&lt;00:00, 765.87 it/sec, obj=169]\n    INFO - 09:10:57:     45%|\u2588\u2588\u2588\u2588\u258c     | 45/100 [00:00&lt;00:00, 766.34 it/sec, obj=175]\n    INFO - 09:10:57:     46%|\u2588\u2588\u2588\u2588\u258c     | 46/100 [00:00&lt;00:00, 768.21 it/sec, obj=180]\n    INFO - 09:10:57:     47%|\u2588\u2588\u2588\u2588\u258b     | 47/100 [00:00&lt;00:00, 769.35 it/sec, obj=185]\n    INFO - 09:10:57:     48%|\u2588\u2588\u2588\u2588\u258a     | 48/100 [00:00&lt;00:00, 771.16 it/sec, obj=190]\n    INFO - 09:10:57:     49%|\u2588\u2588\u2588\u2588\u2589     | 49/100 [00:00&lt;00:00, 773.15 it/sec, obj=195]\n    INFO - 09:10:57:     50%|\u2588\u2588\u2588\u2588\u2588     | 50/100 [00:00&lt;00:00, 774.93 it/sec, obj=200]\n    INFO - 09:10:57:     51%|\u2588\u2588\u2588\u2588\u2588     | 51/100 [00:00&lt;00:00, 776.15 it/sec, obj=178]\n    INFO - 09:10:57:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 52/100 [00:00&lt;00:00, 777.65 it/sec, obj=184]\n    INFO - 09:10:57:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 53/100 [00:00&lt;00:00, 778.83 it/sec, obj=190]\n    INFO - 09:10:57:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 54/100 [00:00&lt;00:00, 780.69 it/sec, obj=196]\n    INFO - 09:10:57:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 55/100 [00:00&lt;00:00, 781.96 it/sec, obj=202]\n    INFO - 09:10:57:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 56/100 [00:00&lt;00:00, 783.21 it/sec, obj=208]\n    INFO - 09:10:57:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 57/100 [00:00&lt;00:00, 784.42 it/sec, obj=214]\n    INFO - 09:10:57:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 58/100 [00:00&lt;00:00, 786.00 it/sec, obj=220]\n    INFO - 09:10:57:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 59/100 [00:00&lt;00:00, 787.43 it/sec, obj=226]\n    INFO - 09:10:57:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 60/100 [00:00&lt;00:00, 788.75 it/sec, obj=232]\n    INFO - 09:10:57:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 61/100 [00:00&lt;00:00, 790.14 it/sec, obj=202]\n    INFO - 09:10:57:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 62/100 [00:00&lt;00:00, 791.21 it/sec, obj=209]\n    INFO - 09:10:57:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 63/100 [00:00&lt;00:00, 792.35 it/sec, obj=216]\n    INFO - 09:10:57:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 64/100 [00:00&lt;00:00, 793.65 it/sec, obj=223]\n    INFO - 09:10:57:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 65/100 [00:00&lt;00:00, 795.06 it/sec, obj=230]\n    INFO - 09:10:57:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 66/100 [00:00&lt;00:00, 796.39 it/sec, obj=237]\n    INFO - 09:10:57:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 67/100 [00:00&lt;00:00, 797.43 it/sec, obj=243]\n    INFO - 09:10:57:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 68/100 [00:00&lt;00:00, 798.17 it/sec, obj=250]\n    INFO - 09:10:57:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 69/100 [00:00&lt;00:00, 799.33 it/sec, obj=257]\n    INFO - 09:10:57:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 70/100 [00:00&lt;00:00, 800.50 it/sec, obj=264]\n    INFO - 09:10:57:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 71/100 [00:00&lt;00:00, 801.23 it/sec, obj=226]\n    INFO - 09:10:57:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 72/100 [00:00&lt;00:00, 800.38 it/sec, obj=234]\n    INFO - 09:10:57:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 73/100 [00:00&lt;00:00, 800.81 it/sec, obj=242]\n    INFO - 09:10:57:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 74/100 [00:00&lt;00:00, 801.44 it/sec, obj=249]\n    INFO - 09:10:57:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 75/100 [00:00&lt;00:00, 802.30 it/sec, obj=257]\n    INFO - 09:10:57:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 76/100 [00:00&lt;00:00, 803.28 it/sec, obj=265]\n    INFO - 09:10:57:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 77/100 [00:00&lt;00:00, 804.31 it/sec, obj=272]\n    INFO - 09:10:57:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 78/100 [00:00&lt;00:00, 805.40 it/sec, obj=280]\n    INFO - 09:10:57:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 79/100 [00:00&lt;00:00, 806.40 it/sec, obj=288]\n    INFO - 09:10:57:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 80/100 [00:00&lt;00:00, 807.36 it/sec, obj=296]\n    INFO - 09:10:57:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 81/100 [00:00&lt;00:00, 808.12 it/sec, obj=250]\n    INFO - 09:10:57:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 82/100 [00:00&lt;00:00, 808.99 it/sec, obj=259]\n    INFO - 09:10:57:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 83/100 [00:00&lt;00:00, 809.92 it/sec, obj=267]\n    INFO - 09:10:57:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 84/100 [00:00&lt;00:00, 810.81 it/sec, obj=276]\n    INFO - 09:10:57:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 85/100 [00:00&lt;00:00, 811.44 it/sec, obj=284]\n    INFO - 09:10:57:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 86/100 [00:00&lt;00:00, 812.20 it/sec, obj=293]\n    INFO - 09:10:57:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 87/100 [00:00&lt;00:00, 813.01 it/sec, obj=301]\n    INFO - 09:10:57:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 88/100 [00:00&lt;00:00, 813.87 it/sec, obj=310]\n    INFO - 09:10:57:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 89/100 [00:00&lt;00:00, 814.61 it/sec, obj=318]\n    INFO - 09:10:57:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 90/100 [00:00&lt;00:00, 815.28 it/sec, obj=327]\n    INFO - 09:10:57:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 91/100 [00:00&lt;00:00, 816.06 it/sec, obj=274]\n    INFO - 09:10:57:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 92/100 [00:00&lt;00:00, 816.90 it/sec, obj=284]\n    INFO - 09:10:57:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 93/100 [00:00&lt;00:00, 817.74 it/sec, obj=293]\n    INFO - 09:10:57:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 94/100 [00:00&lt;00:00, 818.41 it/sec, obj=302]\n    INFO - 09:10:57:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 95/100 [00:00&lt;00:00, 818.86 it/sec, obj=312]\n    INFO - 09:10:57:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 96/100 [00:00&lt;00:00, 819.55 it/sec, obj=321]\n    INFO - 09:10:57:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 97/100 [00:00&lt;00:00, 820.11 it/sec, obj=330]\n    INFO - 09:10:57:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 98/100 [00:00&lt;00:00, 820.66 it/sec, obj=340]\n    INFO - 09:10:57:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 99/100 [00:00&lt;00:00, 821.17 it/sec, obj=349]\n    INFO - 09:10:57:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:00&lt;00:00, 821.80 it/sec, obj=358]\n    INFO - 09:10:57: Optimization result:\n    INFO - 09:10:57:    Optimizer info:\n    INFO - 09:10:57:       Status: None\n    INFO - 09:10:57:       Message: None\n    INFO - 09:10:57:       Number of calls to the objective function by the optimizer: 100\n    INFO - 09:10:57:    Solution:\n    INFO - 09:10:57:       The solution is feasible.\n    INFO - 09:10:57:       Objective: 257.1326419753086\n    INFO - 09:10:57:       Standardized constraints:\n    INFO - 09:10:57:          -[c_displ-1.0] = [-0.01235799 -0.01235799 -0.01235799 -0.00782042 -0.00782042 -0.00782042\n    INFO - 09:10:57:  -0.01235799 -0.01235799 -0.01235799]\n    INFO - 09:10:57:          [c_stress-1.0] = [-0.05840978 -0.06171919 -0.05840978 -0.8696619  -1.         -0.8696619\n    INFO - 09:10:57:  -0.05840978 -0.06171919 -0.05840978]\n    INFO - 09:10:57:       Design space:\n    INFO - 09:10:57:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:57:          | Name | Lower bound |       Value       | Upper bound | Type  |\n    INFO - 09:10:57:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:57:          | h    |     500     | 633.3333333333333 |     800     | float |\n    INFO - 09:10:57:          | t    |      2      | 8.222222222222221 |      10     | float |\n    INFO - 09:10:57:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:57: *** End DOEScenario execution (time: 0:00:00.125645) ***\n</code></pre> <p></p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.post.dataset.zvsxy import ZvsXY\nfrom gemseo.scenarios.doe_scenario import DOEScenario\n\nfrom gemseo_umdo.use_cases.beam_model.constraints import BeamConstraints\nfrom gemseo_umdo.use_cases.beam_model.design_space import BeamDesignSpace\nfrom gemseo_umdo.use_cases.beam_model.discipline import Beam\n\nconfigure_logger()\n\ndisciplines = [Beam(), BeamConstraints()]\n\ndesign_space = BeamDesignSpace()\n\nscenario = DOEScenario(disciplines, \"w\", design_space, formulation_name=\"MDF\")\nscenario.add_constraint(\"c_stress\", constraint_type=\"ineq\", value=1.0)\nscenario.add_constraint(\"c_displ\", constraint_type=\"ineq\", positive=True, value=1.0)\nscenario.execute(algo_name=\"PYDOE_FULLFACT\", n_samples=10**2)\n\ndataset = scenario.formulation.optimization_problem.to_dataset()\nZvsXY(dataset, \"h\", \"t\", \"w\").execute(save=True, show=False, file_name=\"w\")\nfor constraint_name in [\"-[c_displ-1.0]\", \"[c_stress-1.0]\"]:\n    for z_component in range(9):\n        ZvsXY(dataset, \"h\", \"t\", (constraint_name, z_component)).execute(\n            save=False,\n            show=True,\n        )\n</code></pre> <p>Total running time of the script: ( 0 minutes  3.733 seconds)</p> <p> Download Python source code: plot_beam_doe.py</p> <p> Download Jupyter notebook: plot_beam_doe.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_opt/","title":"Optimization problem.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_opt/#optimization-problem","title":"Optimization problem.","text":"<p>Minimize the weight \\(w(h,t)\\) w.r.t. the height \\(h\\in[500, 800]\\) and the thickness \\(t\\in[2,10]\\) while satisfying \\(c_{\\text{stress}}(h,t)\\geq 1.0\\) and \\(c_{\\text{displacement}}(h,t)\\leq 1.0\\).</p> <p>Out:</p> <pre><code>&lt;frozen importlib._bootstrap&gt;:228: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute\n&lt;frozen importlib._bootstrap&gt;:228: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute\n&lt;frozen importlib._bootstrap&gt;:228: DeprecationWarning: builtin type swigvarlink has no __module__ attribute\n/builds/gemseo/dev/gemseo-umdo/.tox/doc/lib64/python3.9/site-packages/networkx/utils/backends.py:135: RuntimeWarning: networkx backend defined more than once: nx-loopback\n  backends.update(_get_backends(\"networkx.backends\"))\n    INFO - 09:10:53: *** Start MDOScenario execution ***\n    INFO - 09:10:53: MDOScenario\n    INFO - 09:10:53:    Disciplines: Beam BeamConstraints\n    INFO - 09:10:53:    MDO formulation: MDF\n    INFO - 09:10:53: Optimization problem:\n    INFO - 09:10:53:    minimize w(h, t)\n    INFO - 09:10:53:    with respect to h, t\n    INFO - 09:10:53:    under the inequality constraints\n    INFO - 09:10:53:       c_stress(h, t) &lt;= 1.0\n    INFO - 09:10:53:       c_displ(h, t) &gt;= 1.0\n    INFO - 09:10:53:    over the design space:\n    INFO - 09:10:53:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:53:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:10:53:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:53:       | h    |     500     |  800  |     800     | float |\n    INFO - 09:10:53:       | t    |      2      |  2.5  |      10     | float |\n    INFO - 09:10:53:       +------+-------------+-------+-------------+-------+\n    INFO - 09:10:53: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:10:53:      1%|          | 6/1000 [00:00&lt;00:03, 324.40 it/sec, obj=182]\n    INFO - 09:10:53:      1%|          | 7/1000 [00:00&lt;00:02, 340.17 it/sec, obj=211]\n    INFO - 09:10:54:      1%|          | 8/1000 [00:00&lt;00:02, 354.16 it/sec, obj=225]\n    INFO - 09:10:54:      1%|          | 9/1000 [00:00&lt;00:02, 365.27 it/sec, obj=222]\n    INFO - 09:10:54:      1%|          | 10/1000 [00:00&lt;00:02, 375.72 it/sec, obj=220]\n    INFO - 09:10:54:      1%|          | 11/1000 [00:00&lt;00:02, 385.15 it/sec, obj=229]\n    INFO - 09:10:54:      1%|          | 12/1000 [00:00&lt;00:02, 393.67 it/sec, obj=228]\n    INFO - 09:10:54:      1%|\u258f         | 13/1000 [00:00&lt;00:02, 400.90 it/sec, obj=229]\n    INFO - 09:10:54:      1%|\u258f         | 14/1000 [00:00&lt;00:02, 407.81 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 15/1000 [00:00&lt;00:02, 413.42 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 16/1000 [00:00&lt;00:02, 418.68 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 17/1000 [00:00&lt;00:02, 423.76 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 18/1000 [00:00&lt;00:02, 423.23 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 19/1000 [00:00&lt;00:02, 424.54 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 20/1000 [00:00&lt;00:02, 428.44 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 21/1000 [00:00&lt;00:02, 431.90 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 22/1000 [00:00&lt;00:02, 435.22 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 23/1000 [00:00&lt;00:02, 438.27 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258f         | 24/1000 [00:00&lt;00:02, 441.24 it/sec, obj=229]\n    INFO - 09:10:54:      2%|\u258e         | 25/1000 [00:00&lt;00:02, 443.88 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 26/1000 [00:00&lt;00:02, 443.70 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 27/1000 [00:00&lt;00:02, 444.15 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 28/1000 [00:00&lt;00:02, 444.68 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 29/1000 [00:00&lt;00:02, 445.23 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 30/1000 [00:00&lt;00:02, 445.50 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 31/1000 [00:00&lt;00:02, 445.60 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 32/1000 [00:00&lt;00:02, 445.62 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 33/1000 [00:00&lt;00:02, 445.73 it/sec, obj=229]\n    INFO - 09:10:54:      3%|\u258e         | 34/1000 [00:00&lt;00:02, 445.49 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258e         | 35/1000 [00:00&lt;00:02, 445.45 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258e         | 36/1000 [00:00&lt;00:02, 445.61 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258e         | 37/1000 [00:00&lt;00:02, 446.03 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258d         | 38/1000 [00:00&lt;00:02, 446.36 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258d         | 39/1000 [00:00&lt;00:02, 446.43 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258d         | 40/1000 [00:00&lt;00:02, 446.54 it/sec, obj=229]\n    INFO - 09:10:54:      4%|\u258d         | 41/1000 [00:00&lt;00:02, 446.53 it/sec, obj=229]\n    INFO - 09:10:54: Optimization result:\n    INFO - 09:10:54:    Optimizer info:\n    INFO - 09:10:54:       Status: None\n    INFO - 09:10:54:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:10:54:       Number of calls to the objective function by the optimizer: 42\n    INFO - 09:10:54:    Solution:\n    INFO - 09:10:54:       The solution is feasible.\n    INFO - 09:10:54:       Objective: 229.1109776763463\n    INFO - 09:10:54:       Standardized constraints:\n    INFO - 09:10:54:          -[c_displ-1.0] = [-5.19123398e-03 -5.19123398e-03 -5.19123398e-03 -3.51346551e-05\n    INFO - 09:10:54:  -3.51346551e-05 -3.51346551e-05 -5.19123398e-03 -5.19123398e-03\n    INFO - 09:10:54:  -5.19123398e-03]\n    INFO - 09:10:54:          [c_stress-1.0] = [ 3.02343028e-05 -3.52038986e-03  3.02343028e-05 -8.57307483e-01\n    INFO - 09:10:54:  -1.00000000e+00 -8.57307483e-01  3.02343028e-05 -3.52038986e-03\n    INFO - 09:10:54:   3.02343028e-05]\n    INFO - 09:10:54:       Design space:\n    INFO - 09:10:54:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:54:          | Name | Lower bound |       Value       | Upper bound | Type  |\n    INFO - 09:10:54:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:54:          | h    |     500     | 677.8534696587071 |     800     | float |\n    INFO - 09:10:54:          | t    |      2      | 7.030927890734481 |      10     | float |\n    INFO - 09:10:54:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:10:54: *** End MDOScenario execution (time: 0:00:00.133040) ***\n\n&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed15a58b50&gt;\n</code></pre> <p></p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.scenarios.mdo_scenario import MDOScenario\n\nfrom gemseo_umdo.use_cases.beam_model.constraints import BeamConstraints\nfrom gemseo_umdo.use_cases.beam_model.design_space import BeamDesignSpace\nfrom gemseo_umdo.use_cases.beam_model.discipline import Beam\n\nconfigure_logger()\n\ndisciplines = [Beam(), BeamConstraints()]\n\ndesign_space = BeamDesignSpace()\n\nscenario = MDOScenario(disciplines, \"w\", design_space, formulation_name=\"MDF\")\nscenario.add_constraint(\"c_stress\", constraint_type=\"ineq\", value=1.0)\nscenario.add_constraint(\"c_displ\", constraint_type=\"ineq\", positive=True, value=1.0)\nscenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=1000)\n\nscenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  7.918 seconds)</p> <p> Download Python source code: plot_beam_opt.py</p> <p> Download Jupyter notebook: plot_beam_opt.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_rob_opt/","title":"Robust optimization problem.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_rob_opt/#robust-optimization-problem","title":"Robust optimization problem.","text":"<p>Minimize the expectation of the weight \\(w(h,t)\\) w.r.t. the height \\(h\\in[500, 800]\\) and the thickness \\(t\\in[2,10]\\) while satisfying \\(c_{\\text{stress}}(h,t)\\geq 1.0\\) and \\(c_{\\text{displacement}}(h,t)\\leq 1.0\\) with probability 90\\% where \\(F\\), \\(E\\) and \\(\\sigma_{\\text{all}}\\) are random variables defined by <code>BeamUncertainSpace</code>.</p> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n    INFO - 09:11:01: *** Start UMDOScenario execution ***\n    INFO - 09:11:01: UMDOScenario\n    INFO - 09:11:01:    Disciplines: Beam BeamConstraints\n    INFO - 09:11:01:    Formulation:\n    INFO - 09:11:01:       MDO formulation: MDF\n    INFO - 09:11:01:       Statistic estimation: Sampling\n    INFO - 09:11:01:    Uncertain space:\n    INFO - 09:11:01:       +-----------+-----------------------------------------------+\n    INFO - 09:11:01:       |    Name   |                  Distribution                 |\n    INFO - 09:11:01:       +-----------+-----------------------------------------------+\n    INFO - 09:11:01:       |     F     | Normal(mu=-200000.0, sigma=6666.666666666667) |\n    INFO - 09:11:01:       |     E     |        Normal(mu=73500.0, sigma=1225.0)       |\n    INFO - 09:11:01:       | sigma_all |          Normal(mu=300.0, sigma=5.0)          |\n    INFO - 09:11:01:       +-----------+-----------------------------------------------+\n    INFO - 09:11:01: Optimization problem:\n    INFO - 09:11:01:    minimize E[w]\n    INFO - 09:11:01:    with respect to h, t\n    INFO - 09:11:01:    under the inequality constraints\n    INFO - 09:11:01:       P[c_stress &lt;= 1.0] &gt;= 0.9\n    INFO - 09:11:01:       P[c_displ &gt;= 1.0] &gt;= 0.9\n    INFO - 09:11:01:    over the design space:\n    INFO - 09:11:01:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:01:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:01:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:01:       | h    |     500     |  800  |     800     | float |\n    INFO - 09:11:01:       | t    |      2      |  2.5  |      10     | float |\n    INFO - 09:11:01:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:01: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:11:02:      3%|\u258e         | 1/30 [00:00&lt;00:06,  4.14 it/sec, obj=90.6]\n    INFO - 09:11:02:      7%|\u258b         | 2/30 [00:00&lt;00:13,  2.14 it/sec, obj=85.4]\n    INFO - 09:11:03:     10%|\u2588         | 3/30 [00:01&lt;00:14,  1.85 it/sec, obj=153]\n    INFO - 09:11:04:     13%|\u2588\u258e        | 4/30 [00:02&lt;00:14,  1.73 it/sec, obj=102]\n    INFO - 09:11:04:     17%|\u2588\u258b        | 5/30 [00:02&lt;00:14,  1.67 it/sec, obj=102]\n    INFO - 09:11:05:     20%|\u2588\u2588        | 6/30 [00:03&lt;00:14,  1.63 it/sec, obj=68.3]\n    INFO - 09:11:06:     23%|\u2588\u2588\u258e       | 7/30 [00:04&lt;00:14,  1.61 it/sec, obj=68.3]\n    INFO - 09:11:06:     27%|\u2588\u2588\u258b       | 8/30 [00:05&lt;00:13,  1.59 it/sec, obj=68.4]\n    INFO - 09:11:07:     30%|\u2588\u2588\u2588       | 9/30 [00:05&lt;00:13,  1.56 it/sec, obj=69]\n    INFO - 09:11:08:     33%|\u2588\u2588\u2588\u258e      | 10/30 [00:06&lt;00:13,  1.51 it/sec, obj=68.4]\n    INFO - 09:11:09:     37%|\u2588\u2588\u2588\u258b      | 11/30 [00:07&lt;00:12,  1.51 it/sec, obj=69.7]\n    INFO - 09:11:09:     40%|\u2588\u2588\u2588\u2588      | 12/30 [00:07&lt;00:11,  1.50 it/sec, obj=68.4]\n    INFO - 09:11:10:     43%|\u2588\u2588\u2588\u2588\u258e     | 13/30 [00:08&lt;00:11,  1.50 it/sec, obj=69.1]\n    INFO - 09:11:11:     47%|\u2588\u2588\u2588\u2588\u258b     | 14/30 [00:09&lt;00:10,  1.49 it/sec, obj=68.4]\n    INFO - 09:11:11:     50%|\u2588\u2588\u2588\u2588\u2588     | 15/30 [00:10&lt;00:10,  1.49 it/sec, obj=70.1]\n    INFO - 09:11:12:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 16/30 [00:10&lt;00:09,  1.48 it/sec, obj=68.3]\n    INFO - 09:11:13:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 17/30 [00:11&lt;00:08,  1.48 it/sec, obj=72.4]\n    INFO - 09:11:13:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 18/30 [00:12&lt;00:08,  1.48 it/sec, obj=68.4]\n    INFO - 09:11:14:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 19/30 [00:12&lt;00:07,  1.48 it/sec, obj=69.7]\n    INFO - 09:11:15:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 20/30 [00:13&lt;00:06,  1.48 it/sec, obj=68.3]\n    INFO - 09:11:16:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 21/30 [00:14&lt;00:06,  1.48 it/sec, obj=75.5]\n    INFO - 09:11:16:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 22/30 [00:14&lt;00:05,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:17:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 23/30 [00:15&lt;00:04,  1.47 it/sec, obj=69.3]\n    INFO - 09:11:18:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 24/30 [00:16&lt;00:04,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:18:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 25/30 [00:16&lt;00:03,  1.47 it/sec, obj=68.1]\n    INFO - 09:11:19:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 26/30 [00:17&lt;00:02,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:20:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 27/30 [00:18&lt;00:02,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:20:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 28/30 [00:19&lt;00:01,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:21:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 29/30 [00:19&lt;00:00,  1.47 it/sec, obj=68.4]\n    INFO - 09:11:22:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 30/30 [00:20&lt;00:00,  1.47 it/sec, obj=67.9]\n WARNING - 09:11:22: Optimization found no feasible point; the least infeasible point is selected.\n    INFO - 09:11:22: Optimization result:\n    INFO - 09:11:22:    Optimizer info:\n    INFO - 09:11:22:       Status: None\n    INFO - 09:11:22:       Message: Maximum number of iterations reached. GEMSEO stopped the driver.\n    INFO - 09:11:22:       Number of calls to the objective function by the optimizer: 32\n    INFO - 09:11:22:    Solution:\n WARNING - 09:11:22:       The solution is not feasible.\n    INFO - 09:11:22:       Objective: 90.6499999999999\n    INFO - 09:11:22:       Standardized constraints:\n    INFO - 09:11:22:          -[P[c_displ &gt;= 1.0]-0.9] = [-0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1 -0.1]\n    INFO - 09:11:22:          -[P[c_stress &lt;= 1.0]-0.9] = [ 0.9  0.9  0.9 -0.1 -0.1 -0.1  0.9  0.9  0.9]\n    INFO - 09:11:22:       Design space:\n    INFO - 09:11:22:          +------+-------------+-------+-------------+-------+\n    INFO - 09:11:22:          | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:22:          +------+-------------+-------+-------------+-------+\n    INFO - 09:11:22:          | h    |     500     |  800  |     800     | float |\n    INFO - 09:11:22:          | t    |      2      |  2.5  |      10     | float |\n    INFO - 09:11:22:          +------+-------------+-------+-------------+-------+\n    INFO - 09:11:22: *** End UMDOScenario execution (time: 0:00:20.916178) ***\n WARNING - 09:11:22: Optimization found no feasible point; the least infeasible point is selected.\n\n&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed12c52df0&gt;\n</code></pre> <p></p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure\nfrom gemseo import configure_logger\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\nfrom gemseo_umdo.use_cases.beam_model.constraints import BeamConstraints\nfrom gemseo_umdo.use_cases.beam_model.design_space import BeamDesignSpace\nfrom gemseo_umdo.use_cases.beam_model.discipline import Beam\nfrom gemseo_umdo.use_cases.beam_model.uncertain_space import BeamUncertainSpace\n\nconfigure()\nconfigure_logger()\n\nscenario = UMDOScenario(\n    [Beam(), BeamConstraints()],\n    \"w\",\n    BeamDesignSpace(),\n    BeamUncertainSpace(uniform=False),\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=200),\n)\nscenario.add_constraint(\n    \"c_stress\", \"Probability\", greater=False, threshold=1.0, positive=True, value=0.9\n)\nscenario.add_constraint(\n    \"c_displ\", \"Probability\", greater=True, threshold=1.0, positive=True, value=0.9\n)\nscenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=30)\n\nscenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  21.676 seconds)</p> <p> Download Python source code: plot_beam_rob_opt.py</p> <p> Download Jupyter notebook: plot_beam_rob_opt.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_sa/","title":"Sobol' sensitivity analysis.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/problems/beam_model/plot_beam_sa/#sobol-sensitivity-analysis","title":"Sobol' sensitivity analysis.","text":"<p>Compute and plot the total Sobol' indices for the field constraints \\(c_{\\text{stress}}\\) and \\(c_{\\text{displacement}}\\) where \\(F\\), \\(E\\) and \\(\\sigma_{\\text{all}}\\) are random variables defined by <code>BeamUncertainSpace</code>.</p> <p>Out:</p> <pre><code> WARNING - 09:10:55: No coupling in MDA, switching chain_linearize to True.\n    INFO - 09:10:55: *** Start SobolAnalysisSamplingPhase execution ***\n    INFO - 09:10:55: SobolAnalysisSamplingPhase\n    INFO - 09:10:55:    Disciplines: MDOChain\n    INFO - 09:10:55:    MDO formulation: MDF\n    INFO - 09:10:55: Running the algorithm OT_SOBOL_INDICES:\n    INFO - 09:10:55:      1%|          | 3/496 [00:00&lt;00:01, 251.48 it/sec]\n    INFO - 09:10:55:      1%|          | 4/496 [00:00&lt;00:01, 294.66 it/sec]\n    INFO - 09:10:55:      1%|          | 5/496 [00:00&lt;00:01, 330.96 it/sec]\n    INFO - 09:10:55:      1%|          | 6/496 [00:00&lt;00:01, 361.53 it/sec]\n    INFO - 09:10:55:      1%|\u258f         | 7/496 [00:00&lt;00:01, 387.45 it/sec]\n    INFO - 09:10:55:      2%|\u258f         | 8/496 [00:00&lt;00:01, 399.26 it/sec]\n    INFO - 09:10:55:      2%|\u258f         | 9/496 [00:00&lt;00:01, 418.60 it/sec]\n    INFO - 09:10:55:      2%|\u258f         | 10/496 [00:00&lt;00:01, 435.83 it/sec]\n    INFO - 09:10:55:      2%|\u258f         | 11/496 [00:00&lt;00:01, 450.95 it/sec]\n    INFO - 09:10:55:      2%|\u258f         | 12/496 [00:00&lt;00:01, 463.44 it/sec]\n    INFO - 09:10:55:      3%|\u258e         | 13/496 [00:00&lt;00:01, 475.18 it/sec]\n    INFO - 09:10:55:      3%|\u258e         | 14/496 [00:00&lt;00:00, 486.40 it/sec]\n    INFO - 09:10:55:      3%|\u258e         | 15/496 [00:00&lt;00:00, 496.80 it/sec]\n    INFO - 09:10:55:      3%|\u258e         | 16/496 [00:00&lt;00:00, 505.62 it/sec]\n    INFO - 09:10:55:      3%|\u258e         | 17/496 [00:00&lt;00:00, 513.80 it/sec]\n    INFO - 09:10:55:      4%|\u258e         | 18/496 [00:00&lt;00:00, 521.43 it/sec]\n    INFO - 09:10:55:      4%|\u258d         | 19/496 [00:00&lt;00:00, 528.85 it/sec]\n    INFO - 09:10:55:      4%|\u258d         | 20/496 [00:00&lt;00:00, 535.79 it/sec]\n    INFO - 09:10:55:      4%|\u258d         | 21/496 [00:00&lt;00:00, 541.59 it/sec]\n    INFO - 09:10:55:      4%|\u258d         | 22/496 [00:00&lt;00:00, 547.59 it/sec]\n    INFO - 09:10:55:      5%|\u258d         | 23/496 [00:00&lt;00:00, 552.94 it/sec]\n    INFO - 09:10:55:      5%|\u258d         | 24/496 [00:00&lt;00:00, 557.62 it/sec]\n    INFO - 09:10:55:      5%|\u258c         | 25/496 [00:00&lt;00:00, 562.02 it/sec]\n    INFO - 09:10:55:      5%|\u258c         | 26/496 [00:00&lt;00:00, 566.08 it/sec]\n    INFO - 09:10:55:      5%|\u258c         | 27/496 [00:00&lt;00:00, 570.22 it/sec]\n    INFO - 09:10:55:      6%|\u258c         | 28/496 [00:00&lt;00:00, 573.33 it/sec]\n    INFO - 09:10:55:      6%|\u258c         | 29/496 [00:00&lt;00:00, 576.53 it/sec]\n    INFO - 09:10:55:      6%|\u258c         | 30/496 [00:00&lt;00:00, 579.84 it/sec]\n    INFO - 09:10:55:      6%|\u258b         | 31/496 [00:00&lt;00:00, 583.44 it/sec]\n    INFO - 09:10:55:      6%|\u258b         | 32/496 [00:00&lt;00:00, 586.44 it/sec]\n    INFO - 09:10:55:      7%|\u258b         | 33/496 [00:00&lt;00:00, 589.62 it/sec]\n    INFO - 09:10:55:      7%|\u258b         | 34/496 [00:00&lt;00:00, 592.29 it/sec]\n    INFO - 09:10:55:      7%|\u258b         | 35/496 [00:00&lt;00:00, 594.67 it/sec]\n    INFO - 09:10:55:      7%|\u258b         | 36/496 [00:00&lt;00:00, 596.63 it/sec]\n    INFO - 09:10:55:      7%|\u258b         | 37/496 [00:00&lt;00:00, 598.92 it/sec]\n    INFO - 09:10:55:      8%|\u258a         | 38/496 [00:00&lt;00:00, 601.42 it/sec]\n    INFO - 09:10:55:      8%|\u258a         | 39/496 [00:00&lt;00:00, 603.70 it/sec]\n    INFO - 09:10:55:      8%|\u258a         | 40/496 [00:00&lt;00:00, 605.71 it/sec]\n    INFO - 09:10:55:      8%|\u258a         | 41/496 [00:00&lt;00:00, 607.84 it/sec]\n    INFO - 09:10:55:      8%|\u258a         | 42/496 [00:00&lt;00:00, 610.01 it/sec]\n    INFO - 09:10:55:      9%|\u258a         | 43/496 [00:00&lt;00:00, 611.99 it/sec]\n    INFO - 09:10:55:      9%|\u2589         | 44/496 [00:00&lt;00:00, 613.65 it/sec]\n    INFO - 09:10:55:      9%|\u2589         | 45/496 [00:00&lt;00:00, 615.56 it/sec]\n    INFO - 09:10:55:      9%|\u2589         | 46/496 [00:00&lt;00:00, 617.02 it/sec]\n    INFO - 09:10:55:      9%|\u2589         | 47/496 [00:00&lt;00:00, 618.83 it/sec]\n    INFO - 09:10:55:     10%|\u2589         | 48/496 [00:00&lt;00:00, 620.51 it/sec]\n    INFO - 09:10:55:     10%|\u2589         | 49/496 [00:00&lt;00:00, 621.99 it/sec]\n    INFO - 09:10:55:     10%|\u2588         | 50/496 [00:00&lt;00:00, 623.34 it/sec]\n    INFO - 09:10:55:     10%|\u2588         | 51/496 [00:00&lt;00:00, 624.54 it/sec]\n    INFO - 09:10:55:     10%|\u2588         | 52/496 [00:00&lt;00:00, 625.02 it/sec]\n    INFO - 09:10:55:     11%|\u2588         | 53/496 [00:00&lt;00:00, 626.30 it/sec]\n    INFO - 09:10:55:     11%|\u2588         | 54/496 [00:00&lt;00:00, 627.60 it/sec]\n    INFO - 09:10:55:     11%|\u2588         | 55/496 [00:00&lt;00:00, 628.79 it/sec]\n    INFO - 09:10:55:     11%|\u2588\u258f        | 56/496 [00:00&lt;00:00, 630.00 it/sec]\n    INFO - 09:10:55:     11%|\u2588\u258f        | 57/496 [00:00&lt;00:00, 631.19 it/sec]\n    INFO - 09:10:55:     12%|\u2588\u258f        | 58/496 [00:00&lt;00:00, 632.48 it/sec]\n    INFO - 09:10:55:     12%|\u2588\u258f        | 59/496 [00:00&lt;00:00, 633.77 it/sec]\n    INFO - 09:10:55:     12%|\u2588\u258f        | 60/496 [00:00&lt;00:00, 634.70 it/sec]\n    INFO - 09:10:55:     12%|\u2588\u258f        | 61/496 [00:00&lt;00:00, 635.93 it/sec]\n    INFO - 09:10:55:     12%|\u2588\u258e        | 62/496 [00:00&lt;00:00, 637.11 it/sec]\n    INFO - 09:10:55:     13%|\u2588\u258e        | 63/496 [00:00&lt;00:00, 638.09 it/sec]\n    INFO - 09:10:55:     13%|\u2588\u258e        | 64/496 [00:00&lt;00:00, 639.13 it/sec]\n    INFO - 09:10:55:     13%|\u2588\u258e        | 65/496 [00:00&lt;00:00, 639.79 it/sec]\n    INFO - 09:10:55:     13%|\u2588\u258e        | 66/496 [00:00&lt;00:00, 640.63 it/sec]\n    INFO - 09:10:55:     14%|\u2588\u258e        | 67/496 [00:00&lt;00:00, 641.47 it/sec]\n    INFO - 09:10:55:     14%|\u2588\u258e        | 68/496 [00:00&lt;00:00, 642.34 it/sec]\n    INFO - 09:10:55:     14%|\u2588\u258d        | 69/496 [00:00&lt;00:00, 643.29 it/sec]\n    INFO - 09:10:55:     14%|\u2588\u258d        | 70/496 [00:00&lt;00:00, 642.50 it/sec]\n    INFO - 09:10:55:     14%|\u2588\u258d        | 71/496 [00:00&lt;00:00, 643.18 it/sec]\n    INFO - 09:10:55:     15%|\u2588\u258d        | 72/496 [00:00&lt;00:00, 643.99 it/sec]\n    INFO - 09:10:55:     15%|\u2588\u258d        | 73/496 [00:00&lt;00:00, 644.83 it/sec]\n    INFO - 09:10:55:     15%|\u2588\u258d        | 74/496 [00:00&lt;00:00, 645.42 it/sec]\n    INFO - 09:10:55:     15%|\u2588\u258c        | 75/496 [00:00&lt;00:00, 645.99 it/sec]\n    INFO - 09:10:55:     15%|\u2588\u258c        | 76/496 [00:00&lt;00:00, 646.66 it/sec]\n    INFO - 09:10:55:     16%|\u2588\u258c        | 77/496 [00:00&lt;00:00, 647.35 it/sec]\n    INFO - 09:10:55:     16%|\u2588\u258c        | 78/496 [00:00&lt;00:00, 647.65 it/sec]\n    INFO - 09:10:55:     16%|\u2588\u258c        | 79/496 [00:00&lt;00:00, 648.22 it/sec]\n    INFO - 09:10:55:     16%|\u2588\u258c        | 80/496 [00:00&lt;00:00, 649.01 it/sec]\n    INFO - 09:10:55:     16%|\u2588\u258b        | 81/496 [00:00&lt;00:00, 649.42 it/sec]\n    INFO - 09:10:55:     17%|\u2588\u258b        | 82/496 [00:00&lt;00:00, 650.14 it/sec]\n    INFO - 09:10:55:     17%|\u2588\u258b        | 83/496 [00:00&lt;00:00, 650.53 it/sec]\n    INFO - 09:10:55:     17%|\u2588\u258b        | 84/496 [00:00&lt;00:00, 651.21 it/sec]\n    INFO - 09:10:55:     17%|\u2588\u258b        | 85/496 [00:00&lt;00:00, 651.71 it/sec]\n    INFO - 09:10:55:     17%|\u2588\u258b        | 86/496 [00:00&lt;00:00, 652.29 it/sec]\n    INFO - 09:10:55:     18%|\u2588\u258a        | 87/496 [00:00&lt;00:00, 652.99 it/sec]\n    INFO - 09:10:55:     18%|\u2588\u258a        | 88/496 [00:00&lt;00:00, 653.30 it/sec]\n    INFO - 09:10:55:     18%|\u2588\u258a        | 89/496 [00:00&lt;00:00, 653.68 it/sec]\n    INFO - 09:10:55:     18%|\u2588\u258a        | 90/496 [00:00&lt;00:00, 654.19 it/sec]\n    INFO - 09:10:55:     18%|\u2588\u258a        | 91/496 [00:00&lt;00:00, 654.46 it/sec]\n    INFO - 09:10:55:     19%|\u2588\u258a        | 92/496 [00:00&lt;00:00, 654.86 it/sec]\n    INFO - 09:10:55:     19%|\u2588\u2589        | 93/496 [00:00&lt;00:00, 655.44 it/sec]\n    INFO - 09:10:55:     19%|\u2588\u2589        | 94/496 [00:00&lt;00:00, 655.50 it/sec]\n    INFO - 09:10:55:     19%|\u2588\u2589        | 95/496 [00:00&lt;00:00, 655.87 it/sec]\n    INFO - 09:10:55:     19%|\u2588\u2589        | 96/496 [00:00&lt;00:00, 656.42 it/sec]\n    INFO - 09:10:55:     20%|\u2588\u2589        | 97/496 [00:00&lt;00:00, 656.57 it/sec]\n    INFO - 09:10:55:     20%|\u2588\u2589        | 98/496 [00:00&lt;00:00, 656.99 it/sec]\n    INFO - 09:10:55:     20%|\u2588\u2589        | 99/496 [00:00&lt;00:00, 657.22 it/sec]\n    INFO - 09:10:55:     20%|\u2588\u2588        | 100/496 [00:00&lt;00:00, 657.51 it/sec]\n    INFO - 09:10:55:     20%|\u2588\u2588        | 101/496 [00:00&lt;00:00, 657.93 it/sec]\n    INFO - 09:10:55:     21%|\u2588\u2588        | 102/496 [00:00&lt;00:00, 658.33 it/sec]\n    INFO - 09:10:55:     21%|\u2588\u2588        | 103/496 [00:00&lt;00:00, 658.75 it/sec]\n    INFO - 09:10:55:     21%|\u2588\u2588        | 104/496 [00:00&lt;00:00, 659.17 it/sec]\n    INFO - 09:10:55:     21%|\u2588\u2588        | 105/496 [00:00&lt;00:00, 659.66 it/sec]\n    INFO - 09:10:55:     21%|\u2588\u2588\u258f       | 106/496 [00:00&lt;00:00, 660.05 it/sec]\n    INFO - 09:10:55:     22%|\u2588\u2588\u258f       | 107/496 [00:00&lt;00:00, 660.50 it/sec]\n    INFO - 09:10:55:     22%|\u2588\u2588\u258f       | 108/496 [00:00&lt;00:00, 660.87 it/sec]\n    INFO - 09:10:55:     22%|\u2588\u2588\u258f       | 109/496 [00:00&lt;00:00, 661.36 it/sec]\n    INFO - 09:10:55:     22%|\u2588\u2588\u258f       | 110/496 [00:00&lt;00:00, 661.78 it/sec]\n    INFO - 09:10:55:     22%|\u2588\u2588\u258f       | 111/496 [00:00&lt;00:00, 662.14 it/sec]\n    INFO - 09:10:55:     23%|\u2588\u2588\u258e       | 112/496 [00:00&lt;00:00, 662.60 it/sec]\n    INFO - 09:10:55:     23%|\u2588\u2588\u258e       | 113/496 [00:00&lt;00:00, 662.98 it/sec]\n    INFO - 09:10:55:     23%|\u2588\u2588\u258e       | 114/496 [00:00&lt;00:00, 663.00 it/sec]\n    INFO - 09:10:55:     23%|\u2588\u2588\u258e       | 115/496 [00:00&lt;00:00, 663.40 it/sec]\n    INFO - 09:10:55:     23%|\u2588\u2588\u258e       | 116/496 [00:00&lt;00:00, 663.56 it/sec]\n    INFO - 09:10:55:     24%|\u2588\u2588\u258e       | 117/496 [00:00&lt;00:00, 663.91 it/sec]\n    INFO - 09:10:55:     24%|\u2588\u2588\u258d       | 118/496 [00:00&lt;00:00, 664.20 it/sec]\n    INFO - 09:10:55:     24%|\u2588\u2588\u258d       | 119/496 [00:00&lt;00:00, 664.54 it/sec]\n    INFO - 09:10:55:     24%|\u2588\u2588\u258d       | 120/496 [00:00&lt;00:00, 664.87 it/sec]\n    INFO - 09:10:55:     24%|\u2588\u2588\u258d       | 121/496 [00:00&lt;00:00, 665.22 it/sec]\n    INFO - 09:10:55:     25%|\u2588\u2588\u258d       | 122/496 [00:00&lt;00:00, 665.43 it/sec]\n    INFO - 09:10:55:     25%|\u2588\u2588\u258d       | 123/496 [00:00&lt;00:00, 665.73 it/sec]\n    INFO - 09:10:55:     25%|\u2588\u2588\u258c       | 124/496 [00:00&lt;00:00, 666.17 it/sec]\n    INFO - 09:10:55:     25%|\u2588\u2588\u258c       | 125/496 [00:00&lt;00:00, 666.46 it/sec]\n    INFO - 09:10:55:     25%|\u2588\u2588\u258c       | 126/496 [00:00&lt;00:00, 666.36 it/sec]\n    INFO - 09:10:55:     26%|\u2588\u2588\u258c       | 127/496 [00:00&lt;00:00, 666.66 it/sec]\n    INFO - 09:10:55:     26%|\u2588\u2588\u258c       | 128/496 [00:00&lt;00:00, 667.01 it/sec]\n    INFO - 09:10:55:     26%|\u2588\u2588\u258c       | 129/496 [00:00&lt;00:00, 667.22 it/sec]\n    INFO - 09:10:55:     26%|\u2588\u2588\u258c       | 130/496 [00:00&lt;00:00, 667.33 it/sec]\n    INFO - 09:10:55:     26%|\u2588\u2588\u258b       | 131/496 [00:00&lt;00:00, 667.67 it/sec]\n    INFO - 09:10:55:     27%|\u2588\u2588\u258b       | 132/496 [00:00&lt;00:00, 667.87 it/sec]\n    INFO - 09:10:55:     27%|\u2588\u2588\u258b       | 133/496 [00:00&lt;00:00, 668.14 it/sec]\n    INFO - 09:10:55:     27%|\u2588\u2588\u258b       | 134/496 [00:00&lt;00:00, 668.37 it/sec]\n    INFO - 09:10:55:     27%|\u2588\u2588\u258b       | 135/496 [00:00&lt;00:00, 668.57 it/sec]\n    INFO - 09:10:55:     27%|\u2588\u2588\u258b       | 136/496 [00:00&lt;00:00, 668.80 it/sec]\n    INFO - 09:10:55:     28%|\u2588\u2588\u258a       | 137/496 [00:00&lt;00:00, 669.09 it/sec]\n    INFO - 09:10:55:     28%|\u2588\u2588\u258a       | 138/496 [00:00&lt;00:00, 669.48 it/sec]\n    INFO - 09:10:55:     28%|\u2588\u2588\u258a       | 139/496 [00:00&lt;00:00, 669.78 it/sec]\n    INFO - 09:10:55:     28%|\u2588\u2588\u258a       | 140/496 [00:00&lt;00:00, 670.05 it/sec]\n    INFO - 09:10:55:     28%|\u2588\u2588\u258a       | 141/496 [00:00&lt;00:00, 670.27 it/sec]\n    INFO - 09:10:55:     29%|\u2588\u2588\u258a       | 142/496 [00:00&lt;00:00, 670.15 it/sec]\n    INFO - 09:10:55:     29%|\u2588\u2588\u2589       | 143/496 [00:00&lt;00:00, 670.31 it/sec]\n    INFO - 09:10:55:     29%|\u2588\u2588\u2589       | 144/496 [00:00&lt;00:00, 670.29 it/sec]\n    INFO - 09:10:55:     29%|\u2588\u2588\u2589       | 145/496 [00:00&lt;00:00, 670.16 it/sec]\n    INFO - 09:10:55:     29%|\u2588\u2588\u2589       | 146/496 [00:00&lt;00:00, 670.33 it/sec]\n    INFO - 09:10:55:     30%|\u2588\u2588\u2589       | 147/496 [00:00&lt;00:00, 670.52 it/sec]\n    INFO - 09:10:55:     30%|\u2588\u2588\u2589       | 148/496 [00:00&lt;00:00, 670.68 it/sec]\n    INFO - 09:10:55:     30%|\u2588\u2588\u2588       | 149/496 [00:00&lt;00:00, 670.85 it/sec]\n    INFO - 09:10:55:     30%|\u2588\u2588\u2588       | 150/496 [00:00&lt;00:00, 671.06 it/sec]\n    INFO - 09:10:55:     30%|\u2588\u2588\u2588       | 151/496 [00:00&lt;00:00, 671.17 it/sec]\n    INFO - 09:10:55:     31%|\u2588\u2588\u2588       | 152/496 [00:00&lt;00:00, 671.36 it/sec]\n    INFO - 09:10:55:     31%|\u2588\u2588\u2588       | 153/496 [00:00&lt;00:00, 671.58 it/sec]\n    INFO - 09:10:55:     31%|\u2588\u2588\u2588       | 154/496 [00:00&lt;00:00, 671.82 it/sec]\n    INFO - 09:10:55:     31%|\u2588\u2588\u2588\u258f      | 155/496 [00:00&lt;00:00, 671.57 it/sec]\n    INFO - 09:10:55:     31%|\u2588\u2588\u2588\u258f      | 156/496 [00:00&lt;00:00, 671.79 it/sec]\n    INFO - 09:10:55:     32%|\u2588\u2588\u2588\u258f      | 157/496 [00:00&lt;00:00, 671.96 it/sec]\n    INFO - 09:10:55:     32%|\u2588\u2588\u2588\u258f      | 158/496 [00:00&lt;00:00, 672.02 it/sec]\n    INFO - 09:10:55:     32%|\u2588\u2588\u2588\u258f      | 159/496 [00:00&lt;00:00, 672.12 it/sec]\n    INFO - 09:10:55:     32%|\u2588\u2588\u2588\u258f      | 160/496 [00:00&lt;00:00, 672.18 it/sec]\n    INFO - 09:10:55:     32%|\u2588\u2588\u2588\u258f      | 161/496 [00:00&lt;00:00, 672.37 it/sec]\n    INFO - 09:10:55:     33%|\u2588\u2588\u2588\u258e      | 162/496 [00:00&lt;00:00, 672.55 it/sec]\n    INFO - 09:10:55:     33%|\u2588\u2588\u2588\u258e      | 163/496 [00:00&lt;00:00, 672.71 it/sec]\n    INFO - 09:10:55:     33%|\u2588\u2588\u2588\u258e      | 164/496 [00:00&lt;00:00, 672.77 it/sec]\n    INFO - 09:10:55:     33%|\u2588\u2588\u2588\u258e      | 165/496 [00:00&lt;00:00, 672.97 it/sec]\n    INFO - 09:10:55:     33%|\u2588\u2588\u2588\u258e      | 166/496 [00:00&lt;00:00, 673.13 it/sec]\n    INFO - 09:10:55:     34%|\u2588\u2588\u2588\u258e      | 167/496 [00:00&lt;00:00, 673.18 it/sec]\n    INFO - 09:10:55:     34%|\u2588\u2588\u2588\u258d      | 168/496 [00:00&lt;00:00, 672.78 it/sec]\n    INFO - 09:10:55:     34%|\u2588\u2588\u2588\u258d      | 169/496 [00:00&lt;00:00, 672.85 it/sec]\n    INFO - 09:10:55:     34%|\u2588\u2588\u2588\u258d      | 170/496 [00:00&lt;00:00, 672.92 it/sec]\n    INFO - 09:10:55:     34%|\u2588\u2588\u2588\u258d      | 171/496 [00:00&lt;00:00, 673.09 it/sec]\n    INFO - 09:10:55:     35%|\u2588\u2588\u2588\u258d      | 172/496 [00:00&lt;00:00, 673.19 it/sec]\n    INFO - 09:10:55:     35%|\u2588\u2588\u2588\u258d      | 173/496 [00:00&lt;00:00, 673.40 it/sec]\n    INFO - 09:10:55:     35%|\u2588\u2588\u2588\u258c      | 174/496 [00:00&lt;00:00, 673.62 it/sec]\n    INFO - 09:10:55:     35%|\u2588\u2588\u2588\u258c      | 175/496 [00:00&lt;00:00, 673.77 it/sec]\n    INFO - 09:10:55:     35%|\u2588\u2588\u2588\u258c      | 176/496 [00:00&lt;00:00, 674.01 it/sec]\n    INFO - 09:10:55:     36%|\u2588\u2588\u2588\u258c      | 177/496 [00:00&lt;00:00, 674.21 it/sec]\n    INFO - 09:10:55:     36%|\u2588\u2588\u2588\u258c      | 178/496 [00:00&lt;00:00, 674.42 it/sec]\n    INFO - 09:10:55:     36%|\u2588\u2588\u2588\u258c      | 179/496 [00:00&lt;00:00, 674.63 it/sec]\n    INFO - 09:10:55:     36%|\u2588\u2588\u2588\u258b      | 180/496 [00:00&lt;00:00, 674.71 it/sec]\n    INFO - 09:10:55:     36%|\u2588\u2588\u2588\u258b      | 181/496 [00:00&lt;00:00, 674.94 it/sec]\n    INFO - 09:10:55:     37%|\u2588\u2588\u2588\u258b      | 182/496 [00:00&lt;00:00, 675.11 it/sec]\n    INFO - 09:10:55:     37%|\u2588\u2588\u2588\u258b      | 183/496 [00:00&lt;00:00, 675.28 it/sec]\n    INFO - 09:10:55:     37%|\u2588\u2588\u2588\u258b      | 184/496 [00:00&lt;00:00, 675.50 it/sec]\n    INFO - 09:10:55:     37%|\u2588\u2588\u2588\u258b      | 185/496 [00:00&lt;00:00, 675.69 it/sec]\n    INFO - 09:10:55:     38%|\u2588\u2588\u2588\u258a      | 186/496 [00:00&lt;00:00, 675.44 it/sec]\n    INFO - 09:10:55:     38%|\u2588\u2588\u2588\u258a      | 187/496 [00:00&lt;00:00, 675.53 it/sec]\n    INFO - 09:10:55:     38%|\u2588\u2588\u2588\u258a      | 188/496 [00:00&lt;00:00, 675.76 it/sec]\n    INFO - 09:10:55:     38%|\u2588\u2588\u2588\u258a      | 189/496 [00:00&lt;00:00, 675.90 it/sec]\n    INFO - 09:10:55:     38%|\u2588\u2588\u2588\u258a      | 190/496 [00:00&lt;00:00, 676.02 it/sec]\n    INFO - 09:10:55:     39%|\u2588\u2588\u2588\u258a      | 191/496 [00:00&lt;00:00, 676.08 it/sec]\n    INFO - 09:10:55:     39%|\u2588\u2588\u2588\u258a      | 192/496 [00:00&lt;00:00, 676.13 it/sec]\n    INFO - 09:10:55:     39%|\u2588\u2588\u2588\u2589      | 193/496 [00:00&lt;00:00, 676.10 it/sec]\n    INFO - 09:10:55:     39%|\u2588\u2588\u2588\u2589      | 194/496 [00:00&lt;00:00, 676.23 it/sec]\n    INFO - 09:10:55:     39%|\u2588\u2588\u2588\u2589      | 195/496 [00:00&lt;00:00, 676.35 it/sec]\n    INFO - 09:10:55:     40%|\u2588\u2588\u2588\u2589      | 196/496 [00:00&lt;00:00, 676.47 it/sec]\n    INFO - 09:10:55:     40%|\u2588\u2588\u2588\u2589      | 197/496 [00:00&lt;00:00, 676.70 it/sec]\n    INFO - 09:10:55:     40%|\u2588\u2588\u2588\u2589      | 198/496 [00:00&lt;00:00, 676.91 it/sec]\n    INFO - 09:10:55:     40%|\u2588\u2588\u2588\u2588      | 199/496 [00:00&lt;00:00, 677.01 it/sec]\n    INFO - 09:10:55:     40%|\u2588\u2588\u2588\u2588      | 200/496 [00:00&lt;00:00, 677.10 it/sec]\n    INFO - 09:10:55:     41%|\u2588\u2588\u2588\u2588      | 201/496 [00:00&lt;00:00, 677.05 it/sec]\n    INFO - 09:10:55:     41%|\u2588\u2588\u2588\u2588      | 202/496 [00:00&lt;00:00, 677.25 it/sec]\n    INFO - 09:10:55:     41%|\u2588\u2588\u2588\u2588      | 203/496 [00:00&lt;00:00, 677.42 it/sec]\n    INFO - 09:10:55:     41%|\u2588\u2588\u2588\u2588      | 204/496 [00:00&lt;00:00, 677.59 it/sec]\n    INFO - 09:10:55:     41%|\u2588\u2588\u2588\u2588\u258f     | 205/496 [00:00&lt;00:00, 677.78 it/sec]\n    INFO - 09:10:55:     42%|\u2588\u2588\u2588\u2588\u258f     | 206/496 [00:00&lt;00:00, 677.92 it/sec]\n    INFO - 09:10:55:     42%|\u2588\u2588\u2588\u2588\u258f     | 207/496 [00:00&lt;00:00, 678.15 it/sec]\n    INFO - 09:10:55:     42%|\u2588\u2588\u2588\u2588\u258f     | 208/496 [00:00&lt;00:00, 678.29 it/sec]\n    INFO - 09:10:55:     42%|\u2588\u2588\u2588\u2588\u258f     | 209/496 [00:00&lt;00:00, 678.46 it/sec]\n    INFO - 09:10:55:     42%|\u2588\u2588\u2588\u2588\u258f     | 210/496 [00:00&lt;00:00, 678.61 it/sec]\n    INFO - 09:10:55:     43%|\u2588\u2588\u2588\u2588\u258e     | 211/496 [00:00&lt;00:00, 678.59 it/sec]\n    INFO - 09:10:55:     43%|\u2588\u2588\u2588\u2588\u258e     | 212/496 [00:00&lt;00:00, 678.72 it/sec]\n    INFO - 09:10:55:     43%|\u2588\u2588\u2588\u2588\u258e     | 213/496 [00:00&lt;00:00, 678.88 it/sec]\n    INFO - 09:10:55:     43%|\u2588\u2588\u2588\u2588\u258e     | 214/496 [00:00&lt;00:00, 678.95 it/sec]\n    INFO - 09:10:55:     43%|\u2588\u2588\u2588\u2588\u258e     | 215/496 [00:00&lt;00:00, 679.06 it/sec]\n    INFO - 09:10:55:     44%|\u2588\u2588\u2588\u2588\u258e     | 216/496 [00:00&lt;00:00, 679.21 it/sec]\n    INFO - 09:10:55:     44%|\u2588\u2588\u2588\u2588\u258d     | 217/496 [00:00&lt;00:00, 679.36 it/sec]\n    INFO - 09:10:55:     44%|\u2588\u2588\u2588\u2588\u258d     | 218/496 [00:00&lt;00:00, 679.50 it/sec]\n    INFO - 09:10:55:     44%|\u2588\u2588\u2588\u2588\u258d     | 219/496 [00:00&lt;00:00, 679.58 it/sec]\n    INFO - 09:10:55:     44%|\u2588\u2588\u2588\u2588\u258d     | 220/496 [00:00&lt;00:00, 679.49 it/sec]\n    INFO - 09:10:55:     45%|\u2588\u2588\u2588\u2588\u258d     | 221/496 [00:00&lt;00:00, 679.66 it/sec]\n    INFO - 09:10:55:     45%|\u2588\u2588\u2588\u2588\u258d     | 222/496 [00:00&lt;00:00, 679.80 it/sec]\n    INFO - 09:10:55:     45%|\u2588\u2588\u2588\u2588\u258d     | 223/496 [00:00&lt;00:00, 679.97 it/sec]\n    INFO - 09:10:55:     45%|\u2588\u2588\u2588\u2588\u258c     | 224/496 [00:00&lt;00:00, 680.05 it/sec]\n    INFO - 09:10:55:     45%|\u2588\u2588\u2588\u2588\u258c     | 225/496 [00:00&lt;00:00, 680.11 it/sec]\n    INFO - 09:10:55:     46%|\u2588\u2588\u2588\u2588\u258c     | 226/496 [00:00&lt;00:00, 680.25 it/sec]\n    INFO - 09:10:55:     46%|\u2588\u2588\u2588\u2588\u258c     | 227/496 [00:00&lt;00:00, 680.23 it/sec]\n    INFO - 09:10:55:     46%|\u2588\u2588\u2588\u2588\u258c     | 228/496 [00:00&lt;00:00, 680.33 it/sec]\n    INFO - 09:10:55:     46%|\u2588\u2588\u2588\u2588\u258c     | 229/496 [00:00&lt;00:00, 680.49 it/sec]\n    INFO - 09:10:55:     46%|\u2588\u2588\u2588\u2588\u258b     | 230/496 [00:00&lt;00:00, 680.59 it/sec]\n    INFO - 09:10:55:     47%|\u2588\u2588\u2588\u2588\u258b     | 231/496 [00:00&lt;00:00, 680.60 it/sec]\n    INFO - 09:10:55:     47%|\u2588\u2588\u2588\u2588\u258b     | 232/496 [00:00&lt;00:00, 680.71 it/sec]\n    INFO - 09:10:55:     47%|\u2588\u2588\u2588\u2588\u258b     | 233/496 [00:00&lt;00:00, 680.90 it/sec]\n    INFO - 09:10:55:     47%|\u2588\u2588\u2588\u2588\u258b     | 234/496 [00:00&lt;00:00, 680.79 it/sec]\n    INFO - 09:10:55:     47%|\u2588\u2588\u2588\u2588\u258b     | 235/496 [00:00&lt;00:00, 680.89 it/sec]\n    INFO - 09:10:55:     48%|\u2588\u2588\u2588\u2588\u258a     | 236/496 [00:00&lt;00:00, 680.98 it/sec]\n    INFO - 09:10:55:     48%|\u2588\u2588\u2588\u2588\u258a     | 237/496 [00:00&lt;00:00, 681.04 it/sec]\n    INFO - 09:10:55:     48%|\u2588\u2588\u2588\u2588\u258a     | 238/496 [00:00&lt;00:00, 681.15 it/sec]\n    INFO - 09:10:55:     48%|\u2588\u2588\u2588\u2588\u258a     | 239/496 [00:00&lt;00:00, 681.14 it/sec]\n    INFO - 09:10:55:     48%|\u2588\u2588\u2588\u2588\u258a     | 240/496 [00:00&lt;00:00, 681.30 it/sec]\n    INFO - 09:10:55:     49%|\u2588\u2588\u2588\u2588\u258a     | 241/496 [00:00&lt;00:00, 681.41 it/sec]\n    INFO - 09:10:55:     49%|\u2588\u2588\u2588\u2588\u2589     | 242/496 [00:00&lt;00:00, 681.45 it/sec]\n    INFO - 09:10:55:     49%|\u2588\u2588\u2588\u2588\u2589     | 243/496 [00:00&lt;00:00, 681.49 it/sec]\n    INFO - 09:10:55:     49%|\u2588\u2588\u2588\u2588\u2589     | 244/496 [00:00&lt;00:00, 681.64 it/sec]\n    INFO - 09:10:55:     49%|\u2588\u2588\u2588\u2588\u2589     | 245/496 [00:00&lt;00:00, 681.73 it/sec]\n    INFO - 09:10:55:     50%|\u2588\u2588\u2588\u2588\u2589     | 246/496 [00:00&lt;00:00, 681.83 it/sec]\n    INFO - 09:10:55:     50%|\u2588\u2588\u2588\u2588\u2589     | 247/496 [00:00&lt;00:00, 681.98 it/sec]\n    INFO - 09:10:55:     50%|\u2588\u2588\u2588\u2588\u2588     | 248/496 [00:00&lt;00:00, 682.04 it/sec]\n    INFO - 09:10:56:     50%|\u2588\u2588\u2588\u2588\u2588     | 249/496 [00:00&lt;00:00, 682.14 it/sec]\n    INFO - 09:10:56:     50%|\u2588\u2588\u2588\u2588\u2588     | 250/496 [00:00&lt;00:00, 682.27 it/sec]\n    INFO - 09:10:56:     51%|\u2588\u2588\u2588\u2588\u2588     | 251/496 [00:00&lt;00:00, 682.25 it/sec]\n    INFO - 09:10:56:     51%|\u2588\u2588\u2588\u2588\u2588     | 252/496 [00:00&lt;00:00, 682.35 it/sec]\n    INFO - 09:10:56:     51%|\u2588\u2588\u2588\u2588\u2588     | 253/496 [00:00&lt;00:00, 682.25 it/sec]\n    INFO - 09:10:56:     51%|\u2588\u2588\u2588\u2588\u2588     | 254/496 [00:00&lt;00:00, 681.85 it/sec]\n    INFO - 09:10:56:     51%|\u2588\u2588\u2588\u2588\u2588\u258f    | 255/496 [00:00&lt;00:00, 681.80 it/sec]\n    INFO - 09:10:56:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 256/496 [00:00&lt;00:00, 681.74 it/sec]\n    INFO - 09:10:56:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 257/496 [00:00&lt;00:00, 681.43 it/sec]\n    INFO - 09:10:56:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 258/496 [00:00&lt;00:00, 681.45 it/sec]\n    INFO - 09:10:56:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 259/496 [00:00&lt;00:00, 681.58 it/sec]\n    INFO - 09:10:56:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 260/496 [00:00&lt;00:00, 681.69 it/sec]\n    INFO - 09:10:56:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 261/496 [00:00&lt;00:00, 681.66 it/sec]\n    INFO - 09:10:56:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 262/496 [00:00&lt;00:00, 681.66 it/sec]\n    INFO - 09:10:56:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 263/496 [00:00&lt;00:00, 681.73 it/sec]\n    INFO - 09:10:56:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 264/496 [00:00&lt;00:00, 681.85 it/sec]\n    INFO - 09:10:56:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 265/496 [00:00&lt;00:00, 681.93 it/sec]\n    INFO - 09:10:56:     54%|\u2588\u2588\u2588\u2588\u2588\u258e    | 266/496 [00:00&lt;00:00, 681.95 it/sec]\n    INFO - 09:10:56:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 267/496 [00:00&lt;00:00, 681.99 it/sec]\n    INFO - 09:10:56:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 268/496 [00:00&lt;00:00, 682.04 it/sec]\n    INFO - 09:10:56:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 269/496 [00:00&lt;00:00, 681.99 it/sec]\n    INFO - 09:10:56:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 270/496 [00:00&lt;00:00, 681.92 it/sec]\n    INFO - 09:10:56:     55%|\u2588\u2588\u2588\u2588\u2588\u258d    | 271/496 [00:00&lt;00:00, 681.96 it/sec]\n    INFO - 09:10:56:     55%|\u2588\u2588\u2588\u2588\u2588\u258d    | 272/496 [00:00&lt;00:00, 681.97 it/sec]\n    INFO - 09:10:56:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 273/496 [00:00&lt;00:00, 681.96 it/sec]\n    INFO - 09:10:56:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 274/496 [00:00&lt;00:00, 682.08 it/sec]\n    INFO - 09:10:56:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 275/496 [00:00&lt;00:00, 681.98 it/sec]\n    INFO - 09:10:56:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 276/496 [00:00&lt;00:00, 681.94 it/sec]\n    INFO - 09:10:56:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 277/496 [00:00&lt;00:00, 681.89 it/sec]\n    INFO - 09:10:56:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 278/496 [00:00&lt;00:00, 681.76 it/sec]\n    INFO - 09:10:56:     56%|\u2588\u2588\u2588\u2588\u2588\u258b    | 279/496 [00:00&lt;00:00, 681.81 it/sec]\n    INFO - 09:10:56:     56%|\u2588\u2588\u2588\u2588\u2588\u258b    | 280/496 [00:00&lt;00:00, 681.74 it/sec]\n    INFO - 09:10:56:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 281/496 [00:00&lt;00:00, 681.75 it/sec]\n    INFO - 09:10:56:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 282/496 [00:00&lt;00:00, 681.69 it/sec]\n    INFO - 09:10:56:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 283/496 [00:00&lt;00:00, 681.71 it/sec]\n    INFO - 09:10:56:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 284/496 [00:00&lt;00:00, 681.79 it/sec]\n    INFO - 09:10:56:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 285/496 [00:00&lt;00:00, 681.85 it/sec]\n    INFO - 09:10:56:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 286/496 [00:00&lt;00:00, 681.74 it/sec]\n    INFO - 09:10:56:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 287/496 [00:00&lt;00:00, 681.71 it/sec]\n    INFO - 09:10:56:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 288/496 [00:00&lt;00:00, 681.78 it/sec]\n    INFO - 09:10:56:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 289/496 [00:00&lt;00:00, 681.84 it/sec]\n    INFO - 09:10:56:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 290/496 [00:00&lt;00:00, 681.96 it/sec]\n    INFO - 09:10:56:     59%|\u2588\u2588\u2588\u2588\u2588\u258a    | 291/496 [00:00&lt;00:00, 682.03 it/sec]\n    INFO - 09:10:56:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 292/496 [00:00&lt;00:00, 682.15 it/sec]\n    INFO - 09:10:56:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 293/496 [00:00&lt;00:00, 682.25 it/sec]\n    INFO - 09:10:56:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 294/496 [00:00&lt;00:00, 682.27 it/sec]\n    INFO - 09:10:56:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 295/496 [00:00&lt;00:00, 681.04 it/sec]\n    INFO - 09:10:56:     60%|\u2588\u2588\u2588\u2588\u2588\u2589    | 296/496 [00:00&lt;00:00, 681.04 it/sec]\n    INFO - 09:10:56:     60%|\u2588\u2588\u2588\u2588\u2588\u2589    | 297/496 [00:00&lt;00:00, 681.09 it/sec]\n    INFO - 09:10:56:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 298/496 [00:00&lt;00:00, 681.13 it/sec]\n    INFO - 09:10:56:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 299/496 [00:00&lt;00:00, 681.18 it/sec]\n    INFO - 09:10:56:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 300/496 [00:00&lt;00:00, 681.24 it/sec]\n    INFO - 09:10:56:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 301/496 [00:00&lt;00:00, 681.21 it/sec]\n    INFO - 09:10:56:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 302/496 [00:00&lt;00:00, 681.25 it/sec]\n    INFO - 09:10:56:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 303/496 [00:00&lt;00:00, 681.32 it/sec]\n    INFO - 09:10:56:     61%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 304/496 [00:00&lt;00:00, 681.35 it/sec]\n    INFO - 09:10:56:     61%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 305/496 [00:00&lt;00:00, 681.42 it/sec]\n    INFO - 09:10:56:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 306/496 [00:00&lt;00:00, 681.50 it/sec]\n    INFO - 09:10:56:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 307/496 [00:00&lt;00:00, 681.54 it/sec]\n    INFO - 09:10:56:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 308/496 [00:00&lt;00:00, 681.62 it/sec]\n    INFO - 09:10:56:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 309/496 [00:00&lt;00:00, 681.46 it/sec]\n    INFO - 09:10:56:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 310/496 [00:00&lt;00:00, 681.47 it/sec]\n    INFO - 09:10:56:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 311/496 [00:00&lt;00:00, 681.55 it/sec]\n    INFO - 09:10:56:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 312/496 [00:00&lt;00:00, 681.66 it/sec]\n    INFO - 09:10:56:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 313/496 [00:00&lt;00:00, 681.74 it/sec]\n    INFO - 09:10:56:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 314/496 [00:00&lt;00:00, 681.62 it/sec]\n    INFO - 09:10:56:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 315/496 [00:00&lt;00:00, 681.63 it/sec]\n    INFO - 09:10:56:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 316/496 [00:00&lt;00:00, 681.69 it/sec]\n    INFO - 09:10:56:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 317/496 [00:00&lt;00:00, 681.51 it/sec]\n    INFO - 09:10:56:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 318/496 [00:00&lt;00:00, 681.15 it/sec]\n    INFO - 09:10:56:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 319/496 [00:00&lt;00:00, 681.09 it/sec]\n    INFO - 09:10:56:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 320/496 [00:00&lt;00:00, 681.15 it/sec]\n    INFO - 09:10:56:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 321/496 [00:00&lt;00:00, 681.22 it/sec]\n    INFO - 09:10:56:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 322/496 [00:00&lt;00:00, 681.28 it/sec]\n    INFO - 09:10:56:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 323/496 [00:00&lt;00:00, 681.38 it/sec]\n    INFO - 09:10:56:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 324/496 [00:00&lt;00:00, 681.37 it/sec]\n    INFO - 09:10:56:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 325/496 [00:00&lt;00:00, 681.44 it/sec]\n    INFO - 09:10:56:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 326/496 [00:00&lt;00:00, 681.52 it/sec]\n    INFO - 09:10:56:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 327/496 [00:00&lt;00:00, 681.57 it/sec]\n    INFO - 09:10:56:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 328/496 [00:00&lt;00:00, 681.69 it/sec]\n    INFO - 09:10:56:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 329/496 [00:00&lt;00:00, 681.76 it/sec]\n    INFO - 09:10:56:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 330/496 [00:00&lt;00:00, 681.83 it/sec]\n    INFO - 09:10:56:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 331/496 [00:00&lt;00:00, 681.86 it/sec]\n    INFO - 09:10:56:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 332/496 [00:00&lt;00:00, 681.85 it/sec]\n    INFO - 09:10:56:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 333/496 [00:00&lt;00:00, 681.84 it/sec]\n    INFO - 09:10:56:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 334/496 [00:00&lt;00:00, 681.94 it/sec]\n    INFO - 09:10:56:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 335/496 [00:00&lt;00:00, 682.06 it/sec]\n    INFO - 09:10:56:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 336/496 [00:00&lt;00:00, 682.04 it/sec]\n    INFO - 09:10:56:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 337/496 [00:00&lt;00:00, 682.12 it/sec]\n    INFO - 09:10:56:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 338/496 [00:00&lt;00:00, 682.10 it/sec]\n    INFO - 09:10:56:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 339/496 [00:00&lt;00:00, 682.12 it/sec]\n    INFO - 09:10:56:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 340/496 [00:00&lt;00:00, 682.18 it/sec]\n    INFO - 09:10:56:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 341/496 [00:00&lt;00:00, 682.19 it/sec]\n    INFO - 09:10:56:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 342/496 [00:00&lt;00:00, 682.26 it/sec]\n    INFO - 09:10:56:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 343/496 [00:00&lt;00:00, 682.24 it/sec]\n    INFO - 09:10:56:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 344/496 [00:00&lt;00:00, 682.29 it/sec]\n    INFO - 09:10:56:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 345/496 [00:00&lt;00:00, 682.31 it/sec]\n    INFO - 09:10:56:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 346/496 [00:00&lt;00:00, 682.22 it/sec]\n    INFO - 09:10:56:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 347/496 [00:00&lt;00:00, 682.20 it/sec]\n    INFO - 09:10:56:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 348/496 [00:00&lt;00:00, 682.24 it/sec]\n    INFO - 09:10:56:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 349/496 [00:00&lt;00:00, 682.29 it/sec]\n    INFO - 09:10:56:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 350/496 [00:00&lt;00:00, 682.38 it/sec]\n    INFO - 09:10:56:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 351/496 [00:00&lt;00:00, 682.41 it/sec]\n    INFO - 09:10:56:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 352/496 [00:00&lt;00:00, 682.43 it/sec]\n    INFO - 09:10:56:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 353/496 [00:00&lt;00:00, 682.45 it/sec]\n    INFO - 09:10:56:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 354/496 [00:00&lt;00:00, 682.47 it/sec]\n    INFO - 09:10:56:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 355/496 [00:00&lt;00:00, 682.57 it/sec]\n    INFO - 09:10:56:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 356/496 [00:00&lt;00:00, 682.64 it/sec]\n    INFO - 09:10:56:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 357/496 [00:00&lt;00:00, 682.68 it/sec]\n    INFO - 09:10:56:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 358/496 [00:00&lt;00:00, 682.75 it/sec]\n    INFO - 09:10:56:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 359/496 [00:00&lt;00:00, 682.83 it/sec]\n    INFO - 09:10:56:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 360/496 [00:00&lt;00:00, 682.90 it/sec]\n    INFO - 09:10:56:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 361/496 [00:00&lt;00:00, 682.89 it/sec]\n    INFO - 09:10:56:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 362/496 [00:00&lt;00:00, 682.96 it/sec]\n    INFO - 09:10:56:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 363/496 [00:00&lt;00:00, 683.02 it/sec]\n    INFO - 09:10:56:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 364/496 [00:00&lt;00:00, 683.13 it/sec]\n    INFO - 09:10:56:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 365/496 [00:00&lt;00:00, 683.21 it/sec]\n    INFO - 09:10:56:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 366/496 [00:00&lt;00:00, 683.16 it/sec]\n    INFO - 09:10:56:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 367/496 [00:00&lt;00:00, 683.23 it/sec]\n    INFO - 09:10:56:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 368/496 [00:00&lt;00:00, 683.26 it/sec]\n    INFO - 09:10:56:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 369/496 [00:00&lt;00:00, 683.35 it/sec]\n    INFO - 09:10:56:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 370/496 [00:00&lt;00:00, 683.25 it/sec]\n    INFO - 09:10:56:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 371/496 [00:00&lt;00:00, 683.35 it/sec]\n    INFO - 09:10:56:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 372/496 [00:00&lt;00:00, 683.43 it/sec]\n    INFO - 09:10:56:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 373/496 [00:00&lt;00:00, 683.47 it/sec]\n    INFO - 09:10:56:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 374/496 [00:00&lt;00:00, 683.57 it/sec]\n    INFO - 09:10:56:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 375/496 [00:00&lt;00:00, 683.56 it/sec]\n    INFO - 09:10:56:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 376/496 [00:00&lt;00:00, 683.63 it/sec]\n    INFO - 09:10:56:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 377/496 [00:00&lt;00:00, 683.69 it/sec]\n    INFO - 09:10:56:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 378/496 [00:00&lt;00:00, 683.72 it/sec]\n    INFO - 09:10:56:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 379/496 [00:00&lt;00:00, 683.83 it/sec]\n    INFO - 09:10:56:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 380/496 [00:00&lt;00:00, 683.84 it/sec]\n    INFO - 09:10:56:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 381/496 [00:00&lt;00:00, 683.93 it/sec]\n    INFO - 09:10:56:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 382/496 [00:00&lt;00:00, 683.89 it/sec]\n    INFO - 09:10:56:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 383/496 [00:00&lt;00:00, 683.97 it/sec]\n    INFO - 09:10:56:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 384/496 [00:00&lt;00:00, 684.05 it/sec]\n    INFO - 09:10:56:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 385/496 [00:00&lt;00:00, 684.08 it/sec]\n    INFO - 09:10:56:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 386/496 [00:00&lt;00:00, 684.18 it/sec]\n    INFO - 09:10:56:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 387/496 [00:00&lt;00:00, 684.23 it/sec]\n    INFO - 09:10:56:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 388/496 [00:00&lt;00:00, 684.30 it/sec]\n    INFO - 09:10:56:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 389/496 [00:00&lt;00:00, 684.37 it/sec]\n    INFO - 09:10:56:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 390/496 [00:00&lt;00:00, 684.44 it/sec]\n    INFO - 09:10:56:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 391/496 [00:00&lt;00:00, 684.55 it/sec]\n    INFO - 09:10:56:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 392/496 [00:00&lt;00:00, 684.57 it/sec]\n    INFO - 09:10:56:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 393/496 [00:00&lt;00:00, 684.60 it/sec]\n    INFO - 09:10:56:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 394/496 [00:00&lt;00:00, 684.62 it/sec]\n    INFO - 09:10:56:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 395/496 [00:00&lt;00:00, 684.61 it/sec]\n    INFO - 09:10:56:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 396/496 [00:00&lt;00:00, 684.57 it/sec]\n    INFO - 09:10:56:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 397/496 [00:00&lt;00:00, 684.61 it/sec]\n    INFO - 09:10:56:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 398/496 [00:00&lt;00:00, 684.67 it/sec]\n    INFO - 09:10:56:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 399/496 [00:00&lt;00:00, 684.73 it/sec]\n    INFO - 09:10:56:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 400/496 [00:00&lt;00:00, 684.82 it/sec]\n    INFO - 09:10:56:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 401/496 [00:00&lt;00:00, 684.85 it/sec]\n    INFO - 09:10:56:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 402/496 [00:00&lt;00:00, 684.92 it/sec]\n    INFO - 09:10:56:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 403/496 [00:00&lt;00:00, 684.98 it/sec]\n    INFO - 09:10:56:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 404/496 [00:00&lt;00:00, 684.99 it/sec]\n    INFO - 09:10:56:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 405/496 [00:00&lt;00:00, 685.07 it/sec]\n    INFO - 09:10:56:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 406/496 [00:00&lt;00:00, 685.09 it/sec]\n    INFO - 09:10:56:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 407/496 [00:00&lt;00:00, 685.17 it/sec]\n    INFO - 09:10:56:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 408/496 [00:00&lt;00:00, 685.19 it/sec]\n    INFO - 09:10:56:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 409/496 [00:00&lt;00:00, 685.28 it/sec]\n    INFO - 09:10:56:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 410/496 [00:00&lt;00:00, 685.37 it/sec]\n    INFO - 09:10:56:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 411/496 [00:00&lt;00:00, 685.41 it/sec]\n    INFO - 09:10:56:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 412/496 [00:00&lt;00:00, 685.51 it/sec]\n    INFO - 09:10:56:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 413/496 [00:00&lt;00:00, 685.57 it/sec]\n    INFO - 09:10:56:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 414/496 [00:00&lt;00:00, 685.62 it/sec]\n    INFO - 09:10:56:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 415/496 [00:00&lt;00:00, 685.70 it/sec]\n    INFO - 09:10:56:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 416/496 [00:00&lt;00:00, 685.70 it/sec]\n    INFO - 09:10:56:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 417/496 [00:00&lt;00:00, 685.76 it/sec]\n    INFO - 09:10:56:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 418/496 [00:00&lt;00:00, 685.79 it/sec]\n    INFO - 09:10:56:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 419/496 [00:00&lt;00:00, 685.88 it/sec]\n    INFO - 09:10:56:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 420/496 [00:00&lt;00:00, 685.92 it/sec]\n    INFO - 09:10:56:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 421/496 [00:00&lt;00:00, 685.94 it/sec]\n    INFO - 09:10:56:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 422/496 [00:00&lt;00:00, 685.99 it/sec]\n    INFO - 09:10:56:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 423/496 [00:00&lt;00:00, 686.02 it/sec]\n    INFO - 09:10:56:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 424/496 [00:00&lt;00:00, 686.09 it/sec]\n    INFO - 09:10:56:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 425/496 [00:00&lt;00:00, 686.12 it/sec]\n    INFO - 09:10:56:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 426/496 [00:00&lt;00:00, 686.12 it/sec]\n    INFO - 09:10:56:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 427/496 [00:00&lt;00:00, 686.10 it/sec]\n    INFO - 09:10:56:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 428/496 [00:00&lt;00:00, 686.14 it/sec]\n    INFO - 09:10:56:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 429/496 [00:00&lt;00:00, 686.18 it/sec]\n    INFO - 09:10:56:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 430/496 [00:00&lt;00:00, 686.17 it/sec]\n    INFO - 09:10:56:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 431/496 [00:00&lt;00:00, 686.22 it/sec]\n    INFO - 09:10:56:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 432/496 [00:00&lt;00:00, 686.23 it/sec]\n    INFO - 09:10:56:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 433/496 [00:00&lt;00:00, 686.27 it/sec]\n    INFO - 09:10:56:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 434/496 [00:00&lt;00:00, 686.30 it/sec]\n    INFO - 09:10:56:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 435/496 [00:00&lt;00:00, 686.36 it/sec]\n    INFO - 09:10:56:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 436/496 [00:00&lt;00:00, 686.37 it/sec]\n    INFO - 09:10:56:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 437/496 [00:00&lt;00:00, 686.38 it/sec]\n    INFO - 09:10:56:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 438/496 [00:00&lt;00:00, 686.45 it/sec]\n    INFO - 09:10:56:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 439/496 [00:00&lt;00:00, 686.49 it/sec]\n    INFO - 09:10:56:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 440/496 [00:00&lt;00:00, 686.55 it/sec]\n    INFO - 09:10:56:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 441/496 [00:00&lt;00:00, 686.63 it/sec]\n    INFO - 09:10:56:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 442/496 [00:00&lt;00:00, 686.64 it/sec]\n    INFO - 09:10:56:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 443/496 [00:00&lt;00:00, 686.69 it/sec]\n    INFO - 09:10:56:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 444/496 [00:00&lt;00:00, 686.69 it/sec]\n    INFO - 09:10:56:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 445/496 [00:00&lt;00:00, 686.65 it/sec]\n    INFO - 09:10:56:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 446/496 [00:00&lt;00:00, 686.68 it/sec]\n    INFO - 09:10:56:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 447/496 [00:00&lt;00:00, 686.74 it/sec]\n    INFO - 09:10:56:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 448/496 [00:00&lt;00:00, 686.72 it/sec]\n    INFO - 09:10:56:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 449/496 [00:00&lt;00:00, 686.73 it/sec]\n    INFO - 09:10:56:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 450/496 [00:00&lt;00:00, 686.77 it/sec]\n    INFO - 09:10:56:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 451/496 [00:00&lt;00:00, 686.75 it/sec]\n    INFO - 09:10:56:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 452/496 [00:00&lt;00:00, 686.81 it/sec]\n    INFO - 09:10:56:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 453/496 [00:00&lt;00:00, 686.84 it/sec]\n    INFO - 09:10:56:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 454/496 [00:00&lt;00:00, 686.89 it/sec]\n    INFO - 09:10:56:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 455/496 [00:00&lt;00:00, 686.92 it/sec]\n    INFO - 09:10:56:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 456/496 [00:00&lt;00:00, 686.94 it/sec]\n    INFO - 09:10:56:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 457/496 [00:00&lt;00:00, 687.00 it/sec]\n    INFO - 09:10:56:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 458/496 [00:00&lt;00:00, 687.02 it/sec]\n    INFO - 09:10:56:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 459/496 [00:00&lt;00:00, 687.07 it/sec]\n    INFO - 09:10:56:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 460/496 [00:00&lt;00:00, 687.08 it/sec]\n    INFO - 09:10:56:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 461/496 [00:00&lt;00:00, 687.11 it/sec]\n    INFO - 09:10:56:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 462/496 [00:00&lt;00:00, 687.15 it/sec]\n    INFO - 09:10:56:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 463/496 [00:00&lt;00:00, 687.18 it/sec]\n    INFO - 09:10:56:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 464/496 [00:00&lt;00:00, 687.20 it/sec]\n    INFO - 09:10:56:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 465/496 [00:00&lt;00:00, 687.22 it/sec]\n    INFO - 09:10:56:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 466/496 [00:00&lt;00:00, 687.27 it/sec]\n    INFO - 09:10:56:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 467/496 [00:00&lt;00:00, 687.16 it/sec]\n    INFO - 09:10:56:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 468/496 [00:00&lt;00:00, 687.21 it/sec]\n    INFO - 09:10:56:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 469/496 [00:00&lt;00:00, 687.25 it/sec]\n    INFO - 09:10:56:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 470/496 [00:00&lt;00:00, 687.25 it/sec]\n    INFO - 09:10:56:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 471/496 [00:00&lt;00:00, 687.32 it/sec]\n    INFO - 09:10:56:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 472/496 [00:00&lt;00:00, 687.34 it/sec]\n    INFO - 09:10:56:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 473/496 [00:00&lt;00:00, 687.38 it/sec]\n    INFO - 09:10:56:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 474/496 [00:00&lt;00:00, 687.27 it/sec]\n    INFO - 09:10:56:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 475/496 [00:00&lt;00:00, 687.30 it/sec]\n    INFO - 09:10:56:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 476/496 [00:00&lt;00:00, 687.31 it/sec]\n    INFO - 09:10:56:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 477/496 [00:00&lt;00:00, 687.37 it/sec]\n    INFO - 09:10:56:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 478/496 [00:00&lt;00:00, 687.38 it/sec]\n    INFO - 09:10:56:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 479/496 [00:00&lt;00:00, 687.41 it/sec]\n    INFO - 09:10:56:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 480/496 [00:00&lt;00:00, 687.47 it/sec]\n    INFO - 09:10:56:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 481/496 [00:00&lt;00:00, 687.48 it/sec]\n    INFO - 09:10:56:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 482/496 [00:00&lt;00:00, 687.53 it/sec]\n    INFO - 09:10:56:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 483/496 [00:00&lt;00:00, 687.53 it/sec]\n    INFO - 09:10:56:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 484/496 [00:00&lt;00:00, 687.57 it/sec]\n    INFO - 09:10:56:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 485/496 [00:00&lt;00:00, 687.62 it/sec]\n    INFO - 09:10:56:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 486/496 [00:00&lt;00:00, 687.56 it/sec]\n    INFO - 09:10:56:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 487/496 [00:00&lt;00:00, 687.59 it/sec]\n    INFO - 09:10:56:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 488/496 [00:00&lt;00:00, 687.61 it/sec]\n    INFO - 09:10:56:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 489/496 [00:00&lt;00:00, 687.66 it/sec]\n    INFO - 09:10:56:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 490/496 [00:00&lt;00:00, 687.60 it/sec]\n    INFO - 09:10:56:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 491/496 [00:00&lt;00:00, 687.60 it/sec]\n    INFO - 09:10:56:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 492/496 [00:00&lt;00:00, 687.52 it/sec]\n    INFO - 09:10:56:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 493/496 [00:00&lt;00:00, 687.51 it/sec]\n    INFO - 09:10:56:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 494/496 [00:00&lt;00:00, 687.44 it/sec]\n    INFO - 09:10:56:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 495/496 [00:00&lt;00:00, 686.98 it/sec]\n    INFO - 09:10:56:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 496/496 [00:00&lt;00:00, 687.01 it/sec]\n    INFO - 09:10:56: *** End SobolAnalysisSamplingPhase execution (time: 0:00:00.736694) ***\n\n&lt;gemseo.post.dataset.surfaces.Surfaces object at 0x79ed12795e20&gt;\n</code></pre> <p></p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.core.chains.chain import MDOChain\nfrom gemseo.uncertainty.sensitivity.sobol_analysis import SobolAnalysis\n\nfrom gemseo_umdo.use_cases.beam_model.constraints import BeamConstraints\nfrom gemseo_umdo.use_cases.beam_model.discipline import Beam\nfrom gemseo_umdo.use_cases.beam_model.uncertain_space import BeamUncertainSpace\n\nconfigure_logger()\n\nuncertain_space = BeamUncertainSpace()\n\nn_y = n_z = 10\n\nmdo_chain = MDOChain([Beam(n_y=n_y, n_z=n_z), BeamConstraints()])\n\nsobol = SobolAnalysis()\nsobol.compute_samples(\n    [mdo_chain], uncertain_space, 500, output_names=[\"c_displ\", \"c_stress\"]\n)\nmesh = mdo_chain.disciplines[0].io.data[\"yz_grid\"].reshape((-1, 2))\nsobol.main_method = \"total\"\nsobol.compute_indices()\nsobol.plot_field(\"c_displ\", mesh=mesh, save=False, show=True)\nsobol.plot_field(\"c_stress\", mesh=mesh, save=False, show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  2.056 seconds)</p> <p> Download Python source code: plot_beam_sa.py</p> <p> Download Jupyter notebook: plot_beam_sa.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/problems/uopt_as_umdo/mg_execution_times/","title":"Computation times","text":"<p>00:26.225 total execution time for generated_examples_problems_uopt_as_umdo files:</p> <p>+--------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_uopt_as_umdo (docs/examples/problems/uopt_as_umdo/plot_uopt_as_umdo.py) | 00:26.225 | 0.0 MB | +--------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/","title":"Make a monodisciplinary optimization under uncertainty problem multidisciplinary","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/#make-a-monodisciplinary-optimization-under-uncertainty-problem-multidisciplinary","title":"Make a monodisciplinary optimization under uncertainty problem multidisciplinary","text":""},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/#introduction","title":"Introduction","text":"<p>UOptAsUMDOScenario is a class to make a monodisciplinary optimization problem under uncertainty multidisciplinary<sup>1</sup>. The only requirement is that the discipline has at least three scalar inputs defined as design variables, and at least one output defined as an objective. These design variables may be uncertain. The discipline may also have other inputs, defined as design or uncertain variables, and outputs, defined as objectives or constraints. This scenario can be used to enrich a catalog of benchmark U-MDO problems, based on the observation that MDO benchmark problems are far less numerous than optimization problems, especially in the case of MDO under uncertainty.</p> <p>This example illustrates it in the case of the minimization of the 3-dimensional Rosenbrock function</p> \\[\\mathbb{E}[f(z,U,V)] = \\mathbb{E}[100(z_2-(Uz_1)^2)^2 + (1-Vz_1)^2 + 100(z_1-(Uz_0)^2)^2 + (1-Vz_0)^2]\\] <p>over the hypercube \\([-1,1]^3\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo import create_design_space\nfrom gemseo import create_discipline\nfrom gemseo import generate_coupling_graph\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom numpy import array\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.problems.uopt_as_umdo_scenario import UOptAsUMDOScenario\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre>"},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/#discipline-and-spaces","title":"Discipline and spaces","text":"<p>First, we create the discipline implementing the Rosenbrock function:</p> <pre><code>discipline = create_discipline(\n    \"AnalyticDiscipline\",\n    expressions={\n        \"f\": \"100*(z_2-(u*z_1)**2)**2+(1-v*z_1)**2+100*(z_1-(u*z_0)**2)**2+(1-v*z_0)**2\"\n    },\n    name=\"Rosenbrock\",\n)\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = create_design_space()\ndesign_space.add_variable(\"z_0\", lower_bound=-1, upper_bound=1)\ndesign_space.add_variable(\"z_1\", lower_bound=-1, upper_bound=1)\ndesign_space.add_variable(\"z_2\", lower_bound=-1, upper_bound=1)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\", mu=1.0, sigma=0.01)\nuncertain_space.add_random_variable(\"v\", \"OTNormalDistribution\", mu=1.0, sigma=0.01)\n</code></pre> <p>We choose \\(x^{(0)}=(-0.25, 0.75, -0.9)\\) as the starting point of the optimization:</p> <pre><code>initial_point = array([-0.25, 0.75, -0.9])\ndesign_space.set_current_value(initial_point)\n</code></pre>"},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/#optimization-problem-under-uncertainty","title":"Optimization problem under uncertainty","text":"<p>Then, we define the optimization problem under uncertainty, with statistics estimated by sampling:</p> <pre><code>u_opt_scenario = UMDOScenario(\n    [discipline],\n    \"f\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=50),\n    formulation_name=\"DisciplinaryOpt\",\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>and solve it using the SLSQP algorithm:</p> <pre><code>u_opt_scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:24: *** Start UMDOScenario execution ***\n    INFO - 09:11:24: UMDOScenario\n    INFO - 09:11:24:    Disciplines: Rosenbrock\n    INFO - 09:11:24:    Formulation:\n    INFO - 09:11:24:       MDO formulation: DisciplinaryOpt\n    INFO - 09:11:24:       Statistic estimation: Sampling\n    INFO - 09:11:24:    Uncertain space:\n    INFO - 09:11:24:       +------+----------------------------+\n    INFO - 09:11:24:       | Name |        Distribution        |\n    INFO - 09:11:24:       +------+----------------------------+\n    INFO - 09:11:24:       |  u   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:11:24:       |  v   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:11:24:       +------+----------------------------+\n    INFO - 09:11:24: Optimization problem:\n    INFO - 09:11:24:    minimize E[f]\n    INFO - 09:11:24:    with respect to z_0, z_1, z_2\n    INFO - 09:11:24:    over the design space:\n    INFO - 09:11:24:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:24:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:24:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:24:       | z_0  |      -1     | -0.25 |      1      | float |\n    INFO - 09:11:24:       | z_1  |      -1     |  0.75 |      1      | float |\n    INFO - 09:11:24:       | z_2  |      -1     |  -0.9 |      1      | float |\n    INFO - 09:11:24:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:24: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:11:24:      1%|          | 1/100 [00:00&lt;00:01, 58.90 it/sec, obj=263]\n    INFO - 09:11:24:      2%|\u258f         | 2/100 [00:00&lt;00:04, 22.22 it/sec, obj=408]\n    INFO - 09:11:24:      3%|\u258e         | 3/100 [00:00&lt;00:02, 33.24 it/sec, obj=20.2]\n    INFO - 09:11:24:      4%|\u258d         | 4/100 [00:00&lt;00:03, 24.20 it/sec, obj=168]\n    INFO - 09:11:24:      5%|\u258c         | 5/100 [00:00&lt;00:03, 30.20 it/sec, obj=8.91]\n    INFO - 09:11:24:      6%|\u258c         | 6/100 [00:00&lt;00:03, 24.95 it/sec, obj=396]\n    INFO - 09:11:24:      7%|\u258b         | 7/100 [00:00&lt;00:03, 29.08 it/sec, obj=4.06]\n    INFO - 09:11:24:      8%|\u258a         | 8/100 [00:00&lt;00:03, 25.56 it/sec, obj=152]\n    INFO - 09:11:24:      9%|\u2589         | 9/100 [00:00&lt;00:03, 28.74 it/sec, obj=3.3]\n    INFO - 09:11:24:     10%|\u2588         | 10/100 [00:00&lt;00:03, 25.40 it/sec, obj=2.09]\n    INFO - 09:11:24:     11%|\u2588         | 11/100 [00:00&lt;00:03, 25.59 it/sec, obj=2.01]\n    INFO - 09:11:24:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:03, 25.76 it/sec, obj=1.97]\n    INFO - 09:11:24:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:03, 25.92 it/sec, obj=1.92]\n    INFO - 09:11:24:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:03, 26.07 it/sec, obj=1.85]\n    INFO - 09:11:24:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:03, 26.15 it/sec, obj=1.73]\n    INFO - 09:11:24:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:03, 26.23 it/sec, obj=1.3]\n    INFO - 09:11:24:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:03, 26.32 it/sec, obj=0.996]\n    INFO - 09:11:24:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:03, 26.37 it/sec, obj=0.765]\n    INFO - 09:11:24:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:03, 26.74 it/sec, obj=2.76]\n    INFO - 09:11:24:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:02, 28.14 it/sec, obj=0.658]\n    INFO - 09:11:24:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:02, 26.49 it/sec, obj=0.438]\n    INFO - 09:11:24:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:02, 26.82 it/sec, obj=1.02]\n    INFO - 09:11:24:     23%|\u2588\u2588\u258e       | 23/100 [00:00&lt;00:02, 28.03 it/sec, obj=0.394]\n    INFO - 09:11:24:     24%|\u2588\u2588\u258d       | 24/100 [00:00&lt;00:02, 26.62 it/sec, obj=0.356]\n    INFO - 09:11:24:     25%|\u2588\u2588\u258c       | 25/100 [00:00&lt;00:02, 26.63 it/sec, obj=0.251]\n    INFO - 09:11:25:     26%|\u2588\u2588\u258c       | 26/100 [00:00&lt;00:02, 26.68 it/sec, obj=0.205]\n    INFO - 09:11:25:     27%|\u2588\u2588\u258b       | 27/100 [00:01&lt;00:02, 26.94 it/sec, obj=0.337]\n    INFO - 09:11:25:     28%|\u2588\u2588\u258a       | 28/100 [00:01&lt;00:02, 27.93 it/sec, obj=0.165]\n    INFO - 09:11:25:     29%|\u2588\u2588\u2589       | 29/100 [00:01&lt;00:02, 26.74 it/sec, obj=0.14]\n    INFO - 09:11:25:     30%|\u2588\u2588\u2588       | 30/100 [00:01&lt;00:02, 26.76 it/sec, obj=0.105]\n    INFO - 09:11:25:     31%|\u2588\u2588\u2588       | 31/100 [00:01&lt;00:02, 26.79 it/sec, obj=0.0867]\n    INFO - 09:11:25:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:01&lt;00:02, 26.83 it/sec, obj=0.0797]\n    INFO - 09:11:25:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:01&lt;00:02, 26.85 it/sec, obj=0.0715]\n    INFO - 09:11:25:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:01&lt;00:02, 26.88 it/sec, obj=0.0691]\n    INFO - 09:11:25:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:01&lt;00:02, 26.90 it/sec, obj=0.068]\n    INFO - 09:11:25:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:01&lt;00:02, 26.93 it/sec, obj=0.0677]\n    INFO - 09:11:25:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:01&lt;00:02, 26.95 it/sec, obj=0.0676]\n    INFO - 09:11:25:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:01&lt;00:02, 26.97 it/sec, obj=0.0676]\n    INFO - 09:11:25:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:01&lt;00:02, 26.98 it/sec, obj=0.0676]\n    INFO - 09:11:25:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:01&lt;00:02, 26.98 it/sec, obj=0.0676]\n    INFO - 09:11:25:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:01&lt;00:02, 26.99 it/sec, obj=0.0676]\n    INFO - 09:11:25:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:01&lt;00:02, 26.99 it/sec, obj=0.0676]\n    INFO - 09:11:25:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:01&lt;00:02, 27.15 it/sec, obj=0.0676]\n    INFO - 09:11:25:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:01&lt;00:02, 27.77 it/sec, obj=0.0676]\n    INFO - 09:11:25: Optimization result:\n    INFO - 09:11:25:    Optimizer info:\n    INFO - 09:11:25:       Status: None\n    INFO - 09:11:25:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:11:25:       Number of calls to the objective function by the optimizer: 52\n    INFO - 09:11:25:    Solution:\n    INFO - 09:11:25:       Objective: 0.06764824087948003\n    INFO - 09:11:25:       Design space:\n    INFO - 09:11:25:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:25:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:25:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:25:          | z_0  |      -1     | 0.9614208809477387 |      1      | float |\n    INFO - 09:11:25:          | z_1  |      -1     | 0.9246675884056978 |      1      | float |\n    INFO - 09:11:25:          | z_2  |      -1     | 0.8551824068901022 |      1      | float |\n    INFO - 09:11:25:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:25: *** End UMDOScenario execution (time: 0:00:01.586801) ***\n</code></pre>"},{"location":"generated/examples/problems/uopt_as_umdo/plot_uopt_as_umdo/#mdo-problem-under-uncertainty","title":"MDO problem under uncertainty","text":"<p>Now, we use the UOptAsUMDOScenario to rewrite this optimization problem under uncertainty as an MDO problem under uncertainty with two strongly coupled disciplines.</p> <p>First, we reset the design space to the initial point:</p> <pre><code>design_space.set_current_value(initial_point)\n</code></pre> <p>and create the UOptAsUMDOScenario, orchestrated by an MDF formulation:</p> <pre><code>umdo_scenario = UOptAsUMDOScenario(\n    discipline,\n    \"f\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=50),\n    formulation_name=\"MDF\",\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>Then, we can see that the design variables have been renamed:</p> <pre><code>design_space\n</code></pre> Design space: Name Lower bound Value Upper bound Type x_0 -1 -0.25 1 float x_1 -1 0.75 1 float x_2 -1 -0.9 1 float <p>This renaming is based on the convention:</p> <ul> <li>the first design variable is the global design variable and is named \\(x_0\\),</li> <li>the \\((1+i)\\)-th design variable is the local design variable   specific to the \\(i\\)-th strongly coupled discipline   and is named \\(x_{1+i}\\).</li> </ul> <p>We can also have a look to the coupling graph:</p> <pre><code>generate_coupling_graph(umdo_scenario.disciplines, file_path=\"\")\n</code></pre> L L Rosenbrock Rosenbrock L-&gt;Rosenbrock z_0, z_1, z_2 Rosenbrock-&gt;_Rosenbrock f D1 D1 D1-&gt;L y_1 D2 D2 D1-&gt;D2 y_1 D2-&gt;L y_2 D2-&gt;D1 y_2 <p>and see that there are two strongly coupled disciplines \\(D_1\\) and \\(D_2\\), connected by the coupling variables \\(y_1\\) and \\(y_2\\). These disciplines are weakly coupled to a downstream link discipline \\(L\\), which is weakly coupled to the downstream original discipline. Let us note that the link discipline computes the values of the design variables in the original optimization problem from the values of the design and coupling variables in the MDO problem.</p> <p>We can also represent the MDO process using an XDSM:</p> <pre><code>umdo_scenario.xdsmize(save_html=False, pdf_build=False)\n</code></pre> <p>Lastly, we solve this scenario using the SLSQP algorithm:</p> <pre><code>umdo_scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:26: *** Start UOptAsUMDOScenario execution ***\n    INFO - 09:11:26: UOptAsUMDOScenario\n    INFO - 09:11:26:    Disciplines: D1 D2 L Rosenbrock\n    INFO - 09:11:26:    Formulation:\n    INFO - 09:11:26:       MDO formulation: MDF\n    INFO - 09:11:26:       Statistic estimation: Sampling\n    INFO - 09:11:26:    Uncertain space:\n    INFO - 09:11:26:       +------+----------------------------+\n    INFO - 09:11:26:       | Name |        Distribution        |\n    INFO - 09:11:26:       +------+----------------------------+\n    INFO - 09:11:26:       |  u   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:11:26:       |  v   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:11:26:       +------+----------------------------+\n    INFO - 09:11:26: Optimization problem:\n    INFO - 09:11:26:    minimize E[f]\n    INFO - 09:11:26:    with respect to x_0, x_1, x_2\n    INFO - 09:11:26:    over the design space:\n    INFO - 09:11:26:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:26:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:26:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:26:       | x_0  |      -1     | -0.25 |      1      | float |\n    INFO - 09:11:26:       | x_1  |      -1     |  0.75 |      1      | float |\n    INFO - 09:11:26:       | x_2  |      -1     |  -0.9 |      1      | float |\n    INFO - 09:11:26:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:26: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:11:26:      1%|          | 1/100 [00:00&lt;00:04, 24.54 it/sec, obj=263]\n    INFO - 09:11:27:      2%|\u258f         | 2/100 [00:01&lt;00:56,  1.74 it/sec, obj=408]\n    INFO - 09:11:27:      3%|\u258e         | 3/100 [00:01&lt;00:37,  2.61 it/sec, obj=20.2]\n    INFO - 09:11:28:      4%|\u258d         | 4/100 [00:02&lt;00:54,  1.76 it/sec, obj=168]\n    INFO - 09:11:28:      5%|\u258c         | 5/100 [00:02&lt;00:43,  2.19 it/sec, obj=8.91]\n    INFO - 09:11:29:      6%|\u258c         | 6/100 [00:03&lt;00:52,  1.78 it/sec, obj=396]\n    INFO - 09:11:29:      7%|\u258b         | 7/100 [00:03&lt;00:44,  2.07 it/sec, obj=4.06]\n    INFO - 09:11:30:      8%|\u258a         | 8/100 [00:04&lt;00:51,  1.79 it/sec, obj=152]\n    INFO - 09:11:30:      9%|\u2589         | 9/100 [00:04&lt;00:45,  2.01 it/sec, obj=3.3]\n    INFO - 09:11:32:     10%|\u2588         | 10/100 [00:06&lt;00:54,  1.66 it/sec, obj=2.09]\n    INFO - 09:11:32:     11%|\u2588         | 11/100 [00:06&lt;00:52,  1.68 it/sec, obj=2.01]\n    INFO - 09:11:33:     12%|\u2588\u258f        | 12/100 [00:07&lt;00:51,  1.69 it/sec, obj=1.97]\n    INFO - 09:11:33:     13%|\u2588\u258e        | 13/100 [00:07&lt;00:51,  1.70 it/sec, obj=1.92]\n    INFO - 09:11:34:     14%|\u2588\u258d        | 14/100 [00:08&lt;00:50,  1.71 it/sec, obj=1.85]\n    INFO - 09:11:34:     15%|\u2588\u258c        | 15/100 [00:08&lt;00:49,  1.72 it/sec, obj=1.73]\n    INFO - 09:11:35:     16%|\u2588\u258c        | 16/100 [00:09&lt;00:48,  1.73 it/sec, obj=1.3]\n    INFO - 09:11:35:     17%|\u2588\u258b        | 17/100 [00:09&lt;00:47,  1.74 it/sec, obj=0.996]\n    INFO - 09:11:36:     18%|\u2588\u258a        | 18/100 [00:10&lt;00:47,  1.74 it/sec, obj=0.765]\n    INFO - 09:11:36:     19%|\u2588\u2589        | 19/100 [00:10&lt;00:44,  1.83 it/sec, obj=2.77]\n    INFO - 09:11:36:     20%|\u2588\u2588        | 20/100 [00:10&lt;00:41,  1.93 it/sec, obj=0.658]\n    INFO - 09:11:38:     21%|\u2588\u2588        | 21/100 [00:11&lt;00:44,  1.76 it/sec, obj=0.439]\n    INFO - 09:11:38:     22%|\u2588\u2588\u258f       | 22/100 [00:12&lt;00:42,  1.83 it/sec, obj=1.02]\n    INFO - 09:11:38:     23%|\u2588\u2588\u258e       | 23/100 [00:12&lt;00:40,  1.92 it/sec, obj=0.394]\n    INFO - 09:11:39:     24%|\u2588\u2588\u258d       | 24/100 [00:13&lt;00:43,  1.77 it/sec, obj=0.356]\n    INFO - 09:11:40:     25%|\u2588\u2588\u258c       | 25/100 [00:14&lt;00:42,  1.77 it/sec, obj=0.252]\n    INFO - 09:11:40:     26%|\u2588\u2588\u258c       | 26/100 [00:14&lt;00:41,  1.77 it/sec, obj=0.205]\n    INFO - 09:11:40:     27%|\u2588\u2588\u258b       | 27/100 [00:14&lt;00:39,  1.83 it/sec, obj=0.337]\n    INFO - 09:11:40:     28%|\u2588\u2588\u258a       | 28/100 [00:14&lt;00:37,  1.90 it/sec, obj=0.165]\n    INFO - 09:11:42:     29%|\u2588\u2588\u2589       | 29/100 [00:16&lt;00:39,  1.78 it/sec, obj=0.14]\n    INFO - 09:11:42:     30%|\u2588\u2588\u2588       | 30/100 [00:16&lt;00:39,  1.78 it/sec, obj=0.105]\n    INFO - 09:11:43:     31%|\u2588\u2588\u2588       | 31/100 [00:17&lt;00:38,  1.78 it/sec, obj=0.0867]\n    INFO - 09:11:43:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:17&lt;00:38,  1.79 it/sec, obj=0.0797]\n    INFO - 09:11:44:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:18&lt;00:37,  1.79 it/sec, obj=0.0715]\n    INFO - 09:11:45:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:18&lt;00:36,  1.79 it/sec, obj=0.0691]\n    INFO - 09:11:45:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:19&lt;00:36,  1.80 it/sec, obj=0.068]\n    INFO - 09:11:46:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:20&lt;00:35,  1.80 it/sec, obj=0.0677]\n    INFO - 09:11:46:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:20&lt;00:34,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:47:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:21&lt;00:34,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:47:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:21&lt;00:33,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:48:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:22&lt;00:33,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:48:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:22&lt;00:32,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:49:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:23&lt;00:32,  1.80 it/sec, obj=0.0676]\n    INFO - 09:11:49:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:23&lt;00:31,  1.81 it/sec, obj=0.0676]\n    INFO - 09:11:49:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:23&lt;00:30,  1.85 it/sec, obj=Not evaluated]\n    INFO - 09:11:49: Optimization result:\n    INFO - 09:11:49:    Optimizer info:\n    INFO - 09:11:49:       Status: None\n    INFO - 09:11:49:       Message: Successive iterates of the design variables are closer than xtol_rel or xtol_abs. GEMSEO stopped the driver.\n    INFO - 09:11:49:       Number of calls to the objective function by the optimizer: 51\n    INFO - 09:11:49:    Solution:\n    INFO - 09:11:49:       Objective: 0.0676482408794801\n    INFO - 09:11:49:       Design space:\n    INFO - 09:11:49:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:49:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:49:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:49:          | x_0  |      -1     | 0.9614208809193281 |      1      | float |\n    INFO - 09:11:49:          | x_1  |      -1     | 0.9246675883312681 |      1      | float |\n    INFO - 09:11:49:          | x_2  |      -1     | 0.8551824067548328 |      1      | float |\n    INFO - 09:11:49:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:49: *** End UOptAsUMDOScenario execution (time: 0:00:23.812755) ***\n</code></pre> <p>We can see that the numerical solution corresponds to the one found in the monodisciplinary case.</p> <p>Total running time of the script: ( 0 minutes  26.225 seconds)</p> <p> Download Python source code: plot_uopt_as_umdo.py</p> <p> Download Jupyter notebook: plot_uopt_as_umdo.ipynb</p> <p>Gallery generated by mkdocs-gallery</p> <ol> <li> <p>Amine Aziz Alaoui. Contributions to multidisciplinary design optimization under uncertainty, with applications to aircraft design. Theses, Universit\u00e9 de Toulouse, February 2025. URL: https://theses.hal.science/tel-05059696.\u00a0\u21a9</p> </li> </ol>"},{"location":"generated/examples/umdo/","title":"MDO under uncertainty","text":""},{"location":"generated/examples/umdo/#mdo-under-uncertainty-u-mdo","title":"MDO under uncertainty (U-MDO)","text":"<p>These examples show how to use the different U-MDO formulations presented in the user guide by considering toy functions and state-of-the-art use cases.</p>"},{"location":"generated/examples/umdo/#u-mdo-using-control-variates","title":"U-MDO using control variates","text":"<p>The statistics are estimated using the control variates technique where the control variates are based on Taylor polynomials of the quantities of interest.</p> <p>Read more in the user guide.</p> <p> A quadratic mono-disciplinary problem </p> <p> The Rosenbrock mono-disciplinary problem </p> <p> The Sellar's MDO problem </p>"},{"location":"generated/examples/umdo/#u-mdo-using-different-mdo-formulations","title":"U-MDO using different MDO formulations","text":"<p>The outputs of interest can be obtained using different MDO formulations, in particular <code>DisciplinaryOpt</code> and <code>MDF</code> in a very simple way, but also <code>IDF</code> and <code>BiLevel</code> in a more advanced manner.</p> <p>Read more in the GEMSEO's user guide</p> <p> Managing uncertain equality constraints </p> <p> BiLevel applied to the Rosenbrock problem. </p> <p> BiLevel applied to the SSBJ problem. </p>"},{"location":"generated/examples/umdo/#miscellaneous","title":"Miscellaneous","text":"<p> DOE </p> <p> Sampling with repetitions </p> <p> Control variate vs Sampling </p>"},{"location":"generated/examples/umdo/#u-mdo-using-polynomial-chaos-expansions-pces","title":"U-MDO using polynomial chaos expansions (PCEs)","text":"<p>The statistics are estimated using a PCE built over the uncertain space.</p> <p>Read more in the user guide.</p> <p> A quadratic mono-disciplinary problem </p> <p> A quadratic mono-disciplinary problem with approximated statistics Jacobian </p>"},{"location":"generated/examples/umdo/#u-mdo-using-sampling","title":"U-MDO using sampling","text":"<p>The statistics are estimated using crude Monte Carlo sampling.</p> <p>Read more in the user guide</p> <p> A quadratic mono-disciplinary problem </p> <p> The Rosenbrock mono-disciplinary problem </p> <p> The Sellar's MDO problem </p> <p> The Sobieski's SSBJ MDO problem. </p>"},{"location":"generated/examples/umdo/#u-mdo-using-sequential-sampling","title":"U-MDO using sequential sampling","text":"<p>The statistics are estimated using crude Monte Carlo sampling by increasing the sample size sequentially as the optimisation process progresses.</p> <p>Read more in the user guide.</p> <p> A quadratic mono-disciplinary problem </p>"},{"location":"generated/examples/umdo/#u-mdo-using-surrogate-models","title":"U-MDO using surrogate models","text":"<p>The statistics are estimated using a surrogate model built over the uncertain space.</p> <p>Read more in the user guide.</p> <p> A quadratic mono-disciplinary problem </p>"},{"location":"generated/examples/umdo/#u-mdo-using-taylor-polynomials","title":"U-MDO using Taylor polynomials","text":"<p>The statistics are estimated using Taylor polynomials of the quantities of interest.</p> <p>Read more in the user guide.</p> <p> A quadratic mono-disciplinary problem </p> <p> The Sellar's MDO problem </p> <p> The Sobieski's SSBJ MDO problem </p> <p> Download all examples in Python source code: umdo_python.zip</p> <p> Download all examples in Jupyter notebooks: umdo_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/control_variate/cv_sellar/","title":"The Sellar's MDO problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/control_variate/cv_sellar/#the-sellars-mdo-problem","title":"The Sellar's MDO problem","text":"<p>In this example, we consider the Sellar's MDO problem under uncertainty</p> \\[\\min_{x,z_1,x_2} \\mathbb{E}[f(x,z_2,y_1,y_2)]\\] <p>over the design space \\([0,10]\\times[-10,10]\\times[0,10]\\) and under the inequality constraints</p> \\[\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\] <p>and</p> \\[\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0,\\] <p>where</p> <ul> <li>\\(\\mathbb{E}\\) is the expectation operator,</li> <li>\\(\\mathbb{S}\\) is the standard deviation operators,</li> <li>\\(f(x,z_2) = x^2 + z_2 + y_1^2 + \\exp(-y_2)\\) is the objective function,</li> <li>\\(c_1(y_1) = 3.16 - y_1^2\\) is the first constraint function,</li> <li>\\(c_2(y_2) = y_2 - 24.0\\) is the second constraint function,</li> <li>\\(y_1 = \\sqrt{z_1^2 + z_2 + x - ay_2}\\) is the first coupling equation,</li> <li>\\(y_2 = \\frac{\\log(1+\\exp(10y_1))}{5} - y_1 - \\frac{\\log(2)}{5} + z_1 + z_2\\)   is the second coupling equation,</li> <li>\\(a\\) is a random variable distributed   according to the triangular distribution \\(\\mathcal{T}(0.1,0.2,0.3)\\).</li> </ul> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.control_variate_settings import ControlVariate_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we create one discipline per coupling equation and a system discipline to compute the objective and constraints:</p> <pre><code>system = AnalyticDiscipline({\n    \"obj\": \"x**2 + z2 + y1**2 + exp(-y2)\",\n    \"c1\": \"3.16 - y1 ** 2\",\n    \"c2\": \"y2 - 24.0\",\n})\ndisc1 = AnalyticDiscipline({\"y1\": \"(z1**2 + z2 + x - a*y2)**0.5\"})\ndisc2 = AnalyticDiscipline({\"y2\": \"2/10*log(1+exp(10*y1))-y1-2/10*log(2) + z1 + z2\"})\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=0.0, upper_bound=10.0, value=1.0)\ndesign_space.add_variable(\"z1\", lower_bound=-10.0, upper_bound=10.0, value=4.0)\ndesign_space.add_variable(\"z2\", lower_bound=0.0, upper_bound=10.0, value=3.0)\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"a\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"a\", \"OTTriangularDistribution\", minimum=0.1, maximum=0.3, mode=0.2\n)\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[f(x,z_2,y_1,y_2)]\\) estimated using a control variates technique based on Taylor polynomials and 50 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [system, disc1, disc2],\n    \"obj\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=ControlVariate_Settings(n_samples=100),\n)\n</code></pre> <p>while satisfying the constraints \\(\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\) and \\(\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0\\):</p> <pre><code>scenario.add_constraint(\"c1\", \"Margin\", factor=3.0)\nscenario.add_constraint(\"c2\", \"Margin\", factor=3.0)\n</code></pre> <p>We execute this scenario using the gradient-free optimizer COBYLA:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=200)\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=True, show=False)\n</code></pre> <p>Lastly, we can compare the numerical solution of this Sellar's MDO problem under uncertainty</p> <pre><code>result = scenario.optimization_result\n(result.x_opt, result.constraint_values, result.f_opt)\n</code></pre> <p>to the solution of the Sellar's MDO problem without uncertainty, namely \\((x^*,c^*,f^*)=([0, 1.77, 0], [0, -20.58], 3.19)\\).</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: cv_sellar.py</p> <p> Download Jupyter notebook: cv_sellar.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/control_variate/mg_execution_times/","title":"Computation times","text":"<p>00:02.894 total execution time for generated_examples_umdo_control_variate files:</p> <p>+----------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_cv_rosenbrock (docs/examples/umdo/control_variate/plot_cv_rosenbrock.py) | 00:02.224 | 0.0 MB | +----------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_cv_quadratic (docs/examples/umdo/control_variate/plot_cv_quadratic.py)    | 00:00.671 | 0.0 MB | +----------------------------------------------------------------------------------------------------------+-----------+--------+ | cv_sellar (docs/examples/umdo/control_variate/cv_sellar.py)                            | 00:00.000 | 0.0 MB | +----------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/control_variate/plot_cv_quadratic/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/control_variate/plot_cv_quadratic/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.control_variate_settings import ControlVariate_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a control variates technique based on Taylor polynomials and 50 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=ControlVariate_Settings(n_samples=25),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-free optimizer COBYLA:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:50: *** Start UMDOScenario execution ***\n    INFO - 09:11:50: UMDOScenario\n    INFO - 09:11:50:    Disciplines: f\n    INFO - 09:11:50:    Formulation:\n    INFO - 09:11:50:       MDO formulation: DisciplinaryOpt\n    INFO - 09:11:50:       Statistic estimation: ControlVariate\n    INFO - 09:11:50:    Uncertain space:\n    INFO - 09:11:50:       +------+---------------------------+\n    INFO - 09:11:50:       | Name |        Distribution       |\n    INFO - 09:11:50:       +------+---------------------------+\n    INFO - 09:11:50:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:11:50:       +------+---------------------------+\n    INFO - 09:11:50: Optimization problem:\n    INFO - 09:11:50:    minimize E[y]\n    INFO - 09:11:50:    with respect to x\n    INFO - 09:11:50:    over the design space:\n    INFO - 09:11:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:50:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:50:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:11:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:50: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:11:50:      1%|          | 1/100 [00:00&lt;00:01, 86.74 it/sec, obj=1.13]\n    INFO - 09:11:50:      2%|\u258f         | 2/100 [00:00&lt;00:01, 93.76 it/sec, obj=1.88]\n    INFO - 09:11:50:      3%|\u258e         | 3/100 [00:00&lt;00:01, 96.36 it/sec, obj=0.88]\n    INFO - 09:11:50:      4%|\u258d         | 4/100 [00:00&lt;00:00, 97.75 it/sec, obj=1.13]\n    INFO - 09:11:50:      5%|\u258c         | 5/100 [00:00&lt;00:00, 99.23 it/sec, obj=0.941]\n    INFO - 09:11:50:      6%|\u258c         | 6/100 [00:00&lt;00:00, 100.10 it/sec, obj=0.895]\n    INFO - 09:11:50:      7%|\u258b         | 7/100 [00:00&lt;00:00, 100.96 it/sec, obj=0.883]\n    INFO - 09:11:50:      8%|\u258a         | 8/100 [00:00&lt;00:00, 101.46 it/sec, obj=0.88]\n    INFO - 09:11:50:      9%|\u2589         | 9/100 [00:00&lt;00:00, 102.14 it/sec, obj=0.879]\n    INFO - 09:11:50:     10%|\u2588         | 10/100 [00:00&lt;00:00, 102.65 it/sec, obj=0.88]\n    INFO - 09:11:50:     11%|\u2588         | 11/100 [00:00&lt;00:00, 103.01 it/sec, obj=0.88]\n    INFO - 09:11:50:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:00, 103.38 it/sec, obj=0.879]\n    INFO - 09:11:50:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:00, 103.15 it/sec, obj=0.879]\n    INFO - 09:11:50:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:00, 103.19 it/sec, obj=0.879]\n    INFO - 09:11:50:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:00, 103.35 it/sec, obj=0.879]\n    INFO - 09:11:50:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:00, 103.47 it/sec, obj=0.879]\n    INFO - 09:11:50:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:00, 103.50 it/sec, obj=0.879]\n    INFO - 09:11:50:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:00, 103.58 it/sec, obj=0.879]\n    INFO - 09:11:50:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:00, 103.61 it/sec, obj=0.879]\n    INFO - 09:11:50:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:00, 103.71 it/sec, obj=0.879]\n    INFO - 09:11:50: Optimization result:\n    INFO - 09:11:50:    Optimizer info:\n    INFO - 09:11:50:       Status: None\n    INFO - 09:11:50:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:11:50:       Number of calls to the objective function by the optimizer: 27\n    INFO - 09:11:50:    Solution:\n    INFO - 09:11:50:       Objective: 0.8789873622227989\n    INFO - 09:11:50:       Design space:\n    INFO - 09:11:50:          +------+-------------+------------------+-------------+-------+\n    INFO - 09:11:50:          | Name | Lower bound |      Value       | Upper bound | Type  |\n    INFO - 09:11:50:          +------+-------------+------------------+-------------+-------+\n    INFO - 09:11:50:          | x    |      -1     | -6.103515625e-05 |      1      | float |\n    INFO - 09:11:50:          +------+-------------+------------------+-------------+-------+\n    INFO - 09:11:50: *** End UMDOScenario execution (time: 0:00:00.194822) ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed11c03850&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(-6.103515625e-05, 0.8789873622227989)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  0.671 seconds)</p> <p> Download Python source code: plot_cv_quadratic.py</p> <p> Download Jupyter notebook: plot_cv_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/control_variate/plot_cv_rosenbrock/","title":"The Rosenbrock mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/control_variate/plot_cv_rosenbrock/#the-rosenbrock-mono-disciplinary-problem","title":"The Rosenbrock mono-disciplinary problem","text":"<p>In this example, we consider the Rosenbrock mono-disciplinary optimization problem</p> \\[\\min_{x,y\\in[-2,2]} \\mathbb{E}[(U-x)^2+100(y-x^2)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,0.0025)\\) is a Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>In the following, we will call \\(f\\) the function computing \\((U-x)^2+100(y-x^2)^2\\) given \\(x\\), \\(y\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.control_variate_settings import ControlVariate_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define the discipline implementing the Rosenbrock function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"z\": \"(u-x)**2+100*(y-x**2)**2\"}, name=\"Rosenbrock\")\n</code></pre> <p>where \\(x,y\\) belongs to the interval \\([-2,2]\\):</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-2, upper_bound=2.0, value=-2.0)\ndesign_space.add_variable(\"y\", lower_bound=-2, upper_bound=2.0, value=-2.0)\n</code></pre> <p>and \\(U\\) is a Gaussian variable with unit mean and standard deviation equal to 0.05:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\", mu=1.0, sigma=0.05)\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(U-x)^2+100(y-x^2)^2]\\) estimated using a control variates technique based on Taylor polynomials and 50 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"z\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=ControlVariate_Settings(n_samples=30),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute it with the gradient-based optimizer SLSQP:</p> <p>Warning</p> <p>The implementation of statistic estimators do not allow for the moment to use analytical derivatives. Please use finite differences or complex step to approximate the gradients.</p> <pre><code>scenario.set_differentiation_method(\"finite_differences\")\nscenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:51: *** Start UMDOScenario execution ***\n    INFO - 09:11:51: UMDOScenario\n    INFO - 09:11:51:    Disciplines: Rosenbrock\n    INFO - 09:11:51:    Formulation:\n    INFO - 09:11:51:       MDO formulation: DisciplinaryOpt\n    INFO - 09:11:51:       Statistic estimation: ControlVariate\n    INFO - 09:11:51:    Uncertain space:\n    INFO - 09:11:51:       +------+----------------------------+\n    INFO - 09:11:51:       | Name |        Distribution        |\n    INFO - 09:11:51:       +------+----------------------------+\n    INFO - 09:11:51:       |  u   | Normal(mu=1.0, sigma=0.05) |\n    INFO - 09:11:51:       +------+----------------------------+\n    INFO - 09:11:51: Optimization problem:\n    INFO - 09:11:51:    minimize E[z]\n    INFO - 09:11:51:    with respect to x, y\n    INFO - 09:11:51:    over the design space:\n    INFO - 09:11:51:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:51:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:51:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:51:       | x    |      -2     |   -2  |      2      | float |\n    INFO - 09:11:51:       | y    |      -2     |   -2  |      2      | float |\n    INFO - 09:11:51:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:51: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:11:51:      1%|          | 1/100 [00:00&lt;00:01, 75.94 it/sec, obj=3.61e+3]\n    INFO - 09:11:51:      2%|\u258f         | 2/100 [00:00&lt;00:05, 17.10 it/sec, obj=401]\n    INFO - 09:11:51:      3%|\u258e         | 3/100 [00:00&lt;00:05, 18.84 it/sec, obj=152]\n    INFO - 09:11:51:      4%|\u258d         | 4/100 [00:00&lt;00:04, 22.21 it/sec, obj=411]\n    INFO - 09:11:51:      5%|\u258c         | 5/100 [00:00&lt;00:03, 27.73 it/sec, obj=14]\n    INFO - 09:11:51:      6%|\u258c         | 6/100 [00:00&lt;00:04, 22.59 it/sec, obj=618]\n    INFO - 09:11:51:      7%|\u258b         | 7/100 [00:00&lt;00:03, 26.33 it/sec, obj=5.18]\n    INFO - 09:11:51:      8%|\u258a         | 8/100 [00:00&lt;00:04, 22.88 it/sec, obj=87.2]\n    INFO - 09:11:51:      9%|\u2589         | 9/100 [00:00&lt;00:03, 25.73 it/sec, obj=2.15]\n    INFO - 09:11:51:     10%|\u2588         | 10/100 [00:00&lt;00:03, 23.14 it/sec, obj=4.06]\n    INFO - 09:11:51:     11%|\u2588         | 11/100 [00:00&lt;00:03, 25.44 it/sec, obj=0.695]\n    INFO - 09:11:51:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:03, 22.27 it/sec, obj=0.654]\n    INFO - 09:11:51:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:03, 22.40 it/sec, obj=0.643]\n    INFO - 09:11:51:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:03, 22.49 it/sec, obj=0.639]\n    INFO - 09:11:52:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:03, 22.59 it/sec, obj=0.611]\n    INFO - 09:11:52:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:03, 22.66 it/sec, obj=0.452]\n    INFO - 09:11:52:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:03, 23.37 it/sec, obj=22.1]\n    INFO - 09:11:52:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:03, 24.74 it/sec, obj=0.382]\n    INFO - 09:11:52:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:03, 23.36 it/sec, obj=0.38]\n    INFO - 09:11:52:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:03, 24.59 it/sec, obj=0.355]\n    INFO - 09:11:52:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:03, 22.93 it/sec, obj=0.324]\n    INFO - 09:11:52:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:03, 22.94 it/sec, obj=0.203]\n    INFO - 09:11:52:     23%|\u2588\u2588\u258e       | 23/100 [00:01&lt;00:03, 22.98 it/sec, obj=0.144]\n    INFO - 09:11:52:     24%|\u2588\u2588\u258d       | 24/100 [00:01&lt;00:03, 22.98 it/sec, obj=0.0762]\n    INFO - 09:11:52:     25%|\u2588\u2588\u258c       | 25/100 [00:01&lt;00:03, 23.44 it/sec, obj=2.35]\n    INFO - 09:11:52:     26%|\u2588\u2588\u258c       | 26/100 [00:01&lt;00:03, 24.38 it/sec, obj=0.0556]\n    INFO - 09:11:52:     27%|\u2588\u2588\u258b       | 27/100 [00:01&lt;00:03, 23.49 it/sec, obj=0.14]\n    INFO - 09:11:52:     28%|\u2588\u2588\u258a       | 28/100 [00:01&lt;00:02, 24.35 it/sec, obj=0.0435]\n    INFO - 09:11:52:     29%|\u2588\u2588\u2589       | 29/100 [00:01&lt;00:03, 23.18 it/sec, obj=0.0379]\n    INFO - 09:11:52:     30%|\u2588\u2588\u2588       | 30/100 [00:01&lt;00:03, 23.22 it/sec, obj=0.0292]\n    INFO - 09:11:52:     31%|\u2588\u2588\u2588       | 31/100 [00:01&lt;00:02, 23.24 it/sec, obj=0.0209]\n    INFO - 09:11:52:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:01&lt;00:02, 23.28 it/sec, obj=0.00942]\n    INFO - 09:11:52:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:01&lt;00:02, 23.32 it/sec, obj=0.00582]\n    INFO - 09:11:52:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:01&lt;00:02, 23.36 it/sec, obj=0.00323]\n    INFO - 09:11:52:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:01&lt;00:02, 23.38 it/sec, obj=0.0025]\n    INFO - 09:11:52:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:01&lt;00:02, 23.40 it/sec, obj=0.00239]\n    INFO - 09:11:52:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:01&lt;00:02, 23.43 it/sec, obj=0.00238]\n    INFO - 09:11:52:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:01&lt;00:02, 23.44 it/sec, obj=0.00238]\n    INFO - 09:11:53:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:01&lt;00:02, 23.76 it/sec, obj=0.00238]\n    INFO - 09:11:53:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:01&lt;00:02, 24.36 it/sec, obj=0.00238]\n    INFO - 09:11:53:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:01&lt;00:02, 24.81 it/sec, obj=0.00238]\n    INFO - 09:11:53:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:01&lt;00:02, 25.26 it/sec, obj=0.00238]\n    INFO - 09:11:53:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:01&lt;00:02, 25.69 it/sec, obj=0.00238]\n    INFO - 09:11:53:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:01&lt;00:02, 26.12 it/sec, obj=0.00238]\n    INFO - 09:11:53:     45%|\u2588\u2588\u2588\u2588\u258c     | 45/100 [00:01&lt;00:02, 26.52 it/sec, obj=0.00238]\n    INFO - 09:11:53: Optimization result:\n    INFO - 09:11:53:    Optimizer info:\n    INFO - 09:11:53:       Status: None\n    INFO - 09:11:53:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:11:53:       Number of calls to the objective function by the optimizer: 54\n    INFO - 09:11:53:    Solution:\n    INFO - 09:11:53:       Objective: 0.002383217030332389\n    INFO - 09:11:53:       Design space:\n    INFO - 09:11:53:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:53:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:53:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:53:          | x    |      -2     | 0.9988362616479409 |      2      | float |\n    INFO - 09:11:53:          | y    |      -2     | 0.9976669356204715 |      2      | float |\n    INFO - 09:11:53:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:53: *** End UMDOScenario execution (time: 0:00:01.715573) ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed12165ca0&gt;\n</code></pre> <p>Lastly, we can compare the numerical solution of this Rosenbrock problem under uncertainty</p> <pre><code>(scenario.optimization_result.x_opt, scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(array([0.99883626, 0.99766694]), 0.002383217030332389)\n</code></pre> <p>to the solution of the Rosenbrock problem without uncertainty, namely \\((x^*,f^*)=([1, 1], 0)\\).</p> <p>Total running time of the script: ( 0 minutes  2.224 seconds)</p> <p> Download Python source code: plot_cv_rosenbrock.py</p> <p> Download Jupyter notebook: plot_cv_rosenbrock.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/","title":"BiLevel applied to the SSBJ problem.","text":"<p>Note</p> <p>Click here to download the full example code</p> <p>BiLevel applied to the SSBJ problem.</p> <p>This example illustrates the use of the <code>BiLevel</code> formulation to solve the Sobieski's SSBJ problem under uncertainty.</p> <p>The shared design variables are uncertain and so are the objective and the constraints. The uncertain objective is then made deterministic using the mean as a statistic and the same for the constraints using margins of the form \"mean + twice standard deviation\".</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure\nfrom gemseo import configure_logger\nfrom gemseo.algos.opt.nlopt.settings.nlopt_cobyla_settings import NLOPT_COBYLA_Settings\nfrom gemseo.algos.opt.nlopt.settings.nlopt_slsqp_settings import NLOPT_SLSQP_Settings\nfrom gemseo.algos.opt.scipy_local.settings.slsqp import SLSQP_Settings\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.problems.mdo.sobieski.core.problem import SobieskiProblem\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiAerodynamics\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiMission\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiPropulsion\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiStructure\nfrom gemseo.scenarios.mdo_scenario import MDOScenario\nfrom matplotlib import pyplot as plt\nfrom numpy import atleast_2d\n\nfrom gemseo_umdo.disciplines.utils import create_noising_discipline_chain\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\nconfigure(False, False, True, False, False, False, False)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#original-discipline-and-spaces","title":"Original discipline and spaces","text":"<p>First, we create the disciplines:</p> <pre><code>mission = SobieskiMission()\nstructure = SobieskiStructure()\npropulsion = SobieskiPropulsion()\naerodynamics = SobieskiAerodynamics()\n</code></pre> <p>the design space:</p> <pre><code>design_space = SobieskiProblem().design_space\n</code></pre> <p>an MDF-formulated scenario without uncertainties</p> <pre><code>mdf_scenario = MDOScenario(\n    [aerodynamics, propulsion, structure, mission],\n    \"y_4\",\n    design_space,\n    formulation_name=\"MDF\",\n    maximize_objective=True,\n)\nmdf_scenario.add_constraint(\"g_1\", constraint_type=\"ineq\")\nmdf_scenario.add_constraint(\"g_2\", constraint_type=\"ineq\")\nmdf_scenario.add_constraint(\"g_3\", constraint_type=\"ineq\")\n</code></pre> <p>and solve it using the gradient-based SLSQP algorithm:</p> <pre><code>slsqp_settings = NLOPT_SLSQP_Settings(max_iter=100, ineq_tolerance=1e-3)\nmdf_scenario.execute(algo_settings_model=slsqp_settings)\n</code></pre> <p>In what follows, we will solve MDO problems under uncertainties from this uncertainty-free optimum \\(x_{\\text{shared}}^*\\):</p> <pre><code>x_opt_as_dict = mdf_scenario.get_result().optimization_result.x_opt_as_dict\n</code></pre> <p>For that, we define the uncertain vector noising the shared design variables by means of a centered Gaussian vector with standard deviation \\(\\sigma\\) equal to \\(0.05x_{\\text{shared}}^*/3\\) and restricted to the interval \\([-3\\sigma,3\\sigma]\\):</p> <pre><code>sigma = 0.05 * x_opt_as_dict[\"x_shared\"] / 3\nuncertain_space = ParameterSpace()\nuncertain_space.add_random_vector(\n    \"u_x_shared\",\n    \"OTNormalDistribution\",\n    sigma=sigma.tolist(),\n    lower_bound=(-3 * sigma).tolist(),\n    upper_bound=(3 * sigma).tolist(),\n)\n</code></pre> <p>Now, we can use the disciplines, design space and uncertain space to solve the Sobieski's SSBJ problem under uncertainty. More precisely, we will solve the U-MDO problem not only with the <code>BiLevel</code> formulation but also with the <code>MDF</code> one to show the difference in nature between these formulations and highlight the characteristics of <code>BiLevel</code>.</p> <p>The optimization algorithms will use a maximum of 100 iterations and the expectation will be estimated from 30 samples:</p> <pre><code>max_iter = 100\nn_samples = 30\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#mdf","title":"MDF","text":"<p>We solve the U-MDO problem using the <code>MDF</code> formulation from the uncertain-free optimum:</p> <pre><code>design_space = SobieskiProblem().design_space\nfor k, v in x_opt_as_dict.items():\n    design_space.set_current_variable(k, v)\nmdf_uscenario = UMDOScenario(\n    [aerodynamics, propulsion, structure, mission],\n    \"y_4\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples, estimate_statistics_iteratively=False),\n    maximize_objective=True,\n    uncertain_design_variables={\"x_shared\": (\"+\", \"u_x_shared\")},\n    formulation_name=\"MDF\",\n)\nmdf_uscenario.add_constraint(\"g_1\", \"Margin\")\nmdf_uscenario.add_constraint(\"g_2\", \"Margin\")\nmdf_uscenario.add_constraint(\"g_3\", \"Margin\")\n</code></pre> <p>and solve it using the gradient-based SLSQP algorithm:</p> <pre><code>slsqp_settings = SLSQP_Settings(max_iter=max_iter, ineq_tolerance=1e-3)\nmdf_uscenario.execute(algo_settings_model=slsqp_settings)\n</code></pre> <p>We can see that the solution is more conservative than in the absence of uncertainty, with a smaller range and a smaller wing taper ratio <code>\"x_1[0]\"</code>.</p>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#bilevel","title":"BiLevel","text":"<p>We solve the U-MDO problem using the <code>BiLevel</code> formulation from the same initial point:</p> <pre><code>design_space = SobieskiProblem().design_space\nfor k, v in x_opt_as_dict.items():\n    design_space.set_current_variable(k, v)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#noising-disciplines-chain","title":"Noising disciplines chain","text":"<p>In the case of the <code>MDF</code> formulation, we set <code>uncertain_design_variables</code> to <code>{\"x_shared\": (\"+\", \"u_x_shared\")}</code> to rename the variable <code>\"x_shared\"</code> into <code>\"dv_x_shared\"</code> automatically. In this way, UDMOScenario is able to propagate the uncertainty <code>\"u_x_shared\"</code> through the multidisciplinary process using the expression \\(x_{\\text{shared}}=dv_{x_{\\text{shared}}}+u_{x_{\\text{shared}}}\\). Unfortunately, this automation cannot work for MDO formulations using sub-scenarios because their multidisciplinary processes do not know the variables <code>\"dv_x_shared\"</code> and <code>\"u_x_shared\"</code> and cannot be modified. In this case, we cannot use the argument <code>uncertain_design_variables</code> but we can create a chain of noising disciplines to be added to the disciplines used to create the sub-scenarios:</p> <pre><code>noising_discipline_chain = create_noising_discipline_chain(\n    design_space, {\"x_shared\": (\"+\", \"u_x_shared\")}\n)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#sub-scenarios","title":"Sub-scenarios","text":"<p>First, we create three sub-scenarios, namely the one to maximize the objective function with respect to the design variable specific to the aerodynamics using the gradient-based SLSQP algorithm:</p> <pre><code>scenario_aerodynamics = MDOScenario(\n    [noising_discipline_chain, aerodynamics, mission],\n    \"y_4\",\n    design_space.filter(\"x_2\", copy=True),\n    formulation_name=\"MDF\",\n    maximize_objective=True,\n)\nscenario_aerodynamics.add_constraint(\"g_2\", constraint_type=\"ineq\")\nscenario_aerodynamics.set_algorithm(algo_settings_model=slsqp_settings)\n</code></pre> <p>the one to maximize the objective function with respect to the design variable specific to the propulsion using the gradient-based SLSQP algorithm:</p> <pre><code>scenario_propulsion = MDOScenario(\n    [noising_discipline_chain, propulsion, mission],\n    \"y_4\",\n    design_space.filter(\"x_3\", copy=True),\n    formulation_name=\"MDF\",\n    maximize_objective=True,\n)\nscenario_propulsion.add_constraint(\"g_3\", constraint_type=\"ineq\")\nscenario_propulsion.set_algorithm(algo_settings_model=slsqp_settings)\n</code></pre> <p>and the one to maximize the objective function with respect to the design variable specific to the structure using the gradient-based SLSQP algorithm:</p> <pre><code>scenario_structure = MDOScenario(\n    [noising_discipline_chain, structure, mission],\n    \"y_4\",\n    design_space.filter(\"x_1\", copy=True),\n    formulation_name=\"MDF\",\n    maximize_objective=True,\n)\nscenario_structure.add_constraint(\"g_1\", constraint_type=\"ineq\")\nscenario_structure.set_algorithm(algo_settings_model=slsqp_settings)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#main-scenario","title":"Main scenario","text":"<p>Then, we create the main scenario from this sub-scenarios to maximize the mean of the objective function with respect to the global design variables <code>\"dv_x_shared\"</code> and under equality constraints set as margins:</p> <pre><code>bilevel_uscenario = UMDOScenario(\n    [scenario_aerodynamics, scenario_propulsion, scenario_structure],\n    \"y_4\",\n    design_space.filter(\"dv_x_shared\", copy=True),\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples),\n    formulation_name=\"BiLevel\",\n    keep_opt_history=False,\n    maximize_objective=True,\n)\nbilevel_uscenario.add_constraint(\"g_1\", \"Margin\")\nbilevel_uscenario.add_constraint(\"g_2\", \"Margin\")\nbilevel_uscenario.add_constraint(\"g_3\", \"Margin\")\n</code></pre> <p>and solve the MDO problem using the gradient-free COBYLA algorithm:</p> <pre><code>bilevel_uscenario.execute(\n    algo_settings_model=NLOPT_COBYLA_Settings(max_iter=max_iter, ineq_tolerance=1e-3)\n)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/bilevel_sobieski/#results","title":"Results","text":"<p>In this last section, we will compare <code>MDF</code> and <code>BiLevel</code> in terms of results.</p> <p>First, we can have a look at the optimum solution in terms of global design variables:</p> <pre><code>mdf_x_opt = mdf_uscenario.optimization_result.x_opt\nbilevel_x_opt = bilevel_uscenario.optimization_result.x_opt\n</code></pre> <p>for <code>MDF</code>:</p> <pre><code>mdf_x_opt[0]\n# 0.29, 0.75, 0.75, 0.14, 0.06, 60000, 1.4, 2.5, 70, 1500\n</code></pre> <p>for <code>BiLevel</code>:</p> <pre><code>bilevel_x_opt[0]\n# 0.06, 59762.5, 1.4, 2.5, 69.75, 1492.5\n</code></pre> <p>The solutions are close in terms of global design variables.</p> <p>Then, we can have a look at the optimum solution in terms of mean objective:</p> <pre><code>mdf_f_opt = mdf_uscenario.optimization_result.f_opt\nbilevel_f_opt = bilevel_uscenario.optimization_result.f_opt\n</code></pre> <p>for <code>MDF</code>:</p> <pre><code>mdf_f_opt\n# -3844.6\n</code></pre> <p>for <code>BiLevel</code>:</p> <pre><code>bilevel_f_opt\n# -3886.6\n</code></pre> <p>The <code>BiLevel</code> solution seems to be better than the <code>MDF</code> one.</p> <p>Finally, we execute the <code>BiLevel</code> formulation at the bi-level optimum, taking care to save the samples with the option <code>estimate_statistics_iteratively</code>:</p> <pre><code>bilevel_uscenario = UMDOScenario(\n    [scenario_aerodynamics, scenario_propulsion, scenario_structure],\n    \"y_4\",\n    design_space.filter(\"dv_x_shared\", copy=True),\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples),\n    formulation_name=\"BiLevel\",\n    maximize_objective=True,\n    save_opt_history=False,\n)\nbilevel_uscenario.add_constraint(\"g_1\", \"Mean\")\nbilevel_uscenario.add_constraint(\"g_2\", \"Mean\")\nbilevel_uscenario.add_constraint(\"g_3\", \"Mean\")\nbilevel_uscenario.execute(algo_name=\"CustomDOE\", samples=atleast_2d(bilevel_x_opt))\n</code></pre> <p>which generates samples \\(\\left(y_4\\!\\left(dv_{x_{\\text{shared}}}^*,u_{x_{\\text{shared}}}^{(i)}\\right)\\right)_{1\\leq i \\leq N}\\):</p> <pre><code>database = bilevel_uscenario.formulation.mdo_formulation.optimization_problem.database\nf_samples = -database.get_function_history(\"y_4\").ravel()\n</code></pre> <p>that we can plot using a histogram:</p> <pre><code>plt.boxplot(-f_samples, vert=False)\nplt.plot(-mdf_f_opt, 1, \"bo\", label=r\"$f^*(MDF)$\")\nplt.plot(-bilevel_f_opt, 1, \"rs\", label=r\"$f^*(BiLevel)$\")\nplt.xlabel(\"f\")\nplt.grid()\nplt.legend()\nplt.savefig(\"bilevel_sobieski.png\")\n</code></pre> <p></p> <p>We can see that, on average, the <code>BiLevel</code> solution in red is better than the <code>MDF</code> solution in blue as mentioned above. On the other hand, there are realizations of \\(u_{x_{shared}}\\) for which the solution could be even better. This is one of the advantages of using the <code>BiLevel</code> formulation under uncertainty: choosing the global design variable values now, and leave ourselves time to choose those of the local design variables, in the hope that, in the future, the uncertainties will decrease and lead us to an even more favorable solution.</p> <p>Finally, these results need to be refined, by adjusting the number of samples and by playing with the tolerances' thresholds.</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: bilevel_sobieski.py</p> <p> Download Jupyter notebook: bilevel_sobieski.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/mdo_formulations/mg_execution_times/","title":"Computation times","text":"<p>00:44.037 total execution time for generated_examples_umdo_mdo_formulations files:</p> <p>+--------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_bilevel_rosenbrock (docs/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock.py)       | 00:34.210 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_equality_constraints (docs/examples/umdo/mdo_formulations/plot_equality_constraints.py) | 00:09.827 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | bilevel_sobieski (docs/examples/umdo/mdo_formulations/bilevel_sobieski.py)                            | 00:00.000 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/","title":"BiLevel applied to the Rosenbrock problem.","text":"<p>Note</p> <p>Click here to download the full example code</p> <p>BiLevel applied to the Rosenbrock problem.</p> <p>This example illustrates the use of the <code>BiLevel</code> formulation to solve the 3-dimensional Rosenbrock problem under uncertainty:</p> \\[\\mathbb{E}[f(z,U,V)] = \\mathbb{E}[100(z_2-(Uz_1)^2)^2 + (1-Vz_1)^2 + 100(z_1-(Uz_0)^2)^2 + (1-Vz_0)^2]\\] <p>relative to \\(z\\) in the hypercube \\([-1,1]^3\\), where \\(\\mathbb{E}\\) is the expectation operator and \\(U\\) and \\(V\\) are independent random variables normally distributed with mean equal to 1 and standard deviation equal to 0.01<sup>1</sup>.</p> <p>We use the create_disciplines function to make this optimization multidisciplinary.</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure\nfrom gemseo import configure_logger\nfrom gemseo import create_design_space\nfrom gemseo import create_discipline\nfrom gemseo import create_parameter_space\nfrom gemseo.problems.mdo.opt_as_mdo_scenario import create_disciplines\nfrom gemseo.scenarios.mdo_scenario import MDOScenario\nfrom matplotlib import pyplot as plt\nfrom numpy import array\nfrom numpy import atleast_2d\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\nconfigure(False, False, True, False, False, False, False)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#original-discipline-and-spaces","title":"Original discipline and spaces","text":"<p>First, we create the Rosenbrock discipline:</p> <pre><code>rosenbrock = create_discipline(\n    \"AnalyticDiscipline\",\n    expressions={\n        \"f\": \"100*(z_2-(u*z_1)**2)**2+(1-v*z_1)**2+100*(z_1-(u*z_0)**2)**2+(1-v*z_0)**2\"\n    },\n    name=\"Rosenbrock\",\n)\n</code></pre> <p>the design space:</p> <pre><code>design_space = create_design_space()\ndesign_space.add_variable(\"z_0\", lower_bound=-1, upper_bound=1)\ndesign_space.add_variable(\"z_1\", lower_bound=-1, upper_bound=1)\ndesign_space.add_variable(\"z_2\", lower_bound=-1, upper_bound=1)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = create_parameter_space()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\", mu=1.0, sigma=0.01)\nuncertain_space.add_random_variable(\"v\", \"OTNormalDistribution\", mu=1.0, sigma=0.01)\n</code></pre> <p>Then, we create the disciplines of the multidisciplinary problem:</p> <pre><code>disciplines = create_disciplines(rosenbrock, design_space)\n</code></pre> <p>which are the Rosenbrock discipline, a linear link discipline and two strongly coupled linear disciplines:</p> <pre><code>rosenbrock, link_discipline, discipline_1, discipline_2 = disciplines\n</code></pre> <p>Now, we can use these disciplines, design space and uncertain space to solve the Rosenbrock problem under uncertainty in a multidisciplinary way. More precisely, we will solve the U-MDO problem not only with the <code>BiLevel</code> formulation but also with the <code>MDF</code> one to show the difference in nature between these formulations and highlight the characteristics of <code>BiLevel</code>.</p> <p>The optimization algorithms will use a maximum of 100 iterations and the expectation will be estimated from 30 samples:</p> <pre><code>max_iter = 100\nn_samples = 30\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#mdf","title":"MDF","text":"<p>We solve the U-MDO problem using the <code>MDF</code> formulation from the initial point \\(x=(-0.25, 0.75, -0.9)\\):</p> <pre><code>initial_point = array([-0.25, 0.75, -0.9])\ndesign_space.set_current_value(initial_point)\nmdf_uscenario = UMDOScenario(\n    [rosenbrock, link_discipline, discipline_1, discipline_2],\n    \"f\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples),\n    formulation_name=\"MDF\",\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>and solve it using the gradient-based SLSQP algorithm:</p> <pre><code>mdf_uscenario.execute(algo_name=\"SLSQP\", max_iter=max_iter)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:04: *** Start UMDOScenario execution ***\n    INFO - 09:12:04: UMDOScenario\n    INFO - 09:12:04:    Disciplines: D1 D2 L Rosenbrock\n    INFO - 09:12:04:    Formulation:\n    INFO - 09:12:04:       MDO formulation: MDF\n    INFO - 09:12:04:       Statistic estimation: Sampling\n    INFO - 09:12:04:    Uncertain space:\n    INFO - 09:12:04:       +------+----------------------------+\n    INFO - 09:12:04:       | Name |        Distribution        |\n    INFO - 09:12:04:       +------+----------------------------+\n    INFO - 09:12:04:       |  u   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:04:       |  v   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:04:       +------+----------------------------+\n    INFO - 09:12:04: Optimization problem:\n    INFO - 09:12:04:    minimize E[f]\n    INFO - 09:12:04:    with respect to x_0, x_1, x_2\n    INFO - 09:12:04:    over the design space:\n    INFO - 09:12:04:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:04:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:04:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:04:       | x_0  |      -1     | -0.25 |      1      | float |\n    INFO - 09:12:04:       | x_1  |      -1     |  0.75 |      1      | float |\n    INFO - 09:12:04:       | x_2  |      -1     |  -0.9 |      1      | float |\n    INFO - 09:12:04:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:04: Solving optimization problem with algorithm SLSQP:\n    INFO - 09:12:04:      1%|          | 1/100 [00:00&lt;00:01, 61.78 it/sec, obj=263]\n    INFO - 09:12:04:      2%|\u258f         | 2/100 [00:00&lt;00:16,  5.91 it/sec, obj=408]\n    INFO - 09:12:04:      3%|\u258e         | 3/100 [00:00&lt;00:11,  8.42 it/sec, obj=20.2]\n    INFO - 09:12:05:      4%|\u258d         | 4/100 [00:00&lt;00:16,  5.92 it/sec, obj=168]\n    INFO - 09:12:05:      5%|\u258c         | 5/100 [00:00&lt;00:13,  7.22 it/sec, obj=8.91]\n    INFO - 09:12:05:      6%|\u258c         | 6/100 [00:01&lt;00:15,  5.91 it/sec, obj=396]\n    INFO - 09:12:05:      7%|\u258b         | 7/100 [00:01&lt;00:13,  6.78 it/sec, obj=4.06]\n    INFO - 09:12:05:      8%|\u258a         | 8/100 [00:01&lt;00:15,  5.93 it/sec, obj=152]\n    INFO - 09:12:05:      9%|\u2589         | 9/100 [00:01&lt;00:13,  6.59 it/sec, obj=3.3]\n    INFO - 09:12:06:     10%|\u2588         | 10/100 [00:01&lt;00:15,  5.93 it/sec, obj=2.09]\n    INFO - 09:12:06:     11%|\u2588         | 11/100 [00:02&lt;00:16,  5.44 it/sec, obj=2.01]\n    INFO - 09:12:06:     12%|\u2588\u258f        | 12/100 [00:02&lt;00:17,  5.10 it/sec, obj=1.97]\n    INFO - 09:12:07:     13%|\u2588\u258e        | 13/100 [00:02&lt;00:17,  4.88 it/sec, obj=1.92]\n    INFO - 09:12:07:     14%|\u2588\u258d        | 14/100 [00:02&lt;00:18,  4.70 it/sec, obj=1.85]\n    INFO - 09:12:07:     15%|\u2588\u258c        | 15/100 [00:03&lt;00:18,  4.51 it/sec, obj=1.73]\n    INFO - 09:12:08:     16%|\u2588\u258c        | 16/100 [00:03&lt;00:19,  4.39 it/sec, obj=1.3]\n    INFO - 09:12:08:     17%|\u2588\u258b        | 17/100 [00:03&lt;00:19,  4.28 it/sec, obj=0.996]\n    INFO - 09:12:08:     18%|\u2588\u258a        | 18/100 [00:04&lt;00:19,  4.20 it/sec, obj=0.77]\n    INFO - 09:12:09:     19%|\u2588\u2589        | 19/100 [00:04&lt;00:19,  4.13 it/sec, obj=2.83]\n    INFO - 09:12:09:     20%|\u2588\u2588        | 20/100 [00:04&lt;00:18,  4.33 it/sec, obj=0.656]\n    INFO - 09:12:09:     21%|\u2588\u2588        | 21/100 [00:04&lt;00:18,  4.25 it/sec, obj=0.443]\n    INFO - 09:12:09:     22%|\u2588\u2588\u258f       | 22/100 [00:05&lt;00:18,  4.19 it/sec, obj=1.13]\n    INFO - 09:12:09:     23%|\u2588\u2588\u258e       | 23/100 [00:05&lt;00:17,  4.37 it/sec, obj=0.392]\n    INFO - 09:12:10:     24%|\u2588\u2588\u258d       | 24/100 [00:05&lt;00:17,  4.29 it/sec, obj=0.424]\n    INFO - 09:12:10:     25%|\u2588\u2588\u258c       | 25/100 [00:05&lt;00:16,  4.46 it/sec, obj=0.321]\n    INFO - 09:12:10:     26%|\u2588\u2588\u258c       | 26/100 [00:05&lt;00:16,  4.39 it/sec, obj=0.251]\n    INFO - 09:12:10:     27%|\u2588\u2588\u258b       | 27/100 [00:06&lt;00:16,  4.33 it/sec, obj=0.164]\n    INFO - 09:12:11:     28%|\u2588\u2588\u258a       | 28/100 [00:06&lt;00:16,  4.27 it/sec, obj=0.146]\n    INFO - 09:12:11:     29%|\u2588\u2588\u2589       | 29/100 [00:06&lt;00:16,  4.22 it/sec, obj=0.109]\n    INFO - 09:12:11:     30%|\u2588\u2588\u2588       | 30/100 [00:07&lt;00:16,  4.18 it/sec, obj=0.0913]\n    INFO - 09:12:12:     31%|\u2588\u2588\u2588       | 31/100 [00:07&lt;00:16,  4.13 it/sec, obj=0.103]\n    INFO - 09:12:12:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:07&lt;00:15,  4.26 it/sec, obj=0.0788]\n    INFO - 09:12:12:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:07&lt;00:15,  4.21 it/sec, obj=0.0706]\n    INFO - 09:12:12:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:08&lt;00:15,  4.17 it/sec, obj=0.0648]\n    INFO - 09:12:13:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:08&lt;00:15,  4.13 it/sec, obj=0.0634]\n    INFO - 09:12:13:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:08&lt;00:15,  4.10 it/sec, obj=0.0631]\n    INFO - 09:12:13:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:09&lt;00:15,  4.07 it/sec, obj=0.0631]\n    INFO - 09:12:13:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:09&lt;00:15,  4.05 it/sec, obj=0.0631]\n    INFO - 09:12:14:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:09&lt;00:15,  4.02 it/sec, obj=0.0631]\n    INFO - 09:12:14:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:10&lt;00:15,  4.00 it/sec, obj=0.0631]\n    INFO - 09:12:14:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:10&lt;00:14,  3.97 it/sec, obj=0.0631]\n    INFO - 09:12:14: Optimization result:\n    INFO - 09:12:14:    Optimizer info:\n    INFO - 09:12:14:       Status: None\n    INFO - 09:12:14:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:14:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:14:    Solution:\n    INFO - 09:12:14:       Objective: 0.06305964299907771\n    INFO - 09:12:14:       Design space:\n    INFO - 09:12:14:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:14:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:12:14:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:14:          | x_0  |      -1     | 0.9637916535154898 |      1      | float |\n    INFO - 09:12:14:          | x_1  |      -1     | 0.9292564074654619 |      1      | float |\n    INFO - 09:12:14:          | x_2  |      -1     | 0.8637236089524527 |      1      | float |\n    INFO - 09:12:14:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:14: *** End UMDOScenario execution ***\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#bilevel","title":"BiLevel","text":"<p>We solve the U-MDO problem using the <code>BiLevel</code> formulation from the initial point \\(x=(-0.25, 0.75, -0.9)\\):</p> <pre><code>design_space.set_current_value(initial_point)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#sub-scenarios","title":"Sub-scenarios","text":"<p>First, we create two sub-scenarios, namely the one to minimize the objective function with respect to the local design variable \\(x_1\\) using the gradient-based SLSQP algorithm:</p> <pre><code>scenario_1 = MDOScenario(\n    [discipline_1, link_discipline, rosenbrock],\n    \"f\",\n    design_space.filter(\"x_1\", copy=True),\n    formulation_name=\"DisciplinaryOpt\",\n)\nscenario_1.set_algorithm(algo_name=\"SLSQP\", max_iter=max_iter)\n</code></pre> <p>and the one to minimize the objective function with respect to the local design variable \\(x_2\\) using the gradient-based SLSQP algorithm:</p> <pre><code>scenario_2 = MDOScenario(\n    [discipline_2, link_discipline, rosenbrock],\n    \"f\",\n    design_space.filter(\"x_2\", copy=True),\n    formulation_name=\"DisciplinaryOpt\",\n)\nscenario_2.set_algorithm(algo_name=\"SLSQP\", max_iter=max_iter)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#main-scenario","title":"Main scenario","text":"<p>Then, we create the main scenario from this sub-scenarios to minimize the objective function with respect to the global design variable \\(x_0\\):</p> <pre><code>bilevel_uscenario = UMDOScenario(\n    [scenario_1, scenario_2],\n    \"f\",\n    design_space.filter(\"x_0\", copy=True),\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples),\n    formulation_name=\"BiLevel\",\n    keep_opt_history=False,\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>and solve the MDO problem using the gradient-free COBYLA algorithm:</p> <pre><code>bilevel_uscenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=max_iter)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:14: *** Start UMDOScenario execution ***\n    INFO - 09:12:14: UMDOScenario\n    INFO - 09:12:14:    Disciplines: MDOScenario MDOScenario\n    INFO - 09:12:14:    Formulation:\n    INFO - 09:12:14:       MDO formulation: BiLevel\n    INFO - 09:12:14:       Statistic estimation: Sampling\n    INFO - 09:12:14:    Uncertain space:\n    INFO - 09:12:14:       +------+----------------------------+\n    INFO - 09:12:14:       | Name |        Distribution        |\n    INFO - 09:12:14:       +------+----------------------------+\n    INFO - 09:12:14:       |  u   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:14:       |  v   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:14:       +------+----------------------------+\n    INFO - 09:12:14: Optimization problem:\n    INFO - 09:12:14:    minimize E[f]\n    INFO - 09:12:14:    with respect to x_0\n    INFO - 09:12:14:    over the design space:\n    INFO - 09:12:14:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:14:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:14:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:14:       | x_0  |      -1     | -0.25 |      1      | float |\n    INFO - 09:12:14:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:14: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:12:15:      1%|          | 1/100 [00:00&lt;01:00,  1.64 it/sec, obj=2.44]\n    INFO - 09:12:16:      2%|\u258f         | 2/100 [00:01&lt;00:58,  1.67 it/sec, obj=1.43]\n    INFO - 09:12:16:      3%|\u258e         | 3/100 [00:01&lt;00:58,  1.65 it/sec, obj=0.309]\n    INFO - 09:12:17:      4%|\u258d         | 4/100 [00:02&lt;00:57,  1.67 it/sec, obj=0.495]\n    INFO - 09:12:17:      5%|\u258c         | 5/100 [00:03&lt;00:57,  1.64 it/sec, obj=1.32]\n    INFO - 09:12:18:      6%|\u258c         | 6/100 [00:03&lt;00:57,  1.63 it/sec, obj=0.226]\n    INFO - 09:12:19:      7%|\u258b         | 7/100 [00:04&lt;00:57,  1.62 it/sec, obj=0.121]\n    INFO - 09:12:19:      8%|\u258a         | 8/100 [00:04&lt;00:56,  1.62 it/sec, obj=0.1]\n    INFO - 09:12:20:      9%|\u2589         | 9/100 [00:05&lt;00:56,  1.61 it/sec, obj=0.0713]\n    INFO - 09:12:21:     10%|\u2588         | 10/100 [00:06&lt;00:55,  1.61 it/sec, obj=0.0618]\n    INFO - 09:12:21:     11%|\u2588         | 11/100 [00:06&lt;00:55,  1.61 it/sec, obj=0.0591]\n    INFO - 09:12:22:     12%|\u2588\u258f        | 12/100 [00:07&lt;00:54,  1.62 it/sec, obj=0.0566]\n    INFO - 09:12:22:     13%|\u2588\u258e        | 13/100 [00:08&lt;00:53,  1.62 it/sec, obj=0.0569]\n    INFO - 09:12:23:     14%|\u2588\u258d        | 14/100 [00:08&lt;00:52,  1.63 it/sec, obj=0.055]\n    INFO - 09:12:24:     15%|\u2588\u258c        | 15/100 [00:09&lt;00:51,  1.64 it/sec, obj=0.0553]\n    INFO - 09:12:24:     16%|\u2588\u258c        | 16/100 [00:09&lt;00:51,  1.64 it/sec, obj=0.0555]\n    INFO - 09:12:25:     17%|\u2588\u258b        | 17/100 [00:10&lt;00:50,  1.63 it/sec, obj=0.0556]\n    INFO - 09:12:25:     18%|\u2588\u258a        | 18/100 [00:11&lt;00:50,  1.63 it/sec, obj=0.0553]\n    INFO - 09:12:26:     19%|\u2588\u2589        | 19/100 [00:11&lt;00:49,  1.64 it/sec, obj=0.0555]\n    INFO - 09:12:27:     20%|\u2588\u2588        | 20/100 [00:12&lt;00:48,  1.64 it/sec, obj=0.0554]\n    INFO - 09:12:27:     21%|\u2588\u2588        | 21/100 [00:12&lt;00:48,  1.64 it/sec, obj=0.0554]\n    INFO - 09:12:28:     22%|\u2588\u2588\u258f       | 22/100 [00:13&lt;00:47,  1.64 it/sec, obj=0.0554]\n    INFO - 09:12:28:     23%|\u2588\u2588\u258e       | 23/100 [00:13&lt;00:46,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:29:     24%|\u2588\u2588\u258d       | 24/100 [00:14&lt;00:46,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:30:     25%|\u2588\u2588\u258c       | 25/100 [00:15&lt;00:45,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:30:     26%|\u2588\u2588\u258c       | 26/100 [00:15&lt;00:44,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:31:     27%|\u2588\u2588\u258b       | 27/100 [00:16&lt;00:44,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:31:     28%|\u2588\u2588\u258a       | 28/100 [00:16&lt;00:43,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:32:     29%|\u2588\u2588\u2589       | 29/100 [00:17&lt;00:42,  1.65 it/sec, obj=0.0554]\n    INFO - 09:12:32:     30%|\u2588\u2588\u2588       | 30/100 [00:18&lt;00:42,  1.66 it/sec, obj=0.0554]\n    INFO - 09:12:33:     31%|\u2588\u2588\u2588       | 31/100 [00:18&lt;00:41,  1.66 it/sec, obj=0.0554]\n    INFO - 09:12:34:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:19&lt;00:40,  1.66 it/sec, obj=0.0554]\n    INFO - 09:12:34:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:19&lt;00:40,  1.66 it/sec, obj=0.0554]\n    INFO - 09:12:34: Optimization result:\n    INFO - 09:12:34:    Optimizer info:\n    INFO - 09:12:34:       Status: None\n    INFO - 09:12:34:       Message: Successive iterates of the design variables are closer than xtol_rel or xtol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:34:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:34:    Solution:\n    INFO - 09:12:34:       Objective: 0.054968110055444705\n    INFO - 09:12:34:       Design space:\n    INFO - 09:12:34:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:34:          | Name | Lower bound |    Value     | Upper bound | Type  |\n    INFO - 09:12:34:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:34:          | x_0  |      -1     | 0.9951171875 |      1      | float |\n    INFO - 09:12:34:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:34: *** End UMDOScenario execution ***\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_bilevel_rosenbrock/#results","title":"Results","text":"<p>In this last section, we will compare <code>MDF</code> and <code>BiLevel</code> in terms of results.</p> <p>First, we can have a look at the optimum solution in terms of global variables:</p> <pre><code>mdf_x_opt = mdf_uscenario.optimization_result.x_opt\nbilevel_x_opt = bilevel_uscenario.optimization_result.x_opt\n</code></pre> <p>for <code>MDF</code>:</p> <pre><code>mdf_x_opt[0]\n</code></pre> <p>Out:</p> <pre><code>0.9637916535154898\n</code></pre> <p>for <code>BiLevel</code>:</p> <pre><code>bilevel_x_opt[0]\n</code></pre> <p>Out:</p> <pre><code>0.9951171875\n</code></pre> <p>The solutions are very close in terms of global design variables.</p> <p>Then, we can have a look at the optimum solution in terms of mean objective:</p> <pre><code>mdf_f_opt = mdf_uscenario.optimization_result.f_opt\nbilevel_f_opt = bilevel_uscenario.optimization_result.f_opt\n</code></pre> <p>for <code>MDF</code>:</p> <pre><code>mdf_f_opt\n</code></pre> <p>Out:</p> <pre><code>0.06305964299907771\n</code></pre> <p>for <code>BiLevel</code>:</p> <pre><code>bilevel_f_opt\n</code></pre> <p>Out:</p> <pre><code>0.054968110055444705\n</code></pre> <p>The <code>BiLevel</code> and <code>MDF</code> solutions seems to be very close.</p> <p>Finally, we execute the <code>BiLevel</code> formulation at the bi-level optimum, taking care to save the samples by disabling the option <code>estimate_statistics_iteratively</code>:</p> <pre><code>bilevel_uscenario = UMDOScenario(\n    [scenario_1, scenario_2],\n    \"f\",\n    design_space.filter(\"x_0\", copy=True),\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=n_samples, estimate_statistics_iteratively=False),\n    formulation_name=\"BiLevel\",\n    save_opt_history=False,\n)\nbilevel_uscenario.execute(algo_name=\"CustomDOE\", samples=atleast_2d(bilevel_x_opt))\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n    INFO - 09:12:34: *** Start UMDOScenario execution ***\n    INFO - 09:12:34: UMDOScenario\n    INFO - 09:12:34:    Disciplines: MDOScenario MDOScenario\n    INFO - 09:12:34:    Formulation:\n    INFO - 09:12:34:       MDO formulation: BiLevel\n    INFO - 09:12:34:       Statistic estimation: Sampling\n    INFO - 09:12:34:    Uncertain space:\n    INFO - 09:12:34:       +------+----------------------------+\n    INFO - 09:12:34:       | Name |        Distribution        |\n    INFO - 09:12:34:       +------+----------------------------+\n    INFO - 09:12:34:       |  u   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:34:       |  v   | Normal(mu=1.0, sigma=0.01) |\n    INFO - 09:12:34:       +------+----------------------------+\n    INFO - 09:12:34: Optimization problem:\n    INFO - 09:12:34:    minimize E[f]\n    INFO - 09:12:34:    with respect to x_0\n    INFO - 09:12:34:    over the design space:\n    INFO - 09:12:34:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:34:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:34:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:34:       | x_0  |      -1     | -0.25 |      1      | float |\n    INFO - 09:12:34:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:34: Solving optimization problem with algorithm CustomDOE:\n    INFO - 09:12:38:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1/1 [00:03&lt;00:00, 17.03 it/min, obj=0.0549]\n    INFO - 09:12:38: Optimization result:\n    INFO - 09:12:38:    Optimizer info:\n    INFO - 09:12:38:       Status: None\n    INFO - 09:12:38:       Message: None\n    INFO - 09:12:38:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:38:    Solution:\n    INFO - 09:12:38:       Objective: 0.054942761530702544\n    INFO - 09:12:38:       Design space:\n    INFO - 09:12:38:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:38:          | Name | Lower bound |    Value     | Upper bound | Type  |\n    INFO - 09:12:38:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:38:          | x_0  |      -1     | 0.9951171875 |      1      | float |\n    INFO - 09:12:38:          +------+-------------+--------------+-------------+-------+\n    INFO - 09:12:38: *** End UMDOScenario execution ***\n</code></pre> <p>This process generates samples \\(\\left(f(x_0^*,u^{(i)},v^{(i)})\\right)_{1\\leq i \\leq N}\\) where \\(u^{(1)},\\ldots,u^{(N)}\\) (resp. \\(v^{(1)},\\ldots,v^{(N)}\\)) are independent realizations of the random variable \\(U\\) (resp. \\(V\\)).</p> <pre><code>database = bilevel_uscenario.formulation.mdo_formulation.optimization_problem.database\nf_samples = database.get_function_history(\"f\").ravel()\n</code></pre> <p>that we can plot using a histogram:</p> <pre><code>plt.boxplot(f_samples, vert=False)\nplt.plot(mdf_f_opt, 1, \"bo\", label=r\"$f^*(MDF)$\")\nplt.plot(bilevel_f_opt, 1, \"rs\", label=r\"$f^*(BiLevel)$\")\nplt.xlabel(\"f\")\nplt.grid()\nplt.legend()\nplt.show()\n</code></pre> <p></p> <p>We can see that, on average, the <code>BiLevel</code> solution in red and the <code>MDF</code> solution in blue are close as mentioned above. Moreover, there are realizations of \\(U\\) and \\(V\\) for which the <code>BiLevel</code> solution could be much better than the <code>MDF</code> solution. This is one of the advantages of using the <code>BiLevel</code> formulation under uncertainty: choosing the global design variable values now, and leave ourselves time to choose those of the local design variables, in the hope that, in the future, the uncertainties will decrease and lead us to an even more favorable solution.</p> <p>Total running time of the script: ( 0 minutes  34.210 seconds)</p> <p> Download Python source code: plot_bilevel_rosenbrock.py</p> <p> Download Jupyter notebook: plot_bilevel_rosenbrock.ipynb</p> <p>Gallery generated by mkdocs-gallery</p> <ol> <li> <p>Amine Aziz Alaoui. Contributions to multidisciplinary design optimization under uncertainty, with applications to aircraft design. Theses, Universit\u00e9 de Toulouse, February 2025. URL: https://theses.hal.science/tel-05059696.\u00a0\u21a9</p> </li> </ol>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/","title":"Managing uncertain equality constraints","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#managing-uncertain-equality-constraints","title":"Managing uncertain equality constraints","text":"<p>This example shows a simple way to manage an uncertain equality constraint associated with a threshold, by forcing the mean of its left-hand side to be equal to this threshold and its variance to be zero.</p> <p>The reference optimization problem consists in minimizing the Rosenbrock function \\(f(x,y)=(1-x)^2+100(y-x^2)^2\\) over \\([-2,2]^2\\) under the equality constraint \\(h(x,y)=r^2\\) with \\(h(x,y)=(x-1)^2+(y-1)^2\\) and \\(r=0.25\\).</p> <p>In the following, we suppose that \\(f(x,y)\\) and \\(h(x,y)\\) depend on uncertain parameters \\(a\\) and \\(b\\), as \\(f(x,y)=(a-x)^2+100(y-x^2)^2\\) and \\(h(x,y)=(x-b)^2+(y-1)^2\\), and seek to minimize \\(\\mathbb{E}[f(x,y)]\\) under the equality constraints \\(\\mathbb{E}[h(x,y)]=r^2\\) and \\(\\mathbb{V}[h(x,y)]=0\\).</p> <pre><code>from gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\nfrom gemseo.scenarios.mdo_scenario import MDOScenario\nfrom matplotlib import pyplot as plt\nfrom matplotlib.pyplot import colormaps\nfrom numpy import array\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#discipline-and-design-space","title":"Discipline and design space","text":"<p>First, we create a discipline to evaluate \\(f\\) and \\(h\\) from the design variables \\(x\\) and \\(y\\) and from the uncertain variables \\(a\\) and \\(b\\) initialized at 1:</p> <pre><code>discipline = AnalyticDiscipline({\n    \"f\": \"(a-x)**2+100*(y-x**2)**2\",\n    \"h\": \"(x-b)**2+(y-1)**2\",\n})\ndiscipline.io.input_grammar.defaults[\"a\"] = array([1.0])\ndiscipline.io.input_grammar.defaults[\"b\"] = array([1.0])\n</code></pre> <p>Then, we create the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-2, upper_bound=2.0)\ndesign_space.add_variable(\"y\", lower_bound=-2, upper_bound=2.0)\n</code></pre> <p>and the initial design point:</p> <pre><code>initial_design = array([1.75, 1.75])\n</code></pre> <p>For visualization purposes, we sample the objective function over a regular grid:</p> <pre><code>scenario = MDOScenario(\n    [discipline],\n    \"f\",\n    design_space,\n    formulation_name=\"DisciplinaryOpt\",\n)\nscenario.execute(algo_name=\"OT_FULLFACT\", n_samples=20 * 20)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:54: *** Start MDOScenario execution ***\n    INFO - 09:11:54: MDOScenario\n    INFO - 09:11:54:    Disciplines: AnalyticDiscipline\n    INFO - 09:11:54:    MDO formulation: DisciplinaryOpt\n    INFO - 09:11:54: Optimization problem:\n    INFO - 09:11:54:    minimize f(x, y)\n    INFO - 09:11:54:    with respect to x, y\n    INFO - 09:11:54:    over the design space:\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54:       | x    |      -2     |  None |      2      | float |\n    INFO - 09:11:54:       | y    |      -2     |  None |      2      | float |\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54: Solving optimization problem with algorithm OT_FULLFACT:\n    INFO - 09:11:54:      1%|          | 3/400 [00:00&lt;00:00, 1004.86 it/sec, obj=2.03e+3]\n    INFO - 09:11:54:      1%|          | 4/400 [00:00&lt;00:00, 1210.56 it/sec, obj=1.51e+3]\n    INFO - 09:11:54:      1%|\u258f         | 5/400 [00:00&lt;00:00, 1379.43 it/sec, obj=1.12e+3]\n    INFO - 09:11:54:      2%|\u258f         | 6/400 [00:00&lt;00:00, 1522.80 it/sec, obj=843]\n    INFO - 09:11:54:      2%|\u258f         | 7/400 [00:00&lt;00:00, 1651.95 it/sec, obj=650]\n    INFO - 09:11:54:      2%|\u258f         | 8/400 [00:00&lt;00:00, 1765.37 it/sec, obj=521]\n    INFO - 09:11:54:      2%|\u258f         | 9/400 [00:00&lt;00:00, 1853.97 it/sec, obj=443]\n    INFO - 09:11:54:      2%|\u258e         | 10/400 [00:00&lt;00:00, 1943.43 it/sec, obj=406]\n    INFO - 09:11:54:      3%|\u258e         | 11/400 [00:00&lt;00:00, 2024.81 it/sec, obj=405]\n    INFO - 09:11:54:      3%|\u258e         | 12/400 [00:00&lt;00:00, 2072.11 it/sec, obj=441]\n    INFO - 09:11:54:      3%|\u258e         | 13/400 [00:00&lt;00:00, 2134.17 it/sec, obj=519]\n    INFO - 09:11:54:      4%|\u258e         | 14/400 [00:00&lt;00:00, 2193.43 it/sec, obj=647]\n    INFO - 09:11:54:      4%|\u258d         | 15/400 [00:00&lt;00:00, 2239.59 it/sec, obj=840]\n    INFO - 09:11:54:      4%|\u258d         | 16/400 [00:00&lt;00:00, 2284.25 it/sec, obj=1.12e+3]\n    INFO - 09:11:54:      4%|\u258d         | 17/400 [00:00&lt;00:00, 2330.47 it/sec, obj=1.5e+3]\n    INFO - 09:11:54:      4%|\u258d         | 18/400 [00:00&lt;00:00, 2367.14 it/sec, obj=2.02e+3]\n    INFO - 09:11:54:      5%|\u258d         | 19/400 [00:00&lt;00:00, 2399.78 it/sec, obj=2.71e+3]\n    INFO - 09:11:54:      5%|\u258c         | 20/400 [00:00&lt;00:00, 2436.85 it/sec, obj=3601.0]\n    INFO - 09:11:54:      5%|\u258c         | 21/400 [00:00&lt;00:00, 2471.81 it/sec, obj=3.36e+3]\n    INFO - 09:11:54:      6%|\u258c         | 22/400 [00:00&lt;00:00, 2495.26 it/sec, obj=2.5e+3]\n    INFO - 09:11:54:      6%|\u258c         | 23/400 [00:00&lt;00:00, 2495.19 it/sec, obj=1.84e+3]\n    INFO - 09:11:54:      6%|\u258c         | 24/400 [00:00&lt;00:00, 2521.25 it/sec, obj=1.35e+3]\n    INFO - 09:11:54:      6%|\u258b         | 25/400 [00:00&lt;00:00, 2538.92 it/sec, obj=984]\n    INFO - 09:11:54:      6%|\u258b         | 26/400 [00:00&lt;00:00, 2562.19 it/sec, obj=726]\n    INFO - 09:11:54:      7%|\u258b         | 27/400 [00:00&lt;00:00, 2582.29 it/sec, obj=547]\n    INFO - 09:11:54:      7%|\u258b         | 28/400 [00:00&lt;00:00, 2593.99 it/sec, obj=429]\n    INFO - 09:11:54:      7%|\u258b         | 29/400 [00:00&lt;00:00, 2602.48 it/sec, obj=359]\n    INFO - 09:11:54:      8%|\u258a         | 30/400 [00:00&lt;00:00, 2615.56 it/sec, obj=325]\n    INFO - 09:11:54:      8%|\u258a         | 31/400 [00:00&lt;00:00, 2625.41 it/sec, obj=325]\n    INFO - 09:11:54:      8%|\u258a         | 32/400 [00:00&lt;00:00, 2631.93 it/sec, obj=357]\n    INFO - 09:11:54:      8%|\u258a         | 33/400 [00:00&lt;00:00, 2641.35 it/sec, obj=427]\n    INFO - 09:11:54:      8%|\u258a         | 34/400 [00:00&lt;00:00, 2651.91 it/sec, obj=544]\n    INFO - 09:11:54:      9%|\u2589         | 35/400 [00:00&lt;00:00, 2668.52 it/sec, obj=722]\n    INFO - 09:11:54:      9%|\u2589         | 36/400 [00:00&lt;00:00, 2685.74 it/sec, obj=980]\n    INFO - 09:11:54:      9%|\u2589         | 37/400 [00:00&lt;00:00, 2698.43 it/sec, obj=1.34e+3]\n    INFO - 09:11:54:     10%|\u2589         | 38/400 [00:00&lt;00:00, 2710.93 it/sec, obj=1.83e+3]\n    INFO - 09:11:54:     10%|\u2589         | 39/400 [00:00&lt;00:00, 2724.53 it/sec, obj=2.49e+3]\n    INFO - 09:11:54:     10%|\u2588         | 40/400 [00:00&lt;00:00, 2735.07 it/sec, obj=3.35e+3]\n    INFO - 09:11:54:     10%|\u2588         | 41/400 [00:00&lt;00:00, 2744.61 it/sec, obj=3.12e+3]\n    INFO - 09:11:54:     10%|\u2588         | 42/400 [00:00&lt;00:00, 2754.58 it/sec, obj=2.29e+3]\n    INFO - 09:11:54:     11%|\u2588         | 43/400 [00:00&lt;00:00, 2766.95 it/sec, obj=1.66e+3]\n    INFO - 09:11:54:     11%|\u2588         | 44/400 [00:00&lt;00:00, 2772.22 it/sec, obj=1.2e+3]\n    INFO - 09:11:54:     11%|\u2588\u258f        | 45/400 [00:00&lt;00:00, 2782.97 it/sec, obj=857]\n    INFO - 09:11:54:     12%|\u2588\u258f        | 46/400 [00:00&lt;00:00, 2793.45 it/sec, obj=617]\n    INFO - 09:11:54:     12%|\u2588\u258f        | 47/400 [00:00&lt;00:00, 2795.33 it/sec, obj=453]\n    INFO - 09:11:54:     12%|\u2588\u258f        | 48/400 [00:00&lt;00:00, 2805.98 it/sec, obj=347]\n    INFO - 09:11:54:     12%|\u2588\u258f        | 49/400 [00:00&lt;00:00, 2815.24 it/sec, obj=284]\n    INFO - 09:11:54:     12%|\u2588\u258e        | 50/400 [00:00&lt;00:00, 2817.09 it/sec, obj=254]\n    INFO - 09:11:54:     13%|\u2588\u258e        | 51/400 [00:00&lt;00:00, 2823.74 it/sec, obj=254]\n    INFO - 09:11:54:     13%|\u2588\u258e        | 52/400 [00:00&lt;00:00, 2834.06 it/sec, obj=282]\n    INFO - 09:11:54:     13%|\u2588\u258e        | 53/400 [00:00&lt;00:00, 2841.27 it/sec, obj=345]\n    INFO - 09:11:54:     14%|\u2588\u258e        | 54/400 [00:00&lt;00:00, 2848.60 it/sec, obj=450]\n    INFO - 09:11:54:     14%|\u2588\u258d        | 55/400 [00:00&lt;00:00, 2857.76 it/sec, obj=613]\n    INFO - 09:11:54:     14%|\u2588\u258d        | 56/400 [00:00&lt;00:00, 2867.13 it/sec, obj=852]\n    INFO - 09:11:54:     14%|\u2588\u258d        | 57/400 [00:00&lt;00:00, 2868.54 it/sec, obj=1.19e+3]\n    INFO - 09:11:54:     14%|\u2588\u258d        | 58/400 [00:00&lt;00:00, 2876.96 it/sec, obj=1.66e+3]\n    INFO - 09:11:54:     15%|\u2588\u258d        | 59/400 [00:00&lt;00:00, 2884.90 it/sec, obj=2.29e+3]\n    INFO - 09:11:54:     15%|\u2588\u258c        | 60/400 [00:00&lt;00:00, 2887.31 it/sec, obj=3.11e+3]\n    INFO - 09:11:54:     15%|\u2588\u258c        | 61/400 [00:00&lt;00:00, 2893.83 it/sec, obj=2.89e+3]\n    INFO - 09:11:54:     16%|\u2588\u258c        | 62/400 [00:00&lt;00:00, 2899.30 it/sec, obj=2.1e+3]\n    INFO - 09:11:54:     16%|\u2588\u258c        | 63/400 [00:00&lt;00:00, 2904.36 it/sec, obj=1.5e+3]\n    INFO - 09:11:54:     16%|\u2588\u258c        | 64/400 [00:00&lt;00:00, 2909.59 it/sec, obj=1.06e+3]\n    INFO - 09:11:54:     16%|\u2588\u258b        | 65/400 [00:00&lt;00:00, 2915.86 it/sec, obj=739]\n    INFO - 09:11:54:     16%|\u2588\u258b        | 66/400 [00:00&lt;00:00, 2916.33 it/sec, obj=517]\n    INFO - 09:11:54:     17%|\u2588\u258b        | 67/400 [00:00&lt;00:00, 2918.55 it/sec, obj=368]\n    INFO - 09:11:54:     17%|\u2588\u258b        | 68/400 [00:00&lt;00:00, 2923.91 it/sec, obj=273]\n    INFO - 09:11:54:     17%|\u2588\u258b        | 69/400 [00:00&lt;00:00, 2930.61 it/sec, obj=217]\n    INFO - 09:11:54:     18%|\u2588\u258a        | 70/400 [00:00&lt;00:00, 2933.34 it/sec, obj=192]\n    INFO - 09:11:54:     18%|\u2588\u258a        | 71/400 [00:00&lt;00:00, 2939.86 it/sec, obj=191]\n    INFO - 09:11:54:     18%|\u2588\u258a        | 72/400 [00:00&lt;00:00, 2946.24 it/sec, obj=216]\n    INFO - 09:11:54:     18%|\u2588\u258a        | 73/400 [00:00&lt;00:00, 2945.10 it/sec, obj=271]\n    INFO - 09:11:54:     18%|\u2588\u258a        | 74/400 [00:00&lt;00:00, 2949.58 it/sec, obj=365]\n    INFO - 09:11:54:     19%|\u2588\u2589        | 75/400 [00:00&lt;00:00, 2955.01 it/sec, obj=513]\n    INFO - 09:11:54:     19%|\u2588\u2589        | 76/400 [00:00&lt;00:00, 2958.40 it/sec, obj=734]\n    INFO - 09:11:54:     19%|\u2588\u2589        | 77/400 [00:00&lt;00:00, 2962.76 it/sec, obj=1.05e+3]\n    INFO - 09:11:54:     20%|\u2588\u2589        | 78/400 [00:00&lt;00:00, 2968.13 it/sec, obj=1.49e+3]\n    INFO - 09:11:54:     20%|\u2588\u2589        | 79/400 [00:00&lt;00:00, 2971.70 it/sec, obj=2.09e+3]\n    INFO - 09:11:54:     20%|\u2588\u2588        | 80/400 [00:00&lt;00:00, 2975.37 it/sec, obj=2.88e+3]\n    INFO - 09:11:54:     20%|\u2588\u2588        | 81/400 [00:00&lt;00:00, 2980.24 it/sec, obj=2.67e+3]\n    INFO - 09:11:54:     20%|\u2588\u2588        | 82/400 [00:00&lt;00:00, 2981.39 it/sec, obj=1.91e+3]\n    INFO - 09:11:54:     21%|\u2588\u2588        | 83/400 [00:00&lt;00:00, 2978.88 it/sec, obj=1.34e+3]\n    INFO - 09:11:54:     21%|\u2588\u2588        | 84/400 [00:00&lt;00:00, 2982.46 it/sec, obj=924]\n    INFO - 09:11:54:     21%|\u2588\u2588\u258f       | 85/400 [00:00&lt;00:00, 2985.47 it/sec, obj=629]\n    INFO - 09:11:54:     22%|\u2588\u2588\u258f       | 86/400 [00:00&lt;00:00, 2986.26 it/sec, obj=426]\n    INFO - 09:11:54:     22%|\u2588\u2588\u258f       | 87/400 [00:00&lt;00:00, 2990.51 it/sec, obj=292]\n    INFO - 09:11:54:     22%|\u2588\u2588\u258f       | 88/400 [00:00&lt;00:00, 2994.69 it/sec, obj=208]\n    INFO - 09:11:54:     22%|\u2588\u2588\u258f       | 89/400 [00:00&lt;00:00, 2991.83 it/sec, obj=160]\n    INFO - 09:11:54:     22%|\u2588\u2588\u258e       | 90/400 [00:00&lt;00:00, 2994.67 it/sec, obj=138]\n    INFO - 09:11:54:     23%|\u2588\u2588\u258e       | 91/400 [00:00&lt;00:00, 2996.66 it/sec, obj=137]\n    INFO - 09:11:54:     23%|\u2588\u2588\u258e       | 92/400 [00:00&lt;00:00, 2999.03 it/sec, obj=159]\n    INFO - 09:11:54:     23%|\u2588\u2588\u258e       | 93/400 [00:00&lt;00:00, 2997.82 it/sec, obj=206]\n    INFO - 09:11:54:     24%|\u2588\u2588\u258e       | 94/400 [00:00&lt;00:00, 3000.49 it/sec, obj=289]\n    INFO - 09:11:54:     24%|\u2588\u2588\u258d       | 95/400 [00:00&lt;00:00, 3002.03 it/sec, obj=422]\n    INFO - 09:11:54:     24%|\u2588\u2588\u258d       | 96/400 [00:00&lt;00:00, 3005.10 it/sec, obj=624]\n    INFO - 09:11:54:     24%|\u2588\u2588\u258d       | 97/400 [00:00&lt;00:00, 3008.29 it/sec, obj=919]\n    INFO - 09:11:54:     24%|\u2588\u2588\u258d       | 98/400 [00:00&lt;00:00, 3012.40 it/sec, obj=1.33e+3]\n    INFO - 09:11:54:     25%|\u2588\u2588\u258d       | 99/400 [00:00&lt;00:00, 3012.71 it/sec, obj=1.9e+3]\n    INFO - 09:11:54:     25%|\u2588\u2588\u258c       | 100/400 [00:00&lt;00:00, 3016.73 it/sec, obj=2.66e+3]\n    INFO - 09:11:54:     25%|\u2588\u2588\u258c       | 101/400 [00:00&lt;00:00, 3020.32 it/sec, obj=2.46e+3]\n    INFO - 09:11:54:     26%|\u2588\u2588\u258c       | 102/400 [00:00&lt;00:00, 3022.22 it/sec, obj=1.73e+3]\n    INFO - 09:11:54:     26%|\u2588\u2588\u258c       | 103/400 [00:00&lt;00:00, 3024.52 it/sec, obj=1.19e+3]\n    INFO - 09:11:54:     26%|\u2588\u2588\u258c       | 104/400 [00:00&lt;00:00, 3028.27 it/sec, obj=801]\n    INFO - 09:11:54:     26%|\u2588\u2588\u258b       | 105/400 [00:00&lt;00:00, 3030.55 it/sec, obj=528]\n    INFO - 09:11:54:     26%|\u2588\u2588\u258b       | 106/400 [00:00&lt;00:00, 3031.58 it/sec, obj=344]\n    INFO - 09:11:54:     27%|\u2588\u2588\u258b       | 107/400 [00:00&lt;00:00, 3029.58 it/sec, obj=225]\n    INFO - 09:11:54:     27%|\u2588\u2588\u258b       | 108/400 [00:00&lt;00:00, 3031.66 it/sec, obj=152]\n    INFO - 09:11:54:     27%|\u2588\u2588\u258b       | 109/400 [00:00&lt;00:00, 3033.86 it/sec, obj=111]\n    INFO - 09:11:54:     28%|\u2588\u2588\u258a       | 110/400 [00:00&lt;00:00, 3037.57 it/sec, obj=93.1]\n    INFO - 09:11:54:     28%|\u2588\u2588\u258a       | 111/400 [00:00&lt;00:00, 3041.06 it/sec, obj=92.7]\n    INFO - 09:11:54:     28%|\u2588\u2588\u258a       | 112/400 [00:00&lt;00:00, 3037.09 it/sec, obj=110]\n    INFO - 09:11:54:     28%|\u2588\u2588\u258a       | 113/400 [00:00&lt;00:00, 3040.15 it/sec, obj=150]\n    INFO - 09:11:54:     28%|\u2588\u2588\u258a       | 114/400 [00:00&lt;00:00, 3043.47 it/sec, obj=222]\n    INFO - 09:11:54:     29%|\u2588\u2588\u2589       | 115/400 [00:00&lt;00:00, 3044.53 it/sec, obj=340]\n    INFO - 09:11:54:     29%|\u2588\u2588\u2589       | 116/400 [00:00&lt;00:00, 3047.63 it/sec, obj=524]\n    INFO - 09:11:54:     29%|\u2588\u2588\u2589       | 117/400 [00:00&lt;00:00, 3050.91 it/sec, obj=795]\n    INFO - 09:11:54:     30%|\u2588\u2588\u2589       | 118/400 [00:00&lt;00:00, 3052.70 it/sec, obj=1.18e+3]\n    INFO - 09:11:54:     30%|\u2588\u2588\u2589       | 119/400 [00:00&lt;00:00, 3054.70 it/sec, obj=1.72e+3]\n    INFO - 09:11:54:     30%|\u2588\u2588\u2588       | 120/400 [00:00&lt;00:00, 3057.82 it/sec, obj=2.45e+3]\n    INFO - 09:11:54:     30%|\u2588\u2588\u2588       | 121/400 [00:00&lt;00:00, 3060.96 it/sec, obj=2.25e+3]\n    INFO - 09:11:54:     30%|\u2588\u2588\u2588       | 122/400 [00:00&lt;00:00, 3061.15 it/sec, obj=1.56e+3]\n    INFO - 09:11:54:     31%|\u2588\u2588\u2588       | 123/400 [00:00&lt;00:00, 3064.12 it/sec, obj=1.05e+3]\n    INFO - 09:11:54:     31%|\u2588\u2588\u2588       | 124/400 [00:00&lt;00:00, 3066.84 it/sec, obj=687]\n    INFO - 09:11:54:     31%|\u2588\u2588\u2588\u258f      | 125/400 [00:00&lt;00:00, 3068.18 it/sec, obj=436]\n    INFO - 09:11:54:     32%|\u2588\u2588\u2588\u258f      | 126/400 [00:00&lt;00:00, 3070.57 it/sec, obj=271]\n    INFO - 09:11:54:     32%|\u2588\u2588\u2588\u258f      | 127/400 [00:00&lt;00:00, 3073.57 it/sec, obj=167]\n    INFO - 09:11:54:     32%|\u2588\u2588\u2588\u258f      | 128/400 [00:00&lt;00:00, 3075.60 it/sec, obj=105]\n    INFO - 09:11:54:     32%|\u2588\u2588\u2588\u258f      | 129/400 [00:00&lt;00:00, 3077.45 it/sec, obj=71.7]\n    INFO - 09:11:54:     32%|\u2588\u2588\u2588\u258e      | 130/400 [00:00&lt;00:00, 3080.02 it/sec, obj=57.2]\n    INFO - 09:11:54:     33%|\u2588\u2588\u2588\u258e      | 131/400 [00:00&lt;00:00, 3082.84 it/sec, obj=56.7]\n    INFO - 09:11:54:     33%|\u2588\u2588\u2588\u258e      | 132/400 [00:00&lt;00:00, 3083.51 it/sec, obj=70.5]\n    INFO - 09:11:54:     33%|\u2588\u2588\u2588\u258e      | 133/400 [00:00&lt;00:00, 3086.40 it/sec, obj=103]\n    INFO - 09:11:54:     34%|\u2588\u2588\u2588\u258e      | 134/400 [00:00&lt;00:00, 3089.51 it/sec, obj=164]\n    INFO - 09:11:54:     34%|\u2588\u2588\u2588\u258d      | 135/400 [00:00&lt;00:00, 3090.98 it/sec, obj=267]\n    INFO - 09:11:54:     34%|\u2588\u2588\u2588\u258d      | 136/400 [00:00&lt;00:00, 3093.09 it/sec, obj=432]\n    INFO - 09:11:54:     34%|\u2588\u2588\u2588\u258d      | 137/400 [00:00&lt;00:00, 3095.73 it/sec, obj=681]\n    INFO - 09:11:54:     34%|\u2588\u2588\u2588\u258d      | 138/400 [00:00&lt;00:00, 3098.53 it/sec, obj=1.04e+3]\n    INFO - 09:11:54:     35%|\u2588\u2588\u2588\u258d      | 139/400 [00:00&lt;00:00, 3098.83 it/sec, obj=1.55e+3]\n    INFO - 09:11:54:     35%|\u2588\u2588\u2588\u258c      | 140/400 [00:00&lt;00:00, 3101.39 it/sec, obj=2.24e+3]\n    INFO - 09:11:54:     35%|\u2588\u2588\u2588\u258c      | 141/400 [00:00&lt;00:00, 3104.27 it/sec, obj=2.06e+3]\n    INFO - 09:11:54:     36%|\u2588\u2588\u2588\u258c      | 142/400 [00:00&lt;00:00, 3105.47 it/sec, obj=1.4e+3]\n    INFO - 09:11:54:     36%|\u2588\u2588\u2588\u258c      | 143/400 [00:00&lt;00:00, 3107.21 it/sec, obj=918]\n    INFO - 09:11:54:     36%|\u2588\u2588\u2588\u258c      | 144/400 [00:00&lt;00:00, 3109.93 it/sec, obj=581]\n    INFO - 09:11:54:     36%|\u2588\u2588\u2588\u258b      | 145/400 [00:00&lt;00:00, 3111.45 it/sec, obj=353]\n    INFO - 09:11:54:     36%|\u2588\u2588\u2588\u258b      | 146/400 [00:00&lt;00:00, 3113.15 it/sec, obj=207]\n    INFO - 09:11:54:     37%|\u2588\u2588\u2588\u258b      | 147/400 [00:00&lt;00:00, 3115.57 it/sec, obj=117]\n    INFO - 09:11:54:     37%|\u2588\u2588\u2588\u258b      | 148/400 [00:00&lt;00:00, 3118.24 it/sec, obj=66.9]\n    INFO - 09:11:54:     37%|\u2588\u2588\u2588\u258b      | 149/400 [00:00&lt;00:00, 3118.69 it/sec, obj=40.9]\n    INFO - 09:11:54:     38%|\u2588\u2588\u2588\u258a      | 150/400 [00:00&lt;00:00, 3120.58 it/sec, obj=30.1]\n    INFO - 09:11:54:     38%|\u2588\u2588\u2588\u258a      | 151/400 [00:00&lt;00:00, 3123.01 it/sec, obj=29.7]\n    INFO - 09:11:54:     38%|\u2588\u2588\u2588\u258a      | 152/400 [00:00&lt;00:00, 3124.31 it/sec, obj=39.7]\n    INFO - 09:11:54:     38%|\u2588\u2588\u2588\u258a      | 153/400 [00:00&lt;00:00, 3125.93 it/sec, obj=64.8]\n    INFO - 09:11:54:     38%|\u2588\u2588\u2588\u258a      | 154/400 [00:00&lt;00:00, 3128.21 it/sec, obj=114]\n    INFO - 09:11:54:     39%|\u2588\u2588\u2588\u2589      | 155/400 [00:00&lt;00:00, 3129.94 it/sec, obj=203]\n    INFO - 09:11:54:     39%|\u2588\u2588\u2588\u2589      | 156/400 [00:00&lt;00:00, 3130.33 it/sec, obj=349]\n    INFO - 09:11:54:     39%|\u2588\u2588\u2588\u2589      | 157/400 [00:00&lt;00:00, 3132.47 it/sec, obj=576]\n    INFO - 09:11:54:     40%|\u2588\u2588\u2588\u2589      | 158/400 [00:00&lt;00:00, 3134.86 it/sec, obj=912]\n    INFO - 09:11:54:     40%|\u2588\u2588\u2588\u2589      | 159/400 [00:00&lt;00:00, 3135.23 it/sec, obj=1.39e+3]\n    INFO - 09:11:54:     40%|\u2588\u2588\u2588\u2588      | 160/400 [00:00&lt;00:00, 3136.53 it/sec, obj=2.05e+3]\n    INFO - 09:11:54:     40%|\u2588\u2588\u2588\u2588      | 161/400 [00:00&lt;00:00, 3138.43 it/sec, obj=1.87e+3]\n    INFO - 09:11:54:     40%|\u2588\u2588\u2588\u2588      | 162/400 [00:00&lt;00:00, 3139.32 it/sec, obj=1.25e+3]\n    INFO - 09:11:54:     41%|\u2588\u2588\u2588\u2588      | 163/400 [00:00&lt;00:00, 3140.70 it/sec, obj=796]\n    INFO - 09:11:54:     41%|\u2588\u2588\u2588\u2588      | 164/400 [00:00&lt;00:00, 3142.32 it/sec, obj=485]\n    INFO - 09:11:54:     41%|\u2588\u2588\u2588\u2588\u258f     | 165/400 [00:00&lt;00:00, 3144.51 it/sec, obj=279]\n    INFO - 09:11:54:     42%|\u2588\u2588\u2588\u2588\u258f     | 166/400 [00:00&lt;00:00, 3145.15 it/sec, obj=151]\n    INFO - 09:11:54:     42%|\u2588\u2588\u2588\u2588\u258f     | 167/400 [00:00&lt;00:00, 3147.04 it/sec, obj=76.8]\n    INFO - 09:11:54:     42%|\u2588\u2588\u2588\u2588\u258f     | 168/400 [00:00&lt;00:00, 3149.13 it/sec, obj=37.5]\n    INFO - 09:11:54:     42%|\u2588\u2588\u2588\u2588\u258f     | 169/400 [00:00&lt;00:00, 3150.22 it/sec, obj=19]\n    INFO - 09:11:54:     42%|\u2588\u2588\u2588\u2588\u258e     | 170/400 [00:00&lt;00:00, 3151.59 it/sec, obj=11.9]\n    INFO - 09:11:54:     43%|\u2588\u2588\u2588\u2588\u258e     | 171/400 [00:00&lt;00:00, 3153.22 it/sec, obj=11.5]\n    INFO - 09:11:54:     43%|\u2588\u2588\u2588\u2588\u258e     | 172/400 [00:00&lt;00:00, 3155.32 it/sec, obj=17.7]\n    INFO - 09:11:54:     43%|\u2588\u2588\u2588\u2588\u258e     | 173/400 [00:00&lt;00:00, 3155.33 it/sec, obj=35.4]\n    INFO - 09:11:54:     44%|\u2588\u2588\u2588\u2588\u258e     | 174/400 [00:00&lt;00:00, 3156.97 it/sec, obj=73.8]\n    INFO - 09:11:54:     44%|\u2588\u2588\u2588\u2588\u258d     | 175/400 [00:00&lt;00:00, 3159.11 it/sec, obj=147]\n    INFO - 09:11:54:     44%|\u2588\u2588\u2588\u2588\u258d     | 176/400 [00:00&lt;00:00, 3159.92 it/sec, obj=274]\n    INFO - 09:11:54:     44%|\u2588\u2588\u2588\u2588\u258d     | 177/400 [00:00&lt;00:00, 3161.28 it/sec, obj=479]\n    INFO - 09:11:54:     44%|\u2588\u2588\u2588\u2588\u258d     | 178/400 [00:00&lt;00:00, 3163.15 it/sec, obj=789]\n    INFO - 09:11:54:     45%|\u2588\u2588\u2588\u2588\u258d     | 179/400 [00:00&lt;00:00, 3164.10 it/sec, obj=1.24e+3]\n    INFO - 09:11:54:     45%|\u2588\u2588\u2588\u2588\u258c     | 180/400 [00:00&lt;00:00, 3163.62 it/sec, obj=1.86e+3]\n    INFO - 09:11:54:     45%|\u2588\u2588\u2588\u2588\u258c     | 181/400 [00:00&lt;00:00, 3165.25 it/sec, obj=1.69e+3]\n    INFO - 09:11:54:     46%|\u2588\u2588\u2588\u2588\u258c     | 182/400 [00:00&lt;00:00, 3166.60 it/sec, obj=1.1e+3]\n    INFO - 09:11:54:     46%|\u2588\u2588\u2588\u2588\u258c     | 183/400 [00:00&lt;00:00, 3166.64 it/sec, obj=682]\n    INFO - 09:11:54:     46%|\u2588\u2588\u2588\u2588\u258c     | 184/400 [00:00&lt;00:00, 3168.33 it/sec, obj=397]\n    INFO - 09:11:54:     46%|\u2588\u2588\u2588\u2588\u258b     | 185/400 [00:00&lt;00:00, 3169.84 it/sec, obj=214]\n    INFO - 09:11:54:     46%|\u2588\u2588\u2588\u2588\u258b     | 186/400 [00:00&lt;00:00, 3170.30 it/sec, obj=104]\n    INFO - 09:11:54:     47%|\u2588\u2588\u2588\u2588\u258b     | 187/400 [00:00&lt;00:00, 3170.02 it/sec, obj=45]\n    INFO - 09:11:54:     47%|\u2588\u2588\u2588\u2588\u258b     | 188/400 [00:00&lt;00:00, 3171.69 it/sec, obj=16.9]\n    INFO - 09:11:54:     47%|\u2588\u2588\u2588\u2588\u258b     | 189/400 [00:00&lt;00:00, 3172.71 it/sec, obj=5.93]\n    INFO - 09:11:54:     48%|\u2588\u2588\u2588\u2588\u258a     | 190/400 [00:00&lt;00:00, 3173.37 it/sec, obj=2.58]\n    INFO - 09:11:54:     48%|\u2588\u2588\u2588\u2588\u258a     | 191/400 [00:00&lt;00:00, 3172.17 it/sec, obj=2.15]\n    INFO - 09:11:54:     48%|\u2588\u2588\u2588\u2588\u258a     | 192/400 [00:00&lt;00:00, 3173.71 it/sec, obj=4.67]\n    INFO - 09:11:54:     48%|\u2588\u2588\u2588\u2588\u258a     | 193/400 [00:00&lt;00:00, 3173.49 it/sec, obj=14.8]\n    INFO - 09:11:54:     48%|\u2588\u2588\u2588\u2588\u258a     | 194/400 [00:00&lt;00:00, 3174.84 it/sec, obj=42.1]\n    INFO - 09:11:54:     49%|\u2588\u2588\u2588\u2588\u2589     | 195/400 [00:00&lt;00:00, 3176.52 it/sec, obj=101]\n    INFO - 09:11:54:     49%|\u2588\u2588\u2588\u2588\u2589     | 196/400 [00:00&lt;00:00, 3177.16 it/sec, obj=209]\n    INFO - 09:11:54:     49%|\u2588\u2588\u2588\u2588\u2589     | 197/400 [00:00&lt;00:00, 3177.98 it/sec, obj=391]\n    INFO - 09:11:54:     50%|\u2588\u2588\u2588\u2588\u2589     | 198/400 [00:00&lt;00:00, 3179.29 it/sec, obj=675]\n    INFO - 09:11:54:     50%|\u2588\u2588\u2588\u2588\u2589     | 199/400 [00:00&lt;00:00, 3180.03 it/sec, obj=1.09e+3]\n    INFO - 09:11:54:     50%|\u2588\u2588\u2588\u2588\u2588     | 200/400 [00:00&lt;00:00, 3180.32 it/sec, obj=1.69e+3]\n    INFO - 09:11:54:     50%|\u2588\u2588\u2588\u2588\u2588     | 201/400 [00:00&lt;00:00, 3181.08 it/sec, obj=1.53e+3]\n    INFO - 09:11:54:     50%|\u2588\u2588\u2588\u2588\u2588     | 202/400 [00:00&lt;00:00, 3182.59 it/sec, obj=967]\n    INFO - 09:11:54:     51%|\u2588\u2588\u2588\u2588\u2588     | 203/400 [00:00&lt;00:00, 3182.27 it/sec, obj=577]\n    INFO - 09:11:54:     51%|\u2588\u2588\u2588\u2588\u2588     | 204/400 [00:00&lt;00:00, 3183.41 it/sec, obj=318]\n    INFO - 09:11:54:     51%|\u2588\u2588\u2588\u2588\u2588\u258f    | 205/400 [00:00&lt;00:00, 3184.74 it/sec, obj=157]\n    INFO - 09:11:54:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 206/400 [00:00&lt;00:00, 3185.18 it/sec, obj=66.6]\n    INFO - 09:11:54:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 207/400 [00:00&lt;00:00, 3185.89 it/sec, obj=22.2]\n    INFO - 09:11:54:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 208/400 [00:00&lt;00:00, 3187.22 it/sec, obj=5.28]\n    INFO - 09:11:54:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 209/400 [00:00&lt;00:00, 3188.89 it/sec, obj=1.73]\n    INFO - 09:11:54:     52%|\u2588\u2588\u2588\u2588\u2588\u258e    | 210/400 [00:00&lt;00:00, 3188.87 it/sec, obj=2.11]\n    INFO - 09:11:54:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 211/400 [00:00&lt;00:00, 3190.29 it/sec, obj=1.69]\n    INFO - 09:11:54:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 212/400 [00:00&lt;00:00, 3191.42 it/sec, obj=0.471]\n    INFO - 09:11:54:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 213/400 [00:00&lt;00:00, 3191.80 it/sec, obj=3.17]\n    INFO - 09:11:54:     54%|\u2588\u2588\u2588\u2588\u2588\u258e    | 214/400 [00:00&lt;00:00, 3192.43 it/sec, obj=19.2]\n    INFO - 09:11:54:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 215/400 [00:00&lt;00:00, 3194.00 it/sec, obj=62.8]\n    INFO - 09:11:54:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 216/400 [00:00&lt;00:00, 3194.49 it/sec, obj=153]\n    INFO - 09:11:54:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 217/400 [00:00&lt;00:00, 3194.82 it/sec, obj=312]\n    INFO - 09:11:54:     55%|\u2588\u2588\u2588\u2588\u2588\u258d    | 218/400 [00:00&lt;00:00, 3196.21 it/sec, obj=570]\n    INFO - 09:11:54:     55%|\u2588\u2588\u2588\u2588\u2588\u258d    | 219/400 [00:00&lt;00:00, 3197.23 it/sec, obj=960]\n    INFO - 09:11:54:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 220/400 [00:00&lt;00:00, 3197.18 it/sec, obj=1.52e+3]\n    INFO - 09:11:54:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 221/400 [00:00&lt;00:00, 3198.40 it/sec, obj=1.37e+3]\n    INFO - 09:11:54:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 222/400 [00:00&lt;00:00, 3199.47 it/sec, obj=841]\n    INFO - 09:11:54:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 223/400 [00:00&lt;00:00, 3199.63 it/sec, obj=481]\n    INFO - 09:11:54:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 224/400 [00:00&lt;00:00, 3199.82 it/sec, obj=248]\n    INFO - 09:11:54:     56%|\u2588\u2588\u2588\u2588\u2588\u258b    | 225/400 [00:00&lt;00:00, 3201.09 it/sec, obj=110]\n    INFO - 09:11:54:     56%|\u2588\u2588\u2588\u2588\u2588\u258b    | 226/400 [00:00&lt;00:00, 3201.72 it/sec, obj=37.6]\n    INFO - 09:11:54:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 227/400 [00:00&lt;00:00, 3201.98 it/sec, obj=8.18]\n    INFO - 09:11:54:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 228/400 [00:00&lt;00:00, 3202.87 it/sec, obj=2.48]\n    INFO - 09:11:54:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 229/400 [00:00&lt;00:00, 3204.18 it/sec, obj=6.4]\n    INFO - 09:11:54:     57%|\u2588\u2588\u2588\u2588\u2588\u258a    | 230/400 [00:00&lt;00:00, 3203.85 it/sec, obj=10.5]\n    INFO - 09:11:54:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 231/400 [00:00&lt;00:00, 3204.90 it/sec, obj=10.1]\n    INFO - 09:11:54:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 232/400 [00:00&lt;00:00, 3205.80 it/sec, obj=5.14]\n    INFO - 09:11:54:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 233/400 [00:00&lt;00:00, 3205.67 it/sec, obj=0.375]\n    INFO - 09:11:54:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 234/400 [00:00&lt;00:00, 3205.99 it/sec, obj=5.23]\n    INFO - 09:11:54:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 235/400 [00:00&lt;00:00, 3206.72 it/sec, obj=33.8]\n    INFO - 09:11:54:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 236/400 [00:00&lt;00:00, 3207.28 it/sec, obj=105]\n    INFO - 09:11:54:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 237/400 [00:00&lt;00:00, 3207.74 it/sec, obj=242]\n    INFO - 09:11:54:     60%|\u2588\u2588\u2588\u2588\u2588\u2589    | 238/400 [00:00&lt;00:00, 3208.88 it/sec, obj=474]\n    INFO - 09:11:54:     60%|\u2588\u2588\u2588\u2588\u2588\u2589    | 239/400 [00:00&lt;00:00, 3209.69 it/sec, obj=834]\n    INFO - 09:11:54:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 240/400 [00:00&lt;00:00, 3209.57 it/sec, obj=1.36e+3]\n    INFO - 09:11:54:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 241/400 [00:00&lt;00:00, 3210.06 it/sec, obj=1.22e+3]\n    INFO - 09:11:54:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 242/400 [00:00&lt;00:00, 3210.96 it/sec, obj=724]\n    INFO - 09:11:54:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 243/400 [00:00&lt;00:00, 3211.18 it/sec, obj=393]\n    INFO - 09:11:54:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 244/400 [00:00&lt;00:00, 3211.81 it/sec, obj=187]\n    INFO - 09:11:54:     61%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 245/400 [00:00&lt;00:00, 3212.83 it/sec, obj=71]\n    INFO - 09:11:54:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 246/400 [00:00&lt;00:00, 3214.02 it/sec, obj=17.6]\n    INFO - 09:11:54:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 247/400 [00:00&lt;00:00, 3212.87 it/sec, obj=3.04]\n    INFO - 09:11:54:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 248/400 [00:00&lt;00:00, 3213.90 it/sec, obj=8.55]\n    INFO - 09:11:54:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 249/400 [00:00&lt;00:00, 3214.92 it/sec, obj=19.9]\n    INFO - 09:11:54:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 250/400 [00:00&lt;00:00, 3214.93 it/sec, obj=27.8]\n    INFO - 09:11:54:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 251/400 [00:00&lt;00:00, 3215.86 it/sec, obj=27.3]\n    INFO - 09:11:54:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 252/400 [00:00&lt;00:00, 3216.30 it/sec, obj=18.7]\n    INFO - 09:11:54:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 253/400 [00:00&lt;00:00, 3216.53 it/sec, obj=6.44]\n    INFO - 09:11:54:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 254/400 [00:00&lt;00:00, 3217.11 it/sec, obj=0.0969]\n    INFO - 09:11:54:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 255/400 [00:00&lt;00:00, 3218.15 it/sec, obj=13.8]\n    INFO - 09:11:54:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 256/400 [00:00&lt;00:00, 3219.22 it/sec, obj=66.4]\n    INFO - 09:11:54:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 257/400 [00:00&lt;00:00, 3218.97 it/sec, obj=181]\n    INFO - 09:11:54:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 258/400 [00:00&lt;00:00, 3220.02 it/sec, obj=387]\n    INFO - 09:11:54:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 259/400 [00:00&lt;00:00, 3221.20 it/sec, obj=717]\n    INFO - 09:11:54:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 260/400 [00:00&lt;00:00, 3221.53 it/sec, obj=1.21e+3]\n    INFO - 09:11:54:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 261/400 [00:00&lt;00:00, 3221.99 it/sec, obj=1.07e+3]\n    INFO - 09:11:54:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 262/400 [00:00&lt;00:00, 3222.89 it/sec, obj=616]\n    INFO - 09:11:54:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 263/400 [00:00&lt;00:00, 3223.31 it/sec, obj=315]\n    INFO - 09:11:54:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 264/400 [00:00&lt;00:00, 3223.49 it/sec, obj=135]\n    INFO - 09:11:54:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 265/400 [00:00&lt;00:00, 3224.31 it/sec, obj=41.1]\n    INFO - 09:11:54:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 266/400 [00:00&lt;00:00, 3225.42 it/sec, obj=6.37]\n    INFO - 09:11:54:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 267/400 [00:00&lt;00:00, 3225.23 it/sec, obj=6.78]\n    INFO - 09:11:54:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 268/400 [00:00&lt;00:00, 3226.25 it/sec, obj=23.5]\n    INFO - 09:11:54:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 269/400 [00:00&lt;00:00, 3227.40 it/sec, obj=42.3]\n    INFO - 09:11:54:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 270/400 [00:00&lt;00:00, 3227.79 it/sec, obj=53.9]\n    INFO - 09:11:54:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 271/400 [00:00&lt;00:00, 3227.99 it/sec, obj=53.5]\n    INFO - 09:11:54:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 272/400 [00:00&lt;00:00, 3229.08 it/sec, obj=41.1]\n    INFO - 09:11:54:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 273/400 [00:00&lt;00:00, 3230.01 it/sec, obj=21.4]\n    INFO - 09:11:54:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 274/400 [00:00&lt;00:00, 3229.64 it/sec, obj=3.83]\n    INFO - 09:11:54:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 275/400 [00:00&lt;00:00, 3228.30 it/sec, obj=2.58]\n    INFO - 09:11:54:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 276/400 [00:00&lt;00:00, 3229.24 it/sec, obj=36.5]\n    INFO - 09:11:54:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 277/400 [00:00&lt;00:00, 3229.02 it/sec, obj=129]\n    INFO - 09:11:54:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 278/400 [00:00&lt;00:00, 3229.86 it/sec, obj=309]\n    INFO - 09:11:54:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 279/400 [00:00&lt;00:00, 3230.86 it/sec, obj=608]\n    INFO - 09:11:54:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 280/400 [00:00&lt;00:00, 3231.01 it/sec, obj=1.07e+3]\n    INFO - 09:11:54:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 281/400 [00:00&lt;00:00, 3231.10 it/sec, obj=941]\n    INFO - 09:11:54:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 282/400 [00:00&lt;00:00, 3232.04 it/sec, obj=516]\n    INFO - 09:11:54:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 283/400 [00:00&lt;00:00, 3233.05 it/sec, obj=246]\n    INFO - 09:11:54:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 284/400 [00:00&lt;00:00, 3232.85 it/sec, obj=91.2]\n    INFO - 09:11:54:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 285/400 [00:00&lt;00:00, 3233.50 it/sec, obj=20.1]\n    INFO - 09:11:54:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 286/400 [00:00&lt;00:00, 3233.96 it/sec, obj=4.04]\n    INFO - 09:11:54:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 287/400 [00:00&lt;00:00, 3234.12 it/sec, obj=19.4]\n    INFO - 09:11:54:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 288/400 [00:00&lt;00:00, 3234.53 it/sec, obj=47.3]\n    INFO - 09:11:54:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 289/400 [00:00&lt;00:00, 3235.40 it/sec, obj=73.6]\n    INFO - 09:11:54:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 290/400 [00:00&lt;00:00, 3235.66 it/sec, obj=88.9]\n    INFO - 09:11:54:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 291/400 [00:00&lt;00:00, 3234.90 it/sec, obj=88.5]\n    INFO - 09:11:54:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 292/400 [00:00&lt;00:00, 3235.71 it/sec, obj=72.3]\n    INFO - 09:11:54:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 293/400 [00:00&lt;00:00, 3236.74 it/sec, obj=45.2]\n    INFO - 09:11:54:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 294/400 [00:00&lt;00:00, 3236.47 it/sec, obj=16.4]\n    INFO - 09:11:54:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 295/400 [00:00&lt;00:00, 3236.97 it/sec, obj=0.251]\n    INFO - 09:11:54:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 296/400 [00:00&lt;00:00, 3237.71 it/sec, obj=15.5]\n    INFO - 09:11:54:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 297/400 [00:00&lt;00:00, 3237.72 it/sec, obj=85.7]\n    INFO - 09:11:54:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 298/400 [00:00&lt;00:00, 3238.10 it/sec, obj=239]\n    INFO - 09:11:54:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 299/400 [00:00&lt;00:00, 3238.41 it/sec, obj=509]\n    INFO - 09:11:54:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 300/400 [00:00&lt;00:00, 3238.38 it/sec, obj=933]\n    INFO - 09:11:54:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 301/400 [00:00&lt;00:00, 3238.61 it/sec, obj=817]\n    INFO - 09:11:54:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 302/400 [00:00&lt;00:00, 3239.13 it/sec, obj=426]\n    INFO - 09:11:54:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 303/400 [00:00&lt;00:00, 3240.04 it/sec, obj=185]\n    INFO - 09:11:54:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 304/400 [00:00&lt;00:00, 3239.85 it/sec, obj=56.7]\n    INFO - 09:11:54:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 305/400 [00:00&lt;00:00, 3240.60 it/sec, obj=8]\n    INFO - 09:11:54:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 306/400 [00:00&lt;00:00, 3241.41 it/sec, obj=10.6]\n    INFO - 09:11:54:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 307/400 [00:00&lt;00:00, 3241.55 it/sec, obj=40.8]\n    INFO - 09:11:54:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 308/400 [00:00&lt;00:00, 3242.04 it/sec, obj=79.9]\n    INFO - 09:11:54:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 309/400 [00:00&lt;00:00, 3242.90 it/sec, obj=114]\n    INFO - 09:11:54:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 310/400 [00:00&lt;00:00, 3242.61 it/sec, obj=133]\n    INFO - 09:11:54:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 311/400 [00:00&lt;00:00, 3242.99 it/sec, obj=132]\n    INFO - 09:11:54:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 312/400 [00:00&lt;00:00, 3243.80 it/sec, obj=112]\n    INFO - 09:11:54:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 313/400 [00:00&lt;00:00, 3244.62 it/sec, obj=77.8]\n    INFO - 09:11:54:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 314/400 [00:00&lt;00:00, 3243.77 it/sec, obj=37.9]\n    INFO - 09:11:54:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 315/400 [00:00&lt;00:00, 3244.45 it/sec, obj=6.78]\n    INFO - 09:11:54:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 316/400 [00:00&lt;00:00, 3245.31 it/sec, obj=3.37]\n    INFO - 09:11:54:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 317/400 [00:00&lt;00:00, 3245.26 it/sec, obj=51.2]\n    INFO - 09:11:54:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 318/400 [00:00&lt;00:00, 3245.49 it/sec, obj=179]\n    INFO - 09:11:54:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 319/400 [00:00&lt;00:00, 3246.14 it/sec, obj=419]\n    INFO - 09:11:54:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 320/400 [00:00&lt;00:00, 3245.21 it/sec, obj=809]\n    INFO - 09:11:54:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 321/400 [00:00&lt;00:00, 3245.43 it/sec, obj=702]\n    INFO - 09:11:54:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 322/400 [00:00&lt;00:00, 3246.20 it/sec, obj=344]\n    INFO - 09:11:54:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 323/400 [00:00&lt;00:00, 3246.85 it/sec, obj=133]\n    INFO - 09:11:54:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 324/400 [00:00&lt;00:00, 3245.59 it/sec, obj=31]\n    INFO - 09:11:54:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 325/400 [00:00&lt;00:00, 3246.13 it/sec, obj=4.73]\n    INFO - 09:11:54:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 326/400 [00:00&lt;00:00, 3246.81 it/sec, obj=26]\n    INFO - 09:11:54:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 327/400 [00:00&lt;00:00, 3246.90 it/sec, obj=71.2]\n    INFO - 09:11:54:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 328/400 [00:00&lt;00:00, 3247.09 it/sec, obj=121]\n    INFO - 09:11:54:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 329/400 [00:00&lt;00:00, 3247.53 it/sec, obj=163]\n    INFO - 09:11:54:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 330/400 [00:00&lt;00:00, 3247.74 it/sec, obj=185]\n    INFO - 09:11:54:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 331/400 [00:00&lt;00:00, 3247.99 it/sec, obj=185]\n    INFO - 09:11:54:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 332/400 [00:00&lt;00:00, 3248.55 it/sec, obj=161]\n    INFO - 09:11:54:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 333/400 [00:00&lt;00:00, 3249.30 it/sec, obj=119]\n    INFO - 09:11:54:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 334/400 [00:00&lt;00:00, 3249.12 it/sec, obj=68.2]\n    INFO - 09:11:54:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 335/400 [00:00&lt;00:00, 3249.82 it/sec, obj=22.2]\n    INFO - 09:11:54:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 336/400 [00:00&lt;00:00, 3250.53 it/sec, obj=0.102]\n    INFO - 09:11:54:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 337/400 [00:00&lt;00:00, 3250.49 it/sec, obj=25.6]\n    INFO - 09:11:54:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 338/400 [00:00&lt;00:00, 3250.94 it/sec, obj=127]\n    INFO - 09:11:54:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 339/400 [00:00&lt;00:00, 3251.70 it/sec, obj=337]\n    INFO - 09:11:54:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 340/400 [00:00&lt;00:00, 3252.58 it/sec, obj=694]\n    INFO - 09:11:54:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 341/400 [00:00&lt;00:00, 3252.27 it/sec, obj=595]\n    INFO - 09:11:54:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 342/400 [00:00&lt;00:00, 3252.14 it/sec, obj=271]\n    INFO - 09:11:54:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 343/400 [00:00&lt;00:00, 3252.47 it/sec, obj=90.2]\n    INFO - 09:11:54:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 344/400 [00:00&lt;00:00, 3252.11 it/sec, obj=14.2]\n    INFO - 09:11:54:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 345/400 [00:00&lt;00:00, 3252.73 it/sec, obj=10.3]\n    INFO - 09:11:54:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 346/400 [00:00&lt;00:00, 3253.51 it/sec, obj=50.2]\n    INFO - 09:11:54:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 347/400 [00:00&lt;00:00, 3253.62 it/sec, obj=110]\n    INFO - 09:11:54:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 348/400 [00:00&lt;00:00, 3253.91 it/sec, obj=172]\n    INFO - 09:11:54:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 349/400 [00:00&lt;00:00, 3254.22 it/sec, obj=221]\n    INFO - 09:11:54:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 350/400 [00:00&lt;00:00, 3254.89 it/sec, obj=247]\n    INFO - 09:11:54:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 351/400 [00:00&lt;00:00, 3254.69 it/sec, obj=247]\n    INFO - 09:11:54:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 352/400 [00:00&lt;00:00, 3255.39 it/sec, obj=219]\n    INFO - 09:11:54:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 353/400 [00:00&lt;00:00, 3256.12 it/sec, obj=170]\n    INFO - 09:11:54:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 354/400 [00:00&lt;00:00, 3256.28 it/sec, obj=107]\n    INFO - 09:11:54:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 355/400 [00:00&lt;00:00, 3256.63 it/sec, obj=46.4]\n    INFO - 09:11:54:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 356/400 [00:00&lt;00:00, 3257.38 it/sec, obj=5.7]\n    INFO - 09:11:54:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 357/400 [00:00&lt;00:00, 3257.67 it/sec, obj=8.76]\n    INFO - 09:11:54:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 358/400 [00:00&lt;00:00, 3257.87 it/sec, obj=83.9]\n    INFO - 09:11:54:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 359/400 [00:00&lt;00:00, 3256.76 it/sec, obj=264]\n    INFO - 09:11:54:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 360/400 [00:00&lt;00:00, 3257.37 it/sec, obj=587]\n    INFO - 09:11:54:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 361/400 [00:00&lt;00:00, 3256.94 it/sec, obj=498]\n    INFO - 09:11:54:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 362/400 [00:00&lt;00:00, 3257.56 it/sec, obj=207]\n    INFO - 09:11:54:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 363/400 [00:00&lt;00:00, 3257.97 it/sec, obj=56.2]\n    INFO - 09:11:54:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 364/400 [00:00&lt;00:00, 3257.90 it/sec, obj=6.3]\n    INFO - 09:11:54:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 365/400 [00:00&lt;00:00, 3258.12 it/sec, obj=24.8]\n    INFO - 09:11:54:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 366/400 [00:00&lt;00:00, 3258.58 it/sec, obj=83.4]\n    INFO - 09:11:54:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 367/400 [00:00&lt;00:00, 3258.74 it/sec, obj=158]\n    INFO - 09:11:54:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 368/400 [00:00&lt;00:00, 3258.92 it/sec, obj=231]\n    INFO - 09:11:54:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 369/400 [00:00&lt;00:00, 3259.66 it/sec, obj=287]\n    INFO - 09:11:54:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 370/400 [00:00&lt;00:00, 3260.41 it/sec, obj=317]\n    INFO - 09:11:54:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 371/400 [00:00&lt;00:00, 3260.19 it/sec, obj=317]\n    INFO - 09:11:54:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 372/400 [00:00&lt;00:00, 3260.76 it/sec, obj=286]\n    INFO - 09:11:54:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 373/400 [00:00&lt;00:00, 3261.39 it/sec, obj=229]\n    INFO - 09:11:54:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 374/400 [00:00&lt;00:00, 3261.23 it/sec, obj=155]\n    INFO - 09:11:54:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 375/400 [00:00&lt;00:00, 3261.50 it/sec, obj=79.6]\n    INFO - 09:11:54:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 376/400 [00:00&lt;00:00, 3262.09 it/sec, obj=20.2]\n    INFO - 09:11:54:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 377/400 [00:00&lt;00:00, 3262.72 it/sec, obj=0.826]\n    INFO - 09:11:54:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 378/400 [00:00&lt;00:00, 3262.48 it/sec, obj=49.8]\n    INFO - 09:11:54:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 379/400 [00:00&lt;00:00, 3263.08 it/sec, obj=200]\n    INFO - 09:11:54:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 380/400 [00:00&lt;00:00, 3263.65 it/sec, obj=490]\n    INFO - 09:11:54:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 381/400 [00:00&lt;00:00, 3262.76 it/sec, obj=409]\n    INFO - 09:11:54:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 382/400 [00:00&lt;00:00, 3263.26 it/sec, obj=152]\n    INFO - 09:11:54:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 383/400 [00:00&lt;00:00, 3263.70 it/sec, obj=31]\n    INFO - 09:11:54:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 384/400 [00:00&lt;00:00, 3263.79 it/sec, obj=7.23]\n    INFO - 09:11:54:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 385/400 [00:00&lt;00:00, 3264.19 it/sec, obj=48.1]\n    INFO - 09:11:54:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 386/400 [00:00&lt;00:00, 3264.86 it/sec, obj=125]\n    INFO - 09:11:54:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 387/400 [00:00&lt;00:00, 3265.47 it/sec, obj=215]\n    INFO - 09:11:54:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 388/400 [00:00&lt;00:00, 3265.30 it/sec, obj=299]\n    INFO - 09:11:54:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 389/400 [00:00&lt;00:00, 3265.89 it/sec, obj=363]\n    INFO - 09:11:54:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 390/400 [00:00&lt;00:00, 3266.57 it/sec, obj=397]\n    INFO - 09:11:54:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 391/400 [00:00&lt;00:00, 3266.57 it/sec, obj=396]\n    INFO - 09:11:54:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 392/400 [00:00&lt;00:00, 3266.78 it/sec, obj=362]\n    INFO - 09:11:54:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 393/400 [00:00&lt;00:00, 3267.31 it/sec, obj=297]\n    INFO - 09:11:54:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 394/400 [00:00&lt;00:00, 3267.06 it/sec, obj=212]\n    INFO - 09:11:54:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 395/400 [00:00&lt;00:00, 3264.36 it/sec, obj=122]\n    INFO - 09:11:54:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 396/400 [00:00&lt;00:00, 3264.42 it/sec, obj=43.5]\n    INFO - 09:11:54:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 397/400 [00:00&lt;00:00, 3263.83 it/sec, obj=1.76]\n    INFO - 09:11:54:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 398/400 [00:00&lt;00:00, 3262.67 it/sec, obj=24.6]\n    INFO - 09:11:54:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 399/400 [00:00&lt;00:00, 3262.75 it/sec, obj=145]\n    INFO - 09:11:54:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 400/400 [00:00&lt;00:00, 3262.84 it/sec, obj=401]\n    INFO - 09:11:54: Optimization result:\n    INFO - 09:11:54:    Optimizer info:\n    INFO - 09:11:54:       Status: None\n    INFO - 09:11:54:       Message: None\n    INFO - 09:11:54:       Number of calls to the objective function by the optimizer: 400\n    INFO - 09:11:54:    Solution:\n    INFO - 09:11:54:       Objective: 0.09687617498331136\n    INFO - 09:11:54:       Design space:\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:          | x    |      -2     | 0.736842105263158  |      2      | float |\n    INFO - 09:11:54:          | y    |      -2     | 0.5263157894736841 |      2      | float |\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54: *** End MDOScenario execution (time: 0:00:00.125875) ***\n</code></pre> <p>and store the 400 samples:</p> <pre><code>samples = scenario.to_dataset()\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#constrained-optimization-problem","title":"Constrained optimization problem","text":"<p>Then, we define the uncertainty-free constrained optimization problem:</p> <pre><code>radius = 0.25\nscenario = MDOScenario(\n    [discipline],\n    \"f\",\n    design_space,\n    formulation_name=\"DisciplinaryOpt\",\n)\nscenario.add_constraint(\"h\", value=radius**2)\n</code></pre> <p>and solve it using the gradient-based SLSQP algorithm:</p> <pre><code>scenario.execute(algo_name=\"SLSQP\", max_iter=100)\nx_opt = scenario.optimization_result.x_opt\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:54: *** Start MDOScenario execution ***\n    INFO - 09:11:54: MDOScenario\n    INFO - 09:11:54:    Disciplines: AnalyticDiscipline\n    INFO - 09:11:54:    MDO formulation: DisciplinaryOpt\n    INFO - 09:11:54: Optimization problem:\n    INFO - 09:11:54:    minimize f(x, y)\n    INFO - 09:11:54:    with respect to x, y\n    INFO - 09:11:54:    under the equality constraints\n    INFO - 09:11:54:       h(x, y) = 0.0625\n    INFO - 09:11:54:    over the design space:\n    INFO - 09:11:54:       +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:       | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:54:       +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:       | x    |      -2     | 0.736842105263158  |      2      | float |\n    INFO - 09:11:54:       | y    |      -2     | 0.5263157894736841 |      2      | float |\n    INFO - 09:11:54:       +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54: Solving optimization problem with algorithm SLSQP:\n    INFO - 09:11:54:      1%|          | 1/100 [00:00&lt;00:00, 1642.89 it/sec, obj=0.0969]\n    INFO - 09:11:54:      2%|\u258f         | 2/100 [00:00&lt;00:00, 742.62 it/sec, obj=9.39]\n    INFO - 09:11:54:      3%|\u258e         | 3/100 [00:00&lt;00:00, 904.07 it/sec, obj=17.4]\n    INFO - 09:11:54:      4%|\u258d         | 4/100 [00:00&lt;00:00, 997.75 it/sec, obj=0.178]\n    INFO - 09:11:54:      5%|\u258c         | 5/100 [00:00&lt;00:00, 1064.38 it/sec, obj=0.0735]\n    INFO - 09:11:54:      6%|\u258c         | 6/100 [00:00&lt;00:00, 1009.42 it/sec, obj=0.0403]\n    INFO - 09:11:54:      7%|\u258b         | 7/100 [00:00&lt;00:00, 975.35 it/sec, obj=0.0221]\n    INFO - 09:11:54:      8%|\u258a         | 8/100 [00:00&lt;00:00, 955.69 it/sec, obj=0.0289]\n    INFO - 09:11:54:      9%|\u2589         | 9/100 [00:00&lt;00:00, 996.17 it/sec, obj=0.0145]\n    INFO - 09:11:54:     10%|\u2588         | 10/100 [00:00&lt;00:00, 980.05 it/sec, obj=0.0137]\n    INFO - 09:11:54:     11%|\u2588         | 11/100 [00:00&lt;00:00, 965.96 it/sec, obj=0.0137]\n    INFO - 09:11:54:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:00, 951.61 it/sec, obj=0.0137]\n    INFO - 09:11:54:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:00, 922.71 it/sec, obj=0.0137]\n    INFO - 09:11:54: Optimization result:\n    INFO - 09:11:54:    Optimizer info:\n    INFO - 09:11:54:       Status: None\n    INFO - 09:11:54:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:11:54:       Number of calls to the objective function by the optimizer: 14\n    INFO - 09:11:54:    Solution:\n    INFO - 09:11:54:       The solution is feasible.\n    INFO - 09:11:54:       Objective: 0.013726338554481054\n    INFO - 09:11:54:       Standardized constraints:\n    INFO - 09:11:54:          [h-0.0625] = 3.397282455352979e-14\n    INFO - 09:11:54:       Design space:\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54:          | x    |      -2     | 0.8829515507680719 |      2      | float |\n    INFO - 09:11:54:          | y    |      -2     | 0.779093548006323  |      2      | float |\n    INFO - 09:11:54:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:11:54: *** End MDOScenario execution (time: 0:00:00.016372) ***\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#constrained-optimization-problem-under-uncertainty","title":"Constrained optimization problem under uncertainty","text":"<p>Lastly, we create the constrained optimization problem under uncertainty.</p>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#uncertain-space","title":"Uncertain space","text":"<p>First, we need to define the uncertain space with independent normal variables centered at 1 with standard deviation equal to 1/6:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"a\", \"OTNormalDistribution\", mu=1.0, sigma=1 / 6)\nuncertain_space.add_random_variable(\"b\", \"OTNormalDistribution\", mu=1.0, sigma=1 / 6)\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#problem","title":"Problem","text":"<p>Then, we reset the design space to the initial solution</p> <pre><code>design_space.set_current_value(initial_design)\n</code></pre> <p>and create the scenario by forcing the mean of \\(h(x,y)\\) to be equal to \\(r^2\\) and its variance to be zero:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"f\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    Sampling_Settings(n_samples=100, estimate_statistics_iteratively=False),\n    formulation_name=\"DisciplinaryOpt\",\n)\nscenario.add_constraint(\"h\", \"Mean\", constraint_type=\"eq\", value=radius**2)\nscenario.add_constraint(\"h\", \"Variance\", constraint_type=\"eq\")\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n WARNING - 09:11:54: The optimization problem already observes \"h\".\n</code></pre> <p>Finally, we solve this optimization problem using the gradient-based SLSQP algorithm:</p> <pre><code>scenario.execute(algo_name=\"SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:11:54: *** Start UMDOScenario execution ***\n    INFO - 09:11:54: UMDOScenario\n    INFO - 09:11:54:    Disciplines: AnalyticDiscipline\n    INFO - 09:11:54:    Formulation:\n    INFO - 09:11:54:       MDO formulation: DisciplinaryOpt\n    INFO - 09:11:54:       Statistic estimation: Sampling\n    INFO - 09:11:54:    Uncertain space:\n    INFO - 09:11:54:       +------+-------------------------------------------+\n    INFO - 09:11:54:       | Name |                Distribution               |\n    INFO - 09:11:54:       +------+-------------------------------------------+\n    INFO - 09:11:54:       |  a   | Normal(mu=1.0, sigma=0.16666666666666666) |\n    INFO - 09:11:54:       |  b   | Normal(mu=1.0, sigma=0.16666666666666666) |\n    INFO - 09:11:54:       +------+-------------------------------------------+\n    INFO - 09:11:54: Optimization problem:\n    INFO - 09:11:54:    minimize E[f]\n    INFO - 09:11:54:    with respect to x, y\n    INFO - 09:11:54:    under the equality constraints\n    INFO - 09:11:54:       E[h] = 0.0625\n    INFO - 09:11:54:       V[h] = 0\n    INFO - 09:11:54:    over the design space:\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54:       | x    |      -2     |  1.75 |      2      | float |\n    INFO - 09:11:54:       | y    |      -2     |  1.75 |      2      | float |\n    INFO - 09:11:54:       +------+-------------+-------+-------------+-------+\n    INFO - 09:11:54: Solving optimization problem with algorithm SLSQP:\n    INFO - 09:11:54:      1%|          | 1/100 [00:00&lt;00:04, 22.93 it/sec, obj=173]\n    INFO - 09:11:54:      2%|\u258f         | 2/100 [00:00&lt;00:08, 11.06 it/sec, obj=18.4]\n    INFO - 09:11:54:      3%|\u258e         | 3/100 [00:00&lt;00:10,  9.53 it/sec, obj=0.295]\n    INFO - 09:11:54:      4%|\u258d         | 4/100 [00:00&lt;00:10,  8.87 it/sec, obj=3.68]\n    INFO - 09:11:54:      5%|\u258c         | 5/100 [00:00&lt;00:11,  8.49 it/sec, obj=39.3]\n    INFO - 09:11:54:      6%|\u258c         | 6/100 [00:00&lt;00:10,  8.86 it/sec, obj=5.99]\n    INFO - 09:11:55:      7%|\u258b         | 7/100 [00:00&lt;00:10,  8.62 it/sec, obj=112]\n    INFO - 09:11:55:      8%|\u258a         | 8/100 [00:00&lt;00:10,  8.89 it/sec, obj=22.9]\n    INFO - 09:11:55:      9%|\u2589         | 9/100 [00:00&lt;00:09,  9.10 it/sec, obj=7.27]\n    INFO - 09:11:55:     10%|\u2588         | 10/100 [00:01&lt;00:09,  9.27 it/sec, obj=6.57]\n    INFO - 09:11:55:     11%|\u2588         | 11/100 [00:01&lt;00:09,  9.05 it/sec, obj=3.61e+3]\n    INFO - 09:11:55:     12%|\u2588\u258f        | 12/100 [00:01&lt;00:09,  9.20 it/sec, obj=18.8]\n    INFO - 09:11:55:     13%|\u2588\u258e        | 13/100 [00:01&lt;00:09,  9.33 it/sec, obj=7.96]\n    INFO - 09:11:55:     14%|\u2588\u258d        | 14/100 [00:01&lt;00:09,  9.45 it/sec, obj=6.71]\n    INFO - 09:11:55:     15%|\u2588\u258c        | 15/100 [00:01&lt;00:08,  9.55 it/sec, obj=6.62]\n    INFO - 09:11:55:     16%|\u2588\u258c        | 16/100 [00:01&lt;00:08,  9.64 it/sec, obj=6.59]\n    INFO - 09:11:56:     17%|\u2588\u258b        | 17/100 [00:01&lt;00:08,  9.73 it/sec, obj=6.58]\n    INFO - 09:11:56:     18%|\u2588\u258a        | 18/100 [00:01&lt;00:08,  9.81 it/sec, obj=6.58]\n    INFO - 09:11:56:     19%|\u2588\u2589        | 19/100 [00:01&lt;00:08,  9.89 it/sec, obj=6.58]\n    INFO - 09:11:56:     20%|\u2588\u2588        | 20/100 [00:02&lt;00:08,  9.95 it/sec, obj=6.58]\n    INFO - 09:11:56:     21%|\u2588\u2588        | 21/100 [00:02&lt;00:07, 10.01 it/sec, obj=6.58]\n    INFO - 09:11:56:     22%|\u2588\u2588\u258f       | 22/100 [00:02&lt;00:07,  9.84 it/sec, obj=18.8]\n    INFO - 09:11:56:     23%|\u2588\u2588\u258e       | 23/100 [00:02&lt;00:07,  9.90 it/sec, obj=7.96]\n    INFO - 09:11:56:     24%|\u2588\u2588\u258d       | 24/100 [00:02&lt;00:07,  9.96 it/sec, obj=6.71]\n    INFO - 09:11:56:     25%|\u2588\u2588\u258c       | 25/100 [00:02&lt;00:07, 10.01 it/sec, obj=6.62]\n    INFO - 09:11:56:     26%|\u2588\u2588\u258c       | 26/100 [00:02&lt;00:07, 10.05 it/sec, obj=6.59]\n    INFO - 09:11:56:     27%|\u2588\u2588\u258b       | 27/100 [00:02&lt;00:07, 10.09 it/sec, obj=6.58]\n    INFO - 09:11:57:     28%|\u2588\u2588\u258a       | 28/100 [00:02&lt;00:07, 10.14 it/sec, obj=6.58]\n    INFO - 09:11:57:     29%|\u2588\u2588\u2589       | 29/100 [00:02&lt;00:06, 10.18 it/sec, obj=6.58]\n    INFO - 09:11:57:     30%|\u2588\u2588\u2588       | 30/100 [00:02&lt;00:06, 10.22 it/sec, obj=6.58]\n    INFO - 09:11:57:     31%|\u2588\u2588\u2588       | 31/100 [00:03&lt;00:06, 10.25 it/sec, obj=6.58]\n    INFO - 09:11:57:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:03&lt;00:06, 10.13 it/sec, obj=18.8]\n    INFO - 09:11:57:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:03&lt;00:06, 10.16 it/sec, obj=7.96]\n    INFO - 09:11:57:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:03&lt;00:06, 10.19 it/sec, obj=6.71]\n    INFO - 09:11:57:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:03&lt;00:06, 10.22 it/sec, obj=6.62]\n    INFO - 09:11:57:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:03&lt;00:06, 10.25 it/sec, obj=6.59]\n    INFO - 09:11:57:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:03&lt;00:06, 10.28 it/sec, obj=6.58]\n    INFO - 09:11:57:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:03&lt;00:06, 10.31 it/sec, obj=6.58]\n    INFO - 09:11:58:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:03&lt;00:05, 10.33 it/sec, obj=6.58]\n    INFO - 09:11:58:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:03&lt;00:05, 10.36 it/sec, obj=6.58]\n    INFO - 09:11:58:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:03&lt;00:05, 10.38 it/sec, obj=6.58]\n    INFO - 09:11:58:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:04&lt;00:05, 10.28 it/sec, obj=401]\n    INFO - 09:11:58:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:04&lt;00:05, 10.30 it/sec, obj=1.55]\n    INFO - 09:11:58:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:04&lt;00:05, 10.33 it/sec, obj=5.96]\n    INFO - 09:11:58:     45%|\u2588\u2588\u2588\u2588\u258c     | 45/100 [00:04&lt;00:05, 10.35 it/sec, obj=6.39]\n    INFO - 09:11:58:     46%|\u2588\u2588\u2588\u2588\u258c     | 46/100 [00:04&lt;00:05, 10.37 it/sec, obj=6.5]\n    INFO - 09:11:58:     47%|\u2588\u2588\u2588\u2588\u258b     | 47/100 [00:04&lt;00:05, 10.39 it/sec, obj=6.54]\n    INFO - 09:11:58:     48%|\u2588\u2588\u2588\u2588\u258a     | 48/100 [00:04&lt;00:04, 10.41 it/sec, obj=6.56]\n    INFO - 09:11:59:     49%|\u2588\u2588\u2588\u2588\u2589     | 49/100 [00:04&lt;00:04, 10.43 it/sec, obj=6.57]\n    INFO - 09:11:59:     50%|\u2588\u2588\u2588\u2588\u2588     | 50/100 [00:04&lt;00:04, 10.44 it/sec, obj=6.57]\n    INFO - 09:11:59:     51%|\u2588\u2588\u2588\u2588\u2588     | 51/100 [00:04&lt;00:04, 10.46 it/sec, obj=6.57]\n    INFO - 09:11:59:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 52/100 [00:04&lt;00:04, 10.48 it/sec, obj=6.58]\n    INFO - 09:11:59:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 53/100 [00:05&lt;00:04, 10.40 it/sec, obj=18.8]\n    INFO - 09:11:59:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 54/100 [00:05&lt;00:04, 10.42 it/sec, obj=7.96]\n    INFO - 09:11:59:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 55/100 [00:05&lt;00:04, 10.43 it/sec, obj=6.71]\n    INFO - 09:11:59:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 56/100 [00:05&lt;00:04, 10.45 it/sec, obj=6.62]\n    INFO - 09:11:59:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 57/100 [00:05&lt;00:04, 10.47 it/sec, obj=6.59]\n    INFO - 09:11:59:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 58/100 [00:05&lt;00:04, 10.49 it/sec, obj=6.58]\n    INFO - 09:11:59:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 59/100 [00:05&lt;00:03, 10.50 it/sec, obj=6.58]\n    INFO - 09:12:00:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 60/100 [00:05&lt;00:03, 10.51 it/sec, obj=6.58]\n    INFO - 09:12:00:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 61/100 [00:05&lt;00:03, 10.52 it/sec, obj=6.58]\n    INFO - 09:12:00:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 62/100 [00:05&lt;00:03, 10.53 it/sec, obj=6.58]\n    INFO - 09:12:00:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 63/100 [00:06&lt;00:03, 10.46 it/sec, obj=18.8]\n    INFO - 09:12:00:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 64/100 [00:06&lt;00:03, 10.47 it/sec, obj=7.96]\n    INFO - 09:12:00:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 65/100 [00:06&lt;00:03, 10.49 it/sec, obj=6.71]\n    INFO - 09:12:00:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 66/100 [00:06&lt;00:03, 10.50 it/sec, obj=6.62]\n    INFO - 09:12:00:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 67/100 [00:06&lt;00:03, 10.51 it/sec, obj=6.59]\n    INFO - 09:12:00:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 68/100 [00:06&lt;00:03, 10.52 it/sec, obj=6.58]\n    INFO - 09:12:00:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 69/100 [00:06&lt;00:02, 10.53 it/sec, obj=6.58]\n    INFO - 09:12:00:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 70/100 [00:06&lt;00:02, 10.54 it/sec, obj=6.58]\n    INFO - 09:12:01:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 71/100 [00:06&lt;00:02, 10.55 it/sec, obj=6.58]\n    INFO - 09:12:01:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 72/100 [00:06&lt;00:02, 10.55 it/sec, obj=6.58]\n    INFO - 09:12:01:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 73/100 [00:06&lt;00:02, 10.49 it/sec, obj=1.55]\n    INFO - 09:12:01:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 74/100 [00:07&lt;00:02, 10.50 it/sec, obj=5.96]\n    INFO - 09:12:01:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 75/100 [00:07&lt;00:02, 10.51 it/sec, obj=6.39]\n    INFO - 09:12:01:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 76/100 [00:07&lt;00:02, 10.52 it/sec, obj=6.5]\n    INFO - 09:12:01:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 77/100 [00:07&lt;00:02, 10.53 it/sec, obj=6.54]\n    INFO - 09:12:01:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 78/100 [00:07&lt;00:02, 10.54 it/sec, obj=6.56]\n    INFO - 09:12:01:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 79/100 [00:07&lt;00:01, 10.55 it/sec, obj=6.57]\n    INFO - 09:12:01:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 80/100 [00:07&lt;00:01, 10.56 it/sec, obj=6.57]\n    INFO - 09:12:01:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 81/100 [00:07&lt;00:01, 10.56 it/sec, obj=6.57]\n    INFO - 09:12:02:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 82/100 [00:07&lt;00:01, 10.57 it/sec, obj=6.57]\n    INFO - 09:12:02:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 83/100 [00:07&lt;00:01, 10.52 it/sec, obj=18.8]\n    INFO - 09:12:02:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 84/100 [00:07&lt;00:01, 10.53 it/sec, obj=7.96]\n    INFO - 09:12:02:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 85/100 [00:08&lt;00:01, 10.54 it/sec, obj=6.71]\n    INFO - 09:12:02:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 86/100 [00:08&lt;00:01, 10.54 it/sec, obj=6.62]\n    INFO - 09:12:02:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 87/100 [00:08&lt;00:01, 10.55 it/sec, obj=6.59]\n    INFO - 09:12:02:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 88/100 [00:08&lt;00:01, 10.56 it/sec, obj=6.58]\n    INFO - 09:12:02:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 89/100 [00:08&lt;00:01, 10.57 it/sec, obj=6.58]\n    INFO - 09:12:02:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 90/100 [00:08&lt;00:00, 10.58 it/sec, obj=6.58]\n    INFO - 09:12:02:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 91/100 [00:08&lt;00:00, 10.59 it/sec, obj=6.58]\n    INFO - 09:12:02:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 92/100 [00:08&lt;00:00, 10.59 it/sec, obj=6.58]\n    INFO - 09:12:03:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 93/100 [00:08&lt;00:00, 10.54 it/sec, obj=1.55]\n    INFO - 09:12:03:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 94/100 [00:08&lt;00:00, 10.55 it/sec, obj=5.96]\n    INFO - 09:12:03:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 95/100 [00:09&lt;00:00, 10.55 it/sec, obj=6.39]\n    INFO - 09:12:03:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 96/100 [00:09&lt;00:00, 10.56 it/sec, obj=6.5]\n    INFO - 09:12:03:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 97/100 [00:09&lt;00:00, 10.57 it/sec, obj=6.54]\n    INFO - 09:12:03:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 98/100 [00:09&lt;00:00, 10.58 it/sec, obj=6.56]\n    INFO - 09:12:03:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 99/100 [00:09&lt;00:00, 10.58 it/sec, obj=6.57]\n    INFO - 09:12:03:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:09&lt;00:00, 10.59 it/sec, obj=6.57]\n WARNING - 09:12:03: Optimization found no feasible point; the least infeasible point is selected.\n    INFO - 09:12:03: Optimization result:\n    INFO - 09:12:03:    Optimizer info:\n    INFO - 09:12:03:       Status: None\n    INFO - 09:12:03:       Message: Maximum number of iterations reached. GEMSEO stopped the driver.\n    INFO - 09:12:03:       Number of calls to the objective function by the optimizer: 109\n    INFO - 09:12:03:    Solution:\n WARNING - 09:12:03:       The solution is not feasible.\n    INFO - 09:12:03:       Objective: 7.956780319247063\n    INFO - 09:12:03:       Standardized constraints:\n    INFO - 09:12:03:          V[h] = [0.0019408]\n    INFO - 09:12:03:          [E[h]-0.0625] = [0.00572707]\n    INFO - 09:12:03:       Design space:\n    INFO - 09:12:03:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:03:          | Name | Lower bound |       Value        | Upper bound | Type  |\n    INFO - 09:12:03:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:03:          | x    |      -2     | 0.9556007405970988 |      2      | float |\n    INFO - 09:12:03:          | y    |      -2     | 1.194689243484623  |      2      | float |\n    INFO - 09:12:03:          +------+-------------+--------------------+-------------+-------+\n    INFO - 09:12:03: *** End UMDOScenario execution (time: 0:00:09.494036) ***\n</code></pre>"},{"location":"generated/examples/umdo/mdo_formulations/plot_equality_constraints/#results","title":"Results","text":"<p>In this last section, we plot and analyze the results.</p> <pre><code>fig, ax = plt.subplots()\n# The Rosenbrock function plotted as filled contours:\nax.contourf(\n    samples.get_view(variable_names=\"x\").to_numpy().reshape((20, 20)),\n    samples.get_view(variable_names=\"y\").to_numpy().reshape((20, 20)),\n    samples.get_view(variable_names=\"f\").to_numpy().reshape((20, 20)),\n    levels=20,\n    cmap=colormaps[\"Greys\"],\n)\n# The initial design solution:\nax.plot(*initial_design, \"dk\", label=\"Initial solution\")\n# The solution of the uncertainty-free unconstrained optimization problem:\nax.plot(1.0, 1.0, \"*k\", label=\"argmin f(a=1,x,y)\")\n# The solution of the uncertainty-free constrained optimization problem:\nax.plot(\n    *x_opt,\n    \"ob\",\n    label=\"argmin f(a=1,x,y) s.t. h(b=1,x,y)=r\u00b2\",\n)\n# The level set associated with the equality constraint:\nax.add_patch(plt.Circle((1.0, 1.0), radius, fill=False, label=\"x,y s.t. h(b=1,x,y)=r\u00b2\"))\n# The solution of the constrained optimization problem under uncertainty:\nax.plot(\n    *scenario.optimization_result.x_opt,\n    \"sr\",\n    label=\"argmin E[f(a,x,y)] s.t. E[h(b,x,y)]=r\u00b2 and V[h(b,x,y)]=0\",\n)\nax.set_aspect(\"equal\", adjustable=\"box\")\nplt.legend()\nplt.show()\n</code></pre> <p></p> <p>We can see that the uncertainty-free and uncertainty-based optima are close but different. We can also note that the solution under uncertainty is unfortunately not feasible. This could be corrected by better tuning the statistics estimation algorithm or by changing the optimization algorithm. However, this is beyond the scope of this example, the aim of which is to show a simple way of dealing with equality constraints.</p> <p>Total running time of the script: ( 0 minutes  9.827 seconds)</p> <p> Download Python source code: plot_equality_constraints.py</p> <p> Download Jupyter notebook: plot_equality_constraints.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/misc/comparison/","title":"Control variate vs Sampling","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/misc/comparison/#control-variate-vs-sampling","title":"Control variate vs Sampling","text":"<pre><code>from __future__ import annotations\n\nimport numpy as np\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\nfrom gemseo.settings.doe import OT_MONTE_CARLO_Settings\nfrom gemseo.utils.string_tools import MultiLineString\nfrom matplotlib import pyplot as plt\nfrom numpy import array\nfrom numpy import ndarray\nfrom numpy import quantile\nfrom scipy.spatial.distance import cdist\n\nfrom gemseo_umdo.formulations.control_variate_settings import ControlVariate_Settings\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing a random version of the Rosenbrock function \\(f(x,y,U)=(U-x)^2+100(y-x^2)^2\\):</p> <pre><code>discipline = AnalyticDiscipline({\"z\": \"(a-x)**2+100*(y-x**2)**2\"}, name=\"Rosenbrock\")\n</code></pre> <p>where \\(x,y\\) belongs to the interval \\([-2,2]\\):</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-2, upper_bound=2.0, value=-2.0)\ndesign_space.add_variable(\"y\", lower_bound=-2, upper_bound=2.0, value=-2.0)\n</code></pre> <p>and \\(U\\) is a Gaussian variable with unit mean and standard deviation equal to 0.05:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"a\", \"OTNormalDistribution\", mu=1.0, sigma=0.05)\n</code></pre> <p>Then, we want to build a UMDOScenario to minimize a sampling-based estimation of the expectation \\(\\mathbb{E}[Y]\\) where \\(Y=f(x,y,U)\\): For that, we compare an approach based on crude Monte Carlo and an approach based on a linearized model as control variate and repeat it 20 times to get statistics on the results:</p> <pre><code>method_to_x_opt = {\"Sampling\": [], \"ControlVariate\": []}\nfor i in range(20):\n    for name, cls in {\n        \"Sampling\": Sampling_Settings,\n        \"ControlVariate\": ControlVariate_Settings,\n    }:\n        scenario = UMDOScenario(\n            [discipline],\n            \"z\",\n            design_space,\n            uncertain_space,\n            \"Mean\",\n            formulation_name=\"DisciplinaryOpt\",\n            statistic_estimation_settings=cls(\n                doe_algo_settings=OT_MONTE_CARLO_Settings(n_samples=10, seed=i + 1)\n            ),\n        )\n        scenario.set_differentiation_method(\"finite_differences\")\n        scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n        method_to_x_opt[name].append(scenario.optimization_result.x_opt.tolist())\n</code></pre> <p>Lastly, we print and plot the comparison in terms of distance to the theoretical solution \\(x^*=(1,1)\\):</p> <pre><code>def ecdf(data: ndarray) -&gt; tuple[ndarray, ndarray]:\n    \"\"\"Empirical cumulative distribution function.\n\n    Args:\n        data: The data.\n\n    Returns:\n        The quantiles and the cumulative probabilities.\n    \"\"\"\n    quantiles, counts = np.unique(data, return_counts=True)\n    return quantiles, np.cumsum(counts).astype(np.double) / data.size\n\n\ncomparison = MultiLineString()\nfor index, method in enumerate([\"Sampling\", \"ControlVariate\"]):\n    distances_to_one = cdist(array(method_to_x_opt[method]), array([[1.0, 1.0]]))\n    x, y = ecdf(abs(distances_to_one))\n    plt.plot(x, y, \"-\" * index, label=method)\n    comparison.add(method)\n    comparison.indent()\n    comparison.add(f\"Mean: {distances_to_one.mean():.2e}\")\n    comparison.add(f\"Standard deviation: {distances_to_one.std():.2e}\")\n    comparison.add(f\"0.05-quantile: {quantile(distances_to_one, 0.05):.2e}\")\n    comparison.add(f\"0.95-quantile: {quantile(distances_to_one, 0.95):.2e}\")\n    comparison.dedent()\n\nprint(comparison)\n\nplt.xlabel(\"Distance to the theoretical solution x=(1,1)\")\nplt.ylabel(\"Cumulative distribution function\")\nplt.legend()\nplt.show()\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: comparison.py</p> <p> Download Jupyter notebook: comparison.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/misc/sellar_sampling_opt_repetitions/","title":"Sampling with repetitions","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/misc/sellar_sampling_opt_repetitions/#sampling-with-repetitions","title":"Sampling with repetitions","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\nfrom gemseo.settings.doe import OT_LHS_Settings\nfrom matplotlib import pyplot as plt\nfrom numpy import load\nfrom numpy import save\nfrom numpy import stack\nfrom numpy import vstack\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we instantiate the disciplines of the Sellar problem:</p> <pre><code>system = AnalyticDiscipline({\n    \"obj\": \"x**2 + z2 + y1**2 + exp(-y2)\",\n    \"c1\": \"3.16 - y1 ** 2\",\n    \"c2\": \"y2 - 24.0\",\n})\ndisc1 = AnalyticDiscipline({\"y1\": \"(z1**2 + z2 + x - a*y2)**0.5\"})\ndisc2 = AnalyticDiscipline({\"y2\": \"2/10*log(1+exp(10*y1))-y1-2/10*log(2) + z1 + z2\"})\n</code></pre> <p>as well as a function to instantiate the design space:</p> <pre><code>def create_design_space() -&gt; DesignSpace:\n    \"\"\"Create the design space for the Sellar problem.\"\"\"\n    design_space = DesignSpace()\n    design_space.add_variable(\"x\", lower_bound=0.0, upper_bound=10.0, value=1.0)\n    design_space.add_variable(\"z1\", lower_bound=-10, upper_bound=10.0, value=4.0)\n    design_space.add_variable(\"z2\", lower_bound=0.0, upper_bound=10.0, value=3.0)\n    return design_space\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"a\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"a\", \"OTTriangularDistribution\", minimum=0.1, maximum=0.3, mode=0.2\n)\n</code></pre> <p>Then, we build 10 UMDOScenario to minimize a sampling-based estimation of the expectation \\(\\mathbb{E}[obj]\\) and store the history of the design values:</p> <pre><code>x_hist = []\nfor i in range(10):\n    print(i)\n    scenario = UMDOScenario(\n        [system, disc1, disc2],\n        \"obj\",\n        create_design_space(),\n        uncertain_space,\n        \"Mean\",\n        formulation_name=\"MDF\",\n        statistic_estimation_settings=Sampling_Settings(\n            doe_algo_settings=OT_LHS_Settings(n_samples=100, seed=i + 1)\n        ),\n    )\n    scenario.add_constraint(\"c1\", \"Margin\", factor=3.0)\n    scenario.add_constraint(\"c2\", \"Margin\", factor=3.0)\n    scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n    x_hist.append(\n        vstack(scenario.formulation.optimization_problem.database.get_x_vect_history())\n    )\n</code></pre> <p>Lastly, we plot the variability of the optimization history with boxplots:</p> <pre><code>print(x_hist)\nx_hist = stack(x_hist)\nsave(\"x_hist.npy\", x_hist)\nx_hist = load(\"x_hist.npy\")\nplt.boxplot(x_hist[:, :, 0])\nplt.savefig(\"hist.png\")\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: sellar_sampling_opt_repetitions.py</p> <p> Download Jupyter notebook: sellar_sampling_opt_repetitions.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/misc/udoe_quadratic/","title":"DOE","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/misc/udoe_quadratic/#doe","title":"DOE","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.udoe_scenario import UDOEScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the random function \\(f(x,U)=(x+U)^2\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"quadratic_function\")\n</code></pre> <p>where \\(x\\) belongs to the interval \\([-1,1]\\):</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and \\(U\\) is a standard Gaussian variable:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we build a UDOEScenario to minimize a sampling-based estimation of the expectation \\(\\mathbb{E}[Y]\\) where \\(Y=f(x,U)\\):</p> <pre><code>scenario = UDOEScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=100),\n)\n</code></pre> <p>We execute it with a full-factorial design of experiments:</p> <pre><code>scenario.execute(algo_name=\"PYDOE_FULLFACT\", n_samples=100)\n</code></pre> <p>and plot the history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=True, show=True)\n</code></pre> <p>Notice that the numerical solution is close to \\((x^*,f^*)=(0,1)\\) as expected from the expression of the statistic: \\(\\mathbb{E}[Y]=\\mathbb{E}[(x+U)^2]=x^2+1\\).</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: udoe_quadratic.py</p> <p> Download Jupyter notebook: udoe_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/pce/mg_execution_times/","title":"Computation times","text":"<p>00:02.408 total execution time for generated_examples_umdo_pce files:</p> <p>+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_pce_quadratic (docs/examples/umdo/pce/plot_pce_quadratic.py)                                                                      | 00:01.604 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_pce_quadratic_approximated_jacobians (docs/examples/umdo/pce/plot_pce_quadratic_approximated_jacobians.py) | 00:00.804 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/pce/plot_pce_quadratic/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/pce/plot_pce_quadratic/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.pce_settings import PCE_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a polynomial chaos expansion (PCE) trained from 20 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=PCE_Settings(n_samples=20),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>Note</p> <p>The mean, standard deviation and variance of the PCE built over the uncertain space are differentiable with respect to the design variables if both the disciplines and the MDO formulation are differentiable, which is the case in this example. This implies that a gradient-based optimization algorithm can be used without approximating the derivatives of the objective.</p> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:40: *** Start UMDOScenario execution ***\n    INFO - 09:12:40: UMDOScenario\n    INFO - 09:12:40:    Disciplines: f\n    INFO - 09:12:40:    Formulation:\n    INFO - 09:12:40:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:40:       Statistic estimation: PCE\n    INFO - 09:12:40:    Uncertain space:\n    INFO - 09:12:40:       +------+---------------------------+\n    INFO - 09:12:40:       | Name |        Distribution       |\n    INFO - 09:12:40:       +------+---------------------------+\n    INFO - 09:12:40:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:40:       +------+---------------------------+\n    INFO - 09:12:40: Optimization problem:\n    INFO - 09:12:40:    minimize E[y]\n    INFO - 09:12:40:    with respect to x\n    INFO - 09:12:40:    over the design space:\n    INFO - 09:12:40:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:40:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:40:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:40:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:40:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:40: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:      1%|          | 1/100 [00:00&lt;00:07, 12.63 it/sec, obj=1.25]\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:      2%|\u258f         | 2/100 [00:00&lt;00:18,  5.42 it/sec, obj=2]\n    INFO - 09:12:40:      3%|\u258e         | 3/100 [00:00&lt;00:11,  8.12 it/sec, obj=1]\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:         R2Measure\n    INFO - 09:12:40:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:40:      4%|\u258d         | 4/100 [00:00&lt;00:15,  6.15 it/sec, obj=1]\n    INFO - 09:12:40:      5%|\u258c         | 5/100 [00:00&lt;00:12,  7.68 it/sec, obj=1]\n    INFO - 09:12:41:         R2Measure\n    INFO - 09:12:41:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:41:      6%|\u258c         | 6/100 [00:00&lt;00:11,  8.40 it/sec, obj=1]\n    INFO - 09:12:41:         R2Measure\n    INFO - 09:12:41:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:41:      7%|\u258b         | 7/100 [00:00&lt;00:10,  9.03 it/sec, obj=1]\n    INFO - 09:12:41:         R2Measure\n    INFO - 09:12:41:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:41:      8%|\u258a         | 8/100 [00:00&lt;00:09,  9.55 it/sec, obj=1]\n    INFO - 09:12:41: Optimization result:\n    INFO - 09:12:41:    Optimizer info:\n    INFO - 09:12:41:       Status: None\n    INFO - 09:12:41:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:41:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:41:    Solution:\n    INFO - 09:12:41:       Objective: 1.000000039203956\n    INFO - 09:12:41:       Design space:\n    INFO - 09:12:41:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:41:          | Name | Lower bound |         Value          | Upper bound | Type  |\n    INFO - 09:12:41:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:41:          | x    |      -1     | -0.0001979998892456258 |      1      | float |\n    INFO - 09:12:41:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:41: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0e0224f0&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(-0.00019799988924562584, 1.000000039203956)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  1.604 seconds)</p> <p> Download Python source code: plot_pce_quadratic.py</p> <p> Download Jupyter notebook: plot_pce_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/pce/plot_pce_quadratic_approximated_jacobians/","title":"A quadratic mono-disciplinary problem with approximated statistics Jacobian","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/pce/plot_pce_quadratic_approximated_jacobians/#a-quadratic-mono-disciplinary-problem-with-approximated-statistics-jacobian","title":"A quadratic mono-disciplinary problem with approximated statistics Jacobian","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.auto_py import AutoPyDiscipline\n\nfrom gemseo_umdo.formulations.pce_settings import PCE_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>def f(x, u):\n    y = (x + u) ** 2\n    return y\n\n\ndiscipline = AutoPyDiscipline(f)\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a polynomial chaos expansion (PCE) trained from 20 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=PCE_Settings(\n        n_samples=20, approximate_statistics_jacobians=True\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>Note</p> <p>The mean, standard deviation and variance of the PCE built over the uncertain space are differentiable with respect to the design variables if both the disciplines and the MDO formulation are differentiable, which is the case in this example. This implies that a gradient-based optimization algorithm can be used without approximating the derivatives of the objective. If this is not the case or if we do not want to compute the derivatives of the disciplines to reduce the calculation budget, we can activate the <code>approximate_statistics_jacobians</code> option as done above to use the approximation technique proposed in Section II.C.3 of a paper by Mura et al.<sup>1</sup> and parametrized by the <code>differentiation_step</code> option (default: <code>1e-6</code>) .</p> <p>We execute this scenario using the gradient-base optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:42: *** Start UMDOScenario execution ***\n    INFO - 09:12:42: UMDOScenario\n    INFO - 09:12:42:    Disciplines: f\n    INFO - 09:12:42:    Formulation:\n    INFO - 09:12:42:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:42:       Statistic estimation: PCE\n    INFO - 09:12:42:    Uncertain space:\n    INFO - 09:12:42:       +------+---------------------------+\n    INFO - 09:12:42:       | Name |        Distribution       |\n    INFO - 09:12:42:       +------+---------------------------+\n    INFO - 09:12:42:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:42:       +------+---------------------------+\n    INFO - 09:12:42: Optimization problem:\n    INFO - 09:12:42:    minimize E[y]\n    INFO - 09:12:42:    with respect to x\n    INFO - 09:12:42:    over the design space:\n    INFO - 09:12:42:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:42:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:42:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:42:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:42:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:42: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:42:      1%|          | 1/100 [00:00&lt;00:06, 15.35 it/sec, obj=1.25]\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n    INFO - 09:12:42:      2%|\u258f         | 2/100 [00:00&lt;00:15,  6.18 it/sec, obj=2]\n    INFO - 09:12:42:      3%|\u258e         | 3/100 [00:00&lt;00:10,  9.27 it/sec, obj=1]\n    INFO - 09:12:42:         R2Measure\n    INFO - 09:12:42:             y[0]: 1.0&gt;=0.9 (train) - 1.0&gt;=0.8 (test)\n   ERROR - 09:12:42: NLopt run failed: NLopt roundoff-limited, RoundoffLimited\nTraceback (most recent call last):\n  File \"/builds/gemseo/dev/gemseo-umdo/.tox/doc/lib64/python3.9/site-packages/gemseo/algos/opt/nlopt/nlopt.py\", line 384, in _run\n    nlopt_problem.optimize(x_0.real)\n  File \"/builds/gemseo/dev/gemseo-umdo/.tox/doc/lib64/python3.9/site-packages/nlopt/nlopt.py\", line 335, in optimize\n    return _nlopt.opt_optimize(self, *args)\nnlopt.RoundoffLimited: NLopt roundoff-limited\n    INFO - 09:12:42: Optimization result:\n    INFO - 09:12:42:    Optimizer info:\n    INFO - 09:12:42:       Status: None\n    INFO - 09:12:42:       Message: GEMSEO stopped the driver.\n    INFO - 09:12:42:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:42:    Solution:\n    INFO - 09:12:42:       Objective: 1.0\n    INFO - 09:12:42:       Design space:\n    INFO - 09:12:42:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:42:          | Name | Lower bound |         Value          | Upper bound | Type  |\n    INFO - 09:12:42:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:42:          | x    |      -1     | -4.792610752701876e-12 |      1      | float |\n    INFO - 09:12:42:          +------+-------------+------------------------+-------------+-------+\n    INFO - 09:12:42: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0c2d2700&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(-4.792610752701876e-12, 1.0)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  0.804 seconds)</p> <p> Download Python source code: plot_pce_quadratic_approximated_jacobians.py</p> <p> Download Jupyter notebook: plot_pce_quadratic_approximated_jacobians.ipynb</p> <p>Gallery generated by mkdocs-gallery</p> <ol> <li> <p>Riccardo Mura, Tiziano Ghisu, and Shahrokh Shahpar. Least squares approximation-based polynomial chaos expansion for uncertainty quantification and robust optimization in aeronautics. In AIAA AVIATION 2020 FORUM. 2020. URL: https://arc.aiaa.org/doi/abs/10.2514/6.2020-3163, arXiv:https://arc.aiaa.org/doi/pdf/10.2514/6.2020-3163, doi:10.2514/6.2020-3163.\u00a0\u21a9</p> </li> </ol>"},{"location":"generated/examples/umdo/sampling/mg_execution_times/","title":"Computation times","text":"<p>00:01.533 total execution time for generated_examples_umdo_sampling files:</p> <p>+------------------------------------------------------------------------------------------------+-----------+--------+ | plot_s_rosenbrock (docs/examples/umdo/sampling/plot_s_rosenbrock.py) | 00:01.082 | 0.0 MB | +------------------------------------------------------------------------------------------------+-----------+--------+ | plot_s_quadratic (docs/examples/umdo/sampling/plot_s_quadratic.py)    | 00:00.452 | 0.0 MB | +------------------------------------------------------------------------------------------------+-----------+--------+ | s_sellar (docs/examples/umdo/sampling/s_sellar.py)                            | 00:00.000 | 0.0 MB | +------------------------------------------------------------------------------------------------+-----------+--------+ | s_sobieski (docs/examples/umdo/sampling/s_sobieski.py)                      | 00:00.000 | 0.0 MB | +------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/sampling/plot_s_quadratic/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/sampling/plot_s_quadratic/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a crude Monte Carlo sampling strategy with 50 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=50),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:43: *** Start UMDOScenario execution ***\n    INFO - 09:12:43: UMDOScenario\n    INFO - 09:12:43:    Disciplines: f\n    INFO - 09:12:43:    Formulation:\n    INFO - 09:12:43:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:43:       Statistic estimation: Sampling\n    INFO - 09:12:43:    Uncertain space:\n    INFO - 09:12:43:       +------+---------------------------+\n    INFO - 09:12:43:       | Name |        Distribution       |\n    INFO - 09:12:43:       +------+---------------------------+\n    INFO - 09:12:43:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:43:       +------+---------------------------+\n    INFO - 09:12:43: Optimization problem:\n    INFO - 09:12:43:    minimize E[y]\n    INFO - 09:12:43:    with respect to x\n    INFO - 09:12:43:    over the design space:\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:12:43:      1%|          | 1/100 [00:00&lt;00:00, 124.71 it/sec, obj=1.32]\n    INFO - 09:12:43:      2%|\u258f         | 2/100 [00:00&lt;00:02, 44.40 it/sec, obj=2.01]\n    INFO - 09:12:43:      3%|\u258e         | 3/100 [00:00&lt;00:01, 66.26 it/sec, obj=1.05]\n    INFO - 09:12:43:      4%|\u258d         | 4/100 [00:00&lt;00:02, 45.35 it/sec, obj=1.05]\n    INFO - 09:12:43:      5%|\u258c         | 5/100 [00:00&lt;00:01, 56.22 it/sec, obj=Not evaluated]\n    INFO - 09:12:43: Optimization result:\n    INFO - 09:12:43:    Optimizer info:\n    INFO - 09:12:43:       Status: None\n    INFO - 09:12:43:       Message: Successive iterates of the design variables are closer than xtol_rel or xtol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:43:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:43:    Solution:\n    INFO - 09:12:43:       Objective: 1.046706570297333\n    INFO - 09:12:43:       Design space:\n    INFO - 09:12:43:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:43:          | Name | Lower bound |        Value         | Upper bound | Type  |\n    INFO - 09:12:43:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:43:          | x    |      -1     | -0.01951106558000004 |      1      | float |\n    INFO - 09:12:43:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:43: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0ce189d0&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(-0.019511065580000042, 1.046706570297333)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  0.452 seconds)</p> <p> Download Python source code: plot_s_quadratic.py</p> <p> Download Jupyter notebook: plot_s_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/sampling/plot_s_rosenbrock/","title":"The Rosenbrock mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/sampling/plot_s_rosenbrock/#the-rosenbrock-mono-disciplinary-problem","title":"The Rosenbrock mono-disciplinary problem","text":"<p>In this example, we consider the Rosenbrock mono-disciplinary optimization problem</p> \\[\\min_{x,y\\in[-2,2]} \\mathbb{E}[(U-x)^2+100(y-x^2)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,0.0025)\\) is a Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>In the following, we will call \\(f\\) the function computing \\((U-x)^2+100(y-x^2)^2\\) given \\(x\\), \\(y\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define the discipline implementing the Rosenbrock function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"z\": \"(u-x)**2+100*(y-x**2)**2\"}, name=\"f\")\n</code></pre> <p>where \\(x,y\\) belongs to the interval \\([-2,2]\\):</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-2, upper_bound=2.0, value=-2.0)\ndesign_space.add_variable(\"y\", lower_bound=-2, upper_bound=2.0, value=-2.0)\n</code></pre> <p>and \\(U\\) is a Gaussian variable with unit mean and standard deviation equal to 0.05:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\", mu=1.0, sigma=0.05)\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(U-x)^2+100(y-x^2)^2]\\) estimated using a first-order Taylor polynomial of \\(f\\) at \\(\\mathbb{E}[U]=0.2\\) at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"z\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=30),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:43: *** Start UMDOScenario execution ***\n    INFO - 09:12:43: UMDOScenario\n    INFO - 09:12:43:    Disciplines: f\n    INFO - 09:12:43:    Formulation:\n    INFO - 09:12:43:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:43:       Statistic estimation: Sampling\n    INFO - 09:12:43:    Uncertain space:\n    INFO - 09:12:43:       +------+----------------------------+\n    INFO - 09:12:43:       | Name |        Distribution        |\n    INFO - 09:12:43:       +------+----------------------------+\n    INFO - 09:12:43:       |  u   | Normal(mu=1.0, sigma=0.05) |\n    INFO - 09:12:43:       +------+----------------------------+\n    INFO - 09:12:43: Optimization problem:\n    INFO - 09:12:43:    minimize E[z]\n    INFO - 09:12:43:    with respect to x, y\n    INFO - 09:12:43:    over the design space:\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43:       | x    |      -2     |   -2  |      2      | float |\n    INFO - 09:12:43:       | y    |      -2     |   -2  |      2      | float |\n    INFO - 09:12:43:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:43: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:12:43:      1%|          | 1/100 [00:00&lt;00:00, 176.22 it/sec, obj=3.61e+3]\n    INFO - 09:12:43:      2%|\u258f         | 2/100 [00:00&lt;00:01, 57.77 it/sec, obj=389]\n    INFO - 09:12:43:      3%|\u258e         | 3/100 [00:00&lt;00:01, 63.28 it/sec, obj=149]\n    INFO - 09:12:43:      4%|\u258d         | 4/100 [00:00&lt;00:01, 69.76 it/sec, obj=411]\n    INFO - 09:12:43:      5%|\u258c         | 5/100 [00:00&lt;00:01, 86.91 it/sec, obj=14.2]\n    INFO - 09:12:43:      6%|\u258c         | 6/100 [00:00&lt;00:01, 72.39 it/sec, obj=606]\n    INFO - 09:12:43:      7%|\u258b         | 7/100 [00:00&lt;00:01, 84.21 it/sec, obj=5.3]\n    INFO - 09:12:43:      8%|\u258a         | 8/100 [00:00&lt;00:01, 73.73 it/sec, obj=99.6]\n    INFO - 09:12:43:      9%|\u2589         | 9/100 [00:00&lt;00:01, 82.76 it/sec, obj=2.29]\n    INFO - 09:12:43:     10%|\u2588         | 10/100 [00:00&lt;00:01, 73.77 it/sec, obj=5.09]\n    INFO - 09:12:43:     11%|\u2588         | 11/100 [00:00&lt;00:01, 80.99 it/sec, obj=0.708]\n    INFO - 09:12:43:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:01, 72.97 it/sec, obj=0.652]\n    INFO - 09:12:43:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:01, 73.48 it/sec, obj=0.634]\n    INFO - 09:12:43:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:01, 73.86 it/sec, obj=0.63]\n    INFO - 09:12:43:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:01, 74.11 it/sec, obj=0.611]\n    INFO - 09:12:43:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:01, 74.28 it/sec, obj=0.511]\n    INFO - 09:12:44:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:01, 75.44 it/sec, obj=2.75]\n    INFO - 09:12:44:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:01, 79.81 it/sec, obj=0.459]\n    INFO - 09:12:44:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:01, 75.68 it/sec, obj=7.61]\n    INFO - 09:12:44:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:01, 79.59 it/sec, obj=0.402]\n    INFO - 09:12:44:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:01, 75.69 it/sec, obj=0.528]\n    INFO - 09:12:44:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:00, 79.23 it/sec, obj=0.362]\n    INFO - 09:12:44:     23%|\u2588\u2588\u258e       | 23/100 [00:00&lt;00:01, 75.13 it/sec, obj=0.329]\n    INFO - 09:12:44:     24%|\u2588\u2588\u258d       | 24/100 [00:00&lt;00:01, 75.26 it/sec, obj=0.277]\n    INFO - 09:12:44:     25%|\u2588\u2588\u258c       | 25/100 [00:00&lt;00:00, 75.38 it/sec, obj=0.177]\n    INFO - 09:12:44:     26%|\u2588\u2588\u258c       | 26/100 [00:00&lt;00:00, 76.10 it/sec, obj=0.199]\n    INFO - 09:12:44:     27%|\u2588\u2588\u258b       | 27/100 [00:00&lt;00:00, 78.98 it/sec, obj=0.148]\n    INFO - 09:12:44:     28%|\u2588\u2588\u258a       | 28/100 [00:00&lt;00:00, 75.49 it/sec, obj=0.094]\n    INFO - 09:12:44:     29%|\u2588\u2588\u2589       | 29/100 [00:00&lt;00:00, 75.38 it/sec, obj=0.0557]\n    INFO - 09:12:44:     30%|\u2588\u2588\u2588       | 30/100 [00:00&lt;00:00, 75.38 it/sec, obj=0.0384]\n    INFO - 09:12:44:     31%|\u2588\u2588\u2588       | 31/100 [00:00&lt;00:00, 75.44 it/sec, obj=0.0282]\n    INFO - 09:12:44:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:00&lt;00:00, 75.51 it/sec, obj=0.0197]\n    INFO - 09:12:44:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:00&lt;00:00, 76.03 it/sec, obj=0.0212]\n    INFO - 09:12:44:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:00&lt;00:00, 78.30 it/sec, obj=0.013]\n    INFO - 09:12:44:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:00&lt;00:00, 75.52 it/sec, obj=0.00853]\n    INFO - 09:12:44:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:00&lt;00:00, 75.54 it/sec, obj=0.00389]\n    INFO - 09:12:44:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:00&lt;00:00, 75.51 it/sec, obj=0.00289]\n    INFO - 09:12:44:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:00&lt;00:00, 75.44 it/sec, obj=0.00247]\n    INFO - 09:12:44:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:00&lt;00:00, 75.38 it/sec, obj=0.00239]\n    INFO - 09:12:44:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:00&lt;00:00, 75.28 it/sec, obj=0.00239]\n    INFO - 09:12:44:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:00&lt;00:00, 75.20 it/sec, obj=0.00239]\n    INFO - 09:12:44:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:00&lt;00:00, 75.10 it/sec, obj=0.00239]\n    INFO - 09:12:44:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:00&lt;00:00, 75.02 it/sec, obj=0.00239]\n    INFO - 09:12:44:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:00&lt;00:00, 75.37 it/sec, obj=0.00239]\n    INFO - 09:12:44:     45%|\u2588\u2588\u2588\u2588\u258c     | 45/100 [00:00&lt;00:00, 77.05 it/sec, obj=0.00239]\n    INFO - 09:12:44: Optimization result:\n    INFO - 09:12:44:    Optimizer info:\n    INFO - 09:12:44:       Status: None\n    INFO - 09:12:44:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:44:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:44:    Solution:\n    INFO - 09:12:44:       Objective: 0.002386012054550266\n    INFO - 09:12:44:       Design space:\n    INFO - 09:12:44:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:12:44:          | Name | Lower bound |       Value       | Upper bound | Type  |\n    INFO - 09:12:44:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:12:44:          | x    |      -2     |  1.00075706516807 |      2      | float |\n    INFO - 09:12:44:          | y    |      -2     | 1.001514703489702 |      2      | float |\n    INFO - 09:12:44:          +------+-------------+-------------------+-------------+-------+\n    INFO - 09:12:44: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0c3a45e0&gt;\n</code></pre> <p>Lastly, we can compare the numerical solution of this Rosenbrock problem under uncertainty</p> <pre><code>(scenario.optimization_result.x_opt, scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(array([1.00075707, 1.0015147 ]), 0.002386012054550266)\n</code></pre> <p>to the solution of the Rosenbrock problem without uncertainty, namely \\((x^*,f^*)=([1, 1], 0)\\).</p> <p>Total running time of the script: ( 0 minutes  1.082 seconds)</p> <p> Download Python source code: plot_s_rosenbrock.py</p> <p> Download Jupyter notebook: plot_s_rosenbrock.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/sampling/s_sellar/","title":"The Sellar's MDO problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/sampling/s_sellar/#the-sellars-mdo-problem","title":"The Sellar's MDO problem","text":"<p>In this example, we consider the Sellar's MDO problem under uncertainty</p> \\[\\min_{x,z_1,x_2} \\mathbb{E}[f(x,z_2,y_1,y_2)]\\] <p>over the design space \\([0,10]\\times[-10,10]\\times[0,10]\\) and under the inequality constraints</p> \\[\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\] <p>and</p> \\[\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0,\\] <p>where</p> <ul> <li>\\(\\mathbb{E}\\) is the expectation operator,</li> <li>\\(\\mathbb{S}\\) is the standard deviation operators,</li> <li>\\(f(x,z_2) = x^2 + z_2 + y_1^2 + \\exp(-y_2)\\) is the objective function,</li> <li>\\(c_1(y_1) = 3.16 - y_1^2\\) is the first constraint function,</li> <li>\\(c_2(y_2) = y_2 - 24.0\\) is the second constraint function,</li> <li>\\(y_1 = \\sqrt{z_1^2 + z_2 + x - ay_2}\\) is the first coupling equation,</li> <li>\\(y_2 = \\frac{\\log(1+\\exp(10y_1))}{5} - y_1 - \\frac{\\log(2)}{5} + z_1 + z_2\\)   is the second coupling equation,</li> <li>\\(a\\) is a random variable distributed   according to the triangular distribution \\(\\mathcal{T}(0.1,0.2,0.3)\\).</li> </ul> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we create one discipline per coupling equation and a system discipline to compute the objective and constraints:</p> <pre><code>system = AnalyticDiscipline({\n    \"obj\": \"x**2 + z2 + y1**2 + exp(-y2)\",\n    \"c1\": \"3.16 - y1 ** 2\",\n    \"c2\": \"y2 - 24.0\",\n})\ndisc1 = AnalyticDiscipline({\"y1\": \"(z1**2 + z2 + x - a*y2)**0.5\"})\ndisc2 = AnalyticDiscipline({\"y2\": \"abs(y1) + z1 + z2\"})\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=0.0, upper_bound=10.0, value=1.0)\ndesign_space.add_variable(\"z1\", lower_bound=-10.0, upper_bound=10.0, value=4.0)\ndesign_space.add_variable(\"z2\", lower_bound=0.0, upper_bound=10.0, value=3.0)\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"a\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"a\", \"OTTriangularDistribution\", minimum=0.1, maximum=0.3, mode=0.2\n)\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[f(x,z_2,y_1,y_2)]\\) estimated using a crude Monte Carlo sampling strategy with 100 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [system, disc1, disc2],\n    \"obj\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=100),\n)\n</code></pre> <p>while satisfying the constraints \\(\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\) and \\(\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0\\):</p> <pre><code>scenario.add_constraint(\"c1\", \"Margin\", factor=3.0)\nscenario.add_constraint(\"c2\", \"Margin\", factor=3.0)\n</code></pre> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=200)\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=True, show=False)\n</code></pre> <p>Lastly, we can compare the numerical solution of this Sellar's MDO problem under uncertainty</p> <pre><code>result = scenario.optimization_result\n(result.x_opt, result.constraint_values, result.f_opt)\n</code></pre> <p>to the solution of the Sellar's MDO problem without uncertainty, namely \\((x^*,c^*,f^*)=([0, 1.77, 0], [0, -20.58], 3.19)\\).</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: s_sellar.py</p> <p> Download Jupyter notebook: s_sellar.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/sampling/s_sobieski/","title":"The Sobieski's SSBJ MDO problem.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/sampling/s_sobieski/#the-sobieskis-ssbj-mdo-problem","title":"The Sobieski's SSBJ MDO problem.","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.problems.mdo.sobieski.core.problem import SobieskiProblem\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiAerodynamics\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiMission\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiPropulsion\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiStructure\n\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we instantiate the discipline of Sobieski's SSBJ problem:</p> <pre><code>mission = SobieskiMission()\nstructure = SobieskiStructure()\npropulsion = SobieskiPropulsion()\naerodynamics = SobieskiAerodynamics()\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = SobieskiProblem().design_space\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"c_4\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"c_4\", \"OTNormalDistribution\", mu=0.01375, sigma=0.01375 * 0.05\n)\n</code></pre> <p>and an uncertainty over the design variable <code>\"x_2\"</code>, expressed as an additive term <code>\"u_x_2\"</code> defined just after in the UMDOScenario:</p> <pre><code>uncertain_space.add_random_variable(\n    \"u_x_2\", \"OTNormalDistribution\", mu=0.0, sigma=1 * 0.05\n)\n</code></pre> <p>Then, we build an UMDOScenario to maximize a sampling-based estimation of the expectation \\(\\mathbb{E}[y_4]\\):</p> <pre><code>scenario = UMDOScenario(\n    [mission, structure, propulsion, aerodynamics],\n    \"y_4\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=20),\n    maximize_objective=True,\n    uncertain_design_variables={\"x_2\": (\"+\", \"u_x_2\")},\n)\n</code></pre> <p>while satisfying margin constraints of the form \\(\\mathbb{E}[g_i]+2\\mathbb{S}[g_i]\\)</p> <pre><code>scenario.add_constraint(\"g_1\", \"Margin\")\nscenario.add_constraint(\"g_2\", \"Margin\")\nscenario.add_constraint(\"g_3\", \"Margin\")\n</code></pre> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Lastly, we can plot the optimization history view:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: s_sobieski.py</p> <p> Download Jupyter notebook: s_sobieski.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/sequential_sampling/mg_execution_times/","title":"Computation times","text":"<p>00:00.514 total execution time for generated_examples_umdo_sequential_sampling files:</p> <p>+-----------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_ss_quadratic (docs/examples/umdo/sequential_sampling/plot_ss_quadratic.py) | 00:00.514 | 0.0 MB | +-----------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/sequential_sampling/plot_ss_quadratic/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/sequential_sampling/plot_ss_quadratic/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.sequential_sampling_settings import (\n    SequentialSampling_Settings,\n)\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a crude Monte Carlo sampling strategy with 20 samples at the initial iteration of the optimization loop, 25 samples at the second iteration, and so on until the seventh iteration where the number of samples is equal to 50 until the end of the loop.</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=SequentialSampling_Settings(\n        n_samples=50,\n        initial_n_samples=20,\n        n_samples_increment=5,\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-based optimizer SLSQP:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_SLSQP\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:45: *** Start UMDOScenario execution ***\n    INFO - 09:12:45: UMDOScenario\n    INFO - 09:12:45:    Disciplines: f\n    INFO - 09:12:45:    Formulation:\n    INFO - 09:12:45:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:45:       Statistic estimation: SequentialSampling\n    INFO - 09:12:45:    Uncertain space:\n    INFO - 09:12:45:       +------+---------------------------+\n    INFO - 09:12:45:       | Name |        Distribution       |\n    INFO - 09:12:45:       +------+---------------------------+\n    INFO - 09:12:45:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:45:       +------+---------------------------+\n    INFO - 09:12:45: Optimization problem:\n    INFO - 09:12:45:    minimize E[y]\n    INFO - 09:12:45:    with respect to x\n    INFO - 09:12:45:    over the design space:\n    INFO - 09:12:45:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:45:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:45:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:45:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:45:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:45: Solving optimization problem with algorithm NLOPT_SLSQP:\n    INFO - 09:12:45:      1%|          | 1/100 [00:00&lt;00:00, 207.11 it/sec, obj=1.25]\n    INFO - 09:12:45:      2%|\u258f         | 2/100 [00:00&lt;00:01, 67.12 it/sec, obj=2.07]\n    INFO - 09:12:45:      3%|\u258e         | 3/100 [00:00&lt;00:00, 99.96 it/sec, obj=1.11]\n    INFO - 09:12:45:      4%|\u258d         | 4/100 [00:00&lt;00:01, 56.61 it/sec, obj=1.05]\n    INFO - 09:12:45:      5%|\u258c         | 5/100 [00:00&lt;00:01, 59.01 it/sec, obj=1.05]\n    INFO - 09:12:45:      6%|\u258c         | 6/100 [00:00&lt;00:01, 70.63 it/sec, obj=1.05]\n    INFO - 09:12:45:      7%|\u258b         | 7/100 [00:00&lt;00:01, 55.21 it/sec, obj=1.05]\n    INFO - 09:12:45:      8%|\u258a         | 8/100 [00:00&lt;00:01, 62.77 it/sec, obj=Not evaluated]\n    INFO - 09:12:45: Optimization result:\n    INFO - 09:12:45:    Optimizer info:\n    INFO - 09:12:45:       Status: None\n    INFO - 09:12:45:       Message: Successive iterates of the design variables are closer than xtol_rel or xtol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:45:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:45:    Solution:\n    INFO - 09:12:45:       Objective: 1.046706570297333\n    INFO - 09:12:45:       Design space:\n    INFO - 09:12:45:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:45:          | Name | Lower bound |        Value         | Upper bound | Type  |\n    INFO - 09:12:45:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:45:          | x    |      -1     | -0.01951106558000004 |      1      | float |\n    INFO - 09:12:45:          +------+-------------+----------------------+-------------+-------+\n    INFO - 09:12:45: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0cd8d820&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(-0.019511065580000042, 1.046706570297333)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  0.514 seconds)</p> <p> Download Python source code: plot_ss_quadratic.py</p> <p> Download Jupyter notebook: plot_ss_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/surrogate/mg_execution_times/","title":"Computation times","text":"<p>00:02.498 total execution time for generated_examples_umdo_surrogate files:</p> <p>+----------------------------------------------------------------------------------------+-----------+--------+ | plot_surrogate (docs/examples/umdo/surrogate/plot_surrogate.py) | 00:02.498 | 0.0 MB | +----------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/surrogate/plot_surrogate/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/surrogate/plot_surrogate/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.surrogate_settings import Surrogate_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated by sampling a surrogate model trained from 20 samples at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=Surrogate_Settings(n_samples=20),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-free optimizer COBYLA:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:46: *** Start UMDOScenario execution ***\n    INFO - 09:12:46: UMDOScenario\n    INFO - 09:12:46:    Disciplines: f\n    INFO - 09:12:46:    Formulation:\n    INFO - 09:12:46:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:46:       Statistic estimation: Surrogate\n    INFO - 09:12:46:    Uncertain space:\n    INFO - 09:12:46:       +------+---------------------------+\n    INFO - 09:12:46:       | Name |        Distribution       |\n    INFO - 09:12:46:       +------+---------------------------+\n    INFO - 09:12:46:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:46:       +------+---------------------------+\n    INFO - 09:12:46: Optimization problem:\n    INFO - 09:12:46:    minimize E[y]\n    INFO - 09:12:46:    with respect to x\n    INFO - 09:12:46:    over the design space:\n    INFO - 09:12:46:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:46:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:46:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:46:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:46:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:46: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9217777493097341&gt;=0.8 (test)\n    INFO - 09:12:47:      1%|          | 1/100 [00:00&lt;00:43,  2.29 it/sec, obj=1.22]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9397200205696712&gt;=0.8 (test)\n    INFO - 09:12:47:      2%|\u258f         | 2/100 [00:00&lt;00:24,  3.92 it/sec, obj=1.97]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9200667047682353&gt;=0.8 (test)\n    INFO - 09:12:47:      3%|\u258e         | 3/100 [00:00&lt;00:18,  5.16 it/sec, obj=0.971]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9576853196908376&gt;=0.8 (test)\n    INFO - 09:12:47:      4%|\u258d         | 4/100 [00:00&lt;00:15,  6.12 it/sec, obj=1.22]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9392935047078771&gt;=0.8 (test)\n    INFO - 09:12:47:      5%|\u258c         | 5/100 [00:00&lt;00:13,  6.86 it/sec, obj=1.03]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9151534540405701&gt;=0.8 (test)\n    INFO - 09:12:47:      6%|\u258c         | 6/100 [00:00&lt;00:12,  7.46 it/sec, obj=0.986]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9240577719857522&gt;=0.8 (test)\n    INFO - 09:12:47:      7%|\u258b         | 7/100 [00:00&lt;00:11,  7.96 it/sec, obj=0.975]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9184279653726527&gt;=0.8 (test)\n    INFO - 09:12:47:      8%|\u258a         | 8/100 [00:00&lt;00:10,  8.41 it/sec, obj=0.972]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9209801782618341&gt;=0.8 (test)\n    INFO - 09:12:47:      9%|\u2589         | 9/100 [00:01&lt;00:10,  8.69 it/sec, obj=0.971]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9196329699289312&gt;=0.8 (test)\n    INFO - 09:12:47:     10%|\u2588         | 10/100 [00:01&lt;00:09,  9.01 it/sec, obj=0.971]\n    INFO - 09:12:47:         R2Measure\n    INFO - 09:12:47:             y[0]: 1.0&gt;=0.9 (train) - 0.9202893940998883&gt;=0.8 (test)\n    INFO - 09:12:47:     11%|\u2588         | 11/100 [00:01&lt;00:09,  9.32 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.919956807011983&gt;=0.8 (test)\n    INFO - 09:12:48:     12%|\u2588\u258f        | 12/100 [00:01&lt;00:10,  8.70 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9201220164676971&gt;=0.8 (test)\n    INFO - 09:12:48:     13%|\u2588\u258e        | 13/100 [00:01&lt;00:10,  8.67 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9200391394885165&gt;=0.8 (test)\n    INFO - 09:12:48:     14%|\u2588\u258d        | 14/100 [00:01&lt;00:09,  8.91 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9200116347093735&gt;=0.8 (test)\n    INFO - 09:12:48:     15%|\u2588\u258c        | 15/100 [00:01&lt;00:09,  9.13 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9199841905207045&gt;=0.8 (test)\n    INFO - 09:12:48:     16%|\u2588\u258c        | 16/100 [00:01&lt;00:09,  9.33 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9199979050356278&gt;=0.8 (test)\n    INFO - 09:12:48:     17%|\u2588\u258b        | 17/100 [00:01&lt;00:08,  9.49 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9200185052273065&gt;=0.8 (test)\n    INFO - 09:12:48:     18%|\u2588\u258a        | 18/100 [00:01&lt;00:08,  9.67 it/sec, obj=0.971]\n    INFO - 09:12:48:         R2Measure\n    INFO - 09:12:48:             y[0]: 1.0&gt;=0.9 (train) - 0.9200253795307446&gt;=0.8 (test)\n    INFO - 09:12:48:     19%|\u2588\u2589        | 19/100 [00:01&lt;00:08,  9.81 it/sec, obj=0.971]\n    INFO - 09:12:48: Optimization result:\n    INFO - 09:12:48:    Optimizer info:\n    INFO - 09:12:48:       Status: None\n    INFO - 09:12:48:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:48:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:48:    Solution:\n    INFO - 09:12:48:       Objective: 0.9706618824138679\n    INFO - 09:12:48:       Design space:\n    INFO - 09:12:48:          +------+-------------+-----------------+-------------+-------+\n    INFO - 09:12:48:          | Name | Lower bound |      Value      | Upper bound | Type  |\n    INFO - 09:12:48:          +------+-------------+-----------------+-------------+-------+\n    INFO - 09:12:48:          | x    |      -1     | 0.0008544921875 |      1      | float |\n    INFO - 09:12:48:          +------+-------------+-----------------+-------------+-------+\n    INFO - 09:12:48: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed16338730&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(0.0008544921875, 0.9706618824138679)\n</code></pre> <p>is close to the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\).</p> <p>Total running time of the script: ( 0 minutes  2.498 seconds)</p> <p> Download Python source code: plot_surrogate.py</p> <p> Download Jupyter notebook: plot_surrogate.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/taylor_polynomial/mg_execution_times/","title":"Computation times","text":"<p>00:00.587 total execution time for generated_examples_umdo_taylor_polynomial files:</p> <p>+---------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_tp_quadratic (docs/examples/umdo/taylor_polynomial/plot_tp_quadratic.py) | 00:00.587 | 0.0 MB | +---------------------------------------------------------------------------------------------------------+-----------+--------+ | tp_sellar (docs/examples/umdo/taylor_polynomial/tp_sellar.py)                         | 00:00.000 | 0.0 MB | +---------------------------------------------------------------------------------------------------------+-----------+--------+ | tp_sobieski (docs/examples/umdo/taylor_polynomial/tp_sobieski.py)                   | 00:00.000 | 0.0 MB | +---------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/umdo/taylor_polynomial/plot_tp_quadratic/","title":"A quadratic mono-disciplinary problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/taylor_polynomial/plot_tp_quadratic/#a-quadratic-mono-disciplinary-problem","title":"A quadratic mono-disciplinary problem","text":"<p>In this example, we consider the quadratic mono-disciplinary optimization problem</p> \\[\\min_{x\\in[-1,1]} \\mathbb{E}[(x+U)^2]\\] <p>where \\(U\\sim\\mathcal{N}(0,1)\\) is a standard Gaussian variable and \\(\\mathbb{E}\\) is the expectation operator.</p> <p>The objective can be rewritten as \\(x^2+1\\) and then the solution is obvious, namely</p> \\[(x^*,\\mathbb{E}[(x^*+U)^2])=(0,1).\\] <p>In the following, we will call \\(f\\) the function computing \\((x+U)^2\\) given \\(x\\) and \\(U\\).</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.taylor_polynomial_settings import (\n    TaylorPolynomial_Settings,\n)\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Out:</p> <pre><code>&lt;RootLogger root (INFO)&gt;\n</code></pre> <p>Firstly, we define an AnalyticDiscipline implementing the function \\(f\\):</p> <pre><code>discipline = AnalyticDiscipline({\"y\": \"(x+u)**2\"}, name=\"f\")\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1, upper_bound=1.0, value=0.5)\n</code></pre> <p>and the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\nuncertain_space.add_random_variable(\"u\", \"OTNormalDistribution\")\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[(x+U)^2]\\) estimated using a first-order Taylor polynomial of \\(f\\) at \\(\\mathbb{E}[U]=0\\) at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=TaylorPolynomial_Settings(),\n)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n</code></pre> <p>We execute this scenario using the gradient-free optimizer COBYLA:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 09:12:49: *** Start UMDOScenario execution ***\n    INFO - 09:12:49: UMDOScenario\n    INFO - 09:12:49:    Disciplines: f\n    INFO - 09:12:49:    Formulation:\n    INFO - 09:12:49:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:49:       Statistic estimation: TaylorPolynomial\n    INFO - 09:12:49:    Uncertain space:\n    INFO - 09:12:49:       +------+---------------------------+\n    INFO - 09:12:49:       | Name |        Distribution       |\n    INFO - 09:12:49:       +------+---------------------------+\n    INFO - 09:12:49:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:49:       +------+---------------------------+\n    INFO - 09:12:49: Optimization problem:\n    INFO - 09:12:49:    minimize E[y]\n    INFO - 09:12:49:    with respect to x\n    INFO - 09:12:49:    over the design space:\n    INFO - 09:12:49:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:49:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49:       | x    |      -1     |  0.5  |      1      | float |\n    INFO - 09:12:49:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:12:49:      1%|          | 1/100 [00:00&lt;00:00, 1459.40 it/sec, obj=0.25]\n    INFO - 09:12:49:      2%|\u258f         | 2/100 [00:00&lt;00:00, 1375.41 it/sec, obj=1]\n    INFO - 09:12:49:      3%|\u258e         | 3/100 [00:00&lt;00:00, 1320.21 it/sec, obj=0]\n    INFO - 09:12:49:      4%|\u258d         | 4/100 [00:00&lt;00:00, 1334.28 it/sec, obj=0.25]\n    INFO - 09:12:49:      5%|\u258c         | 5/100 [00:00&lt;00:00, 1330.17 it/sec, obj=0.0625]\n    INFO - 09:12:49:      6%|\u258c         | 6/100 [00:00&lt;00:00, 1345.26 it/sec, obj=0.0156]\n    INFO - 09:12:49:      7%|\u258b         | 7/100 [00:00&lt;00:00, 1353.69 it/sec, obj=0.00391]\n    INFO - 09:12:49:      8%|\u258a         | 8/100 [00:00&lt;00:00, 1362.67 it/sec, obj=0.000977]\n    INFO - 09:12:49:      9%|\u2589         | 9/100 [00:00&lt;00:00, 1370.64 it/sec, obj=0.000244]\n    INFO - 09:12:49:     10%|\u2588         | 10/100 [00:00&lt;00:00, 1380.34 it/sec, obj=6.1e-5]\n    INFO - 09:12:49:     11%|\u2588         | 11/100 [00:00&lt;00:00, 1389.51 it/sec, obj=1.53e-5]\n    INFO - 09:12:49:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:00, 1393.88 it/sec, obj=3.81e-6]\n    INFO - 09:12:49:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:00, 1395.95 it/sec, obj=9.54e-7]\n    INFO - 09:12:49:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:00, 1403.01 it/sec, obj=2.38e-7]\n    INFO - 09:12:49:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:00, 1407.48 it/sec, obj=5.96e-8]\n    INFO - 09:12:49:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:00, 1410.83 it/sec, obj=1.49e-8]\n    INFO - 09:12:49:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:00, 1417.42 it/sec, obj=3.73e-9]\n    INFO - 09:12:49:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:00, 1420.25 it/sec, obj=9.31e-10]\n    INFO - 09:12:49:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:00, 1419.14 it/sec, obj=2.33e-10]\n    INFO - 09:12:49:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:00, 1424.26 it/sec, obj=5.82e-11]\n    INFO - 09:12:49:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:00, 1425.99 it/sec, obj=1.46e-11]\n    INFO - 09:12:49:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:00, 1419.74 it/sec, obj=3.64e-12]\n    INFO - 09:12:49:     23%|\u2588\u2588\u258e       | 23/100 [00:00&lt;00:00, 1420.63 it/sec, obj=9.09e-13]\n    INFO - 09:12:49:     24%|\u2588\u2588\u258d       | 24/100 [00:00&lt;00:00, 1423.63 it/sec, obj=2.27e-13]\n    INFO - 09:12:49:     25%|\u2588\u2588\u258c       | 25/100 [00:00&lt;00:00, 1424.79 it/sec, obj=5.68e-14]\n    INFO - 09:12:49:     26%|\u2588\u2588\u258c       | 26/100 [00:00&lt;00:00, 1426.90 it/sec, obj=1.42e-14]\n    INFO - 09:12:49:     27%|\u2588\u2588\u258b       | 27/100 [00:00&lt;00:00, 1429.55 it/sec, obj=3.55e-15]\n    INFO - 09:12:49: Optimization result:\n    INFO - 09:12:49:    Optimizer info:\n    INFO - 09:12:49:       Status: None\n    INFO - 09:12:49:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:49:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:49:    Solution:\n    INFO - 09:12:49:       Objective: 0.0\n    INFO - 09:12:49:       Design space:\n    INFO - 09:12:49:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49:          | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:49:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49:          | x    |      -1     |   0   |      1      | float |\n    INFO - 09:12:49:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:49: *** End UMDOScenario execution ***\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Out:</p> <pre><code>&lt;gemseo.post.opt_history_view.OptHistoryView object at 0x79ed0b1608e0&gt;\n</code></pre> <p>Notice that the numerical solution</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(0.0, 0.0)\n</code></pre> <p>is far from the theoretical solution \\((x^*,\\mathbb{E}[(x^*+U)^2])=(0,1)\\) in terms of objective value, as the objective function is far from being quadratic with respect to \\(U\\). However, we can see that the optimum design value is equal to the theoretical one.</p> <p>On the other hand, we can use a second-order Taylor polynomial</p> <pre><code>scenario = UMDOScenario(\n    [discipline],\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"DisciplinaryOpt\",\n    statistic_estimation_settings=TaylorPolynomial_Settings(second_order=True),\n)\nscenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/src/gemseo_umdo/scenarios/base_u_scenario.py:148: PydanticDeprecatedSince20: The `copy` method is deprecated; use `model_copy` instead. See the docstring of `BaseModel.copy` for details about how to handle `include` and `exclude`. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/\n  formulation_settings_model_copy = formulation_settings_model.copy()\n    INFO - 09:12:50: *** Start UMDOScenario execution ***\n    INFO - 09:12:50: UMDOScenario\n    INFO - 09:12:50:    Disciplines: f\n    INFO - 09:12:50:    Formulation:\n    INFO - 09:12:50:       MDO formulation: DisciplinaryOpt\n    INFO - 09:12:50:       Statistic estimation: TaylorPolynomial\n    INFO - 09:12:50:    Uncertain space:\n    INFO - 09:12:50:       +------+---------------------------+\n    INFO - 09:12:50:       | Name |        Distribution       |\n    INFO - 09:12:50:       +------+---------------------------+\n    INFO - 09:12:50:       |  u   | Normal(mu=0.0, sigma=1.0) |\n    INFO - 09:12:50:       +------+---------------------------+\n    INFO - 09:12:50: Optimization problem:\n    INFO - 09:12:50:    minimize E[y]\n    INFO - 09:12:50:    with respect to x\n    INFO - 09:12:50:    over the design space:\n    INFO - 09:12:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50:       | x    |      -1     |   0   |      1      | float |\n    INFO - 09:12:50:       +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50: Solving optimization problem with algorithm NLOPT_COBYLA:\n    INFO - 09:12:50:      1%|          | 1/100 [00:00&lt;00:00, 1031.81 it/sec, obj=1]\n    INFO - 09:12:50:      2%|\u258f         | 2/100 [00:00&lt;00:00, 1057.03 it/sec, obj=1.25]\n    INFO - 09:12:50:      3%|\u258e         | 3/100 [00:00&lt;00:00, 1031.81 it/sec, obj=1.25]\n    INFO - 09:12:50: Optimization result:\n    INFO - 09:12:50:    Optimizer info:\n    INFO - 09:12:50:       Status: None\n    INFO - 09:12:50:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 09:12:50:       Number of calls to the objective function by the optimizer: 0\n    INFO - 09:12:50:    Solution:\n    INFO - 09:12:50:       Objective: 1.0\n    INFO - 09:12:50:       Design space:\n    INFO - 09:12:50:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50:          | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 09:12:50:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50:          | x    |      -1     |   0   |      1      | float |\n    INFO - 09:12:50:          +------+-------------+-------+-------------+-------+\n    INFO - 09:12:50: *** End UMDOScenario execution ***\n</code></pre> <p>and see that it gives the exact solution:</p> <pre><code>(scenario.optimization_result.x_opt[0], scenario.optimization_result.f_opt)\n</code></pre> <p>Out:</p> <pre><code>(0.0, 1.0)\n</code></pre> <p>which is quite logical in this simple example since the function \\(f\\) is quadratic with respect to \\(U\\).</p> <p>Total running time of the script: ( 0 minutes  0.587 seconds)</p> <p> Download Python source code: plot_tp_quadratic.py</p> <p> Download Jupyter notebook: plot_tp_quadratic.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/taylor_polynomial/tp_sellar/","title":"The Sellar's MDO problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/taylor_polynomial/tp_sellar/#the-sellars-mdo-problem","title":"The Sellar's MDO problem","text":"<p>In this example, we consider the Sellar's MDO problem under uncertainty</p> \\[\\min_{x,z_1,x_2} \\mathbb{E}[f(x,z_2,y_1,y_2)]\\] <p>over the design space \\([0,10]\\times[-10,10]\\times[0,10]\\) and under the inequality constraints</p> \\[\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\] <p>and</p> \\[\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0,\\] <p>where</p> <ul> <li>\\(\\mathbb{E}\\) is the expectation operator,</li> <li>\\(\\mathbb{S}\\) is the standard deviation operators,</li> <li>\\(f(x,z_2) = x^2 + z_2 + y_1^2 + \\exp(-y_2)\\) is the objective function,</li> <li>\\(c_1(y_1) = 3.16 - y_1^2\\) is the first constraint function,</li> <li>\\(c_2(y_2) = y_2 - 24.0\\) is the second constraint function,</li> <li>\\(y_1 = \\sqrt{z_1^2 + z_2 + x - ay_2}\\) is the first coupling equation,</li> <li>\\(y_2 = \\frac{\\log(1+\\exp(10y_1))}{5} - y_1 - \\frac{\\log(2)}{5} + z_1 + z_2\\)   is the second coupling equation,</li> <li>\\(a\\) is a random variable distributed   according to the triangular distribution \\(\\mathcal{T}(0.1,0.2,0.3)\\).</li> </ul> <pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\n\nfrom gemseo_umdo.formulations.taylor_polynomial_settings import (\n    TaylorPolynomial_Settings,\n)\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we create one discipline per coupling equation and a system discipline to compute the objective and constraints:</p> <pre><code>system = AnalyticDiscipline({\n    \"obj\": \"x**2 + z2 + y1**2 + exp(-y2)\",\n    \"c1\": \"3.16 - y1 ** 2\",\n    \"c2\": \"y2 - 24.0\",\n})\ndisc1 = AnalyticDiscipline({\"y1\": \"(z1**2 + z2 + x - a*y2)**0.5\"})\ndisc2 = AnalyticDiscipline({\"y2\": \"2/10*log(1+exp(10*y1))-y1-2/10*log(2) + z1 + z2\"})\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=0.0, upper_bound=10.0, value=1.0)\ndesign_space.add_variable(\"z1\", lower_bound=-10.0, upper_bound=10.0, value=4.0)\ndesign_space.add_variable(\"z2\", lower_bound=0.0, upper_bound=10.0, value=3.0)\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"a\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"a\", \"OTTriangularDistribution\", minimum=0.1, maximum=0.3, mode=0.2\n)\n</code></pre> <p>Then, we define a UMDOScenario to minimize the statistic \\(\\mathbb{E}[f(x,z_2,y_1,y_2)]\\) estimated using a first-order Taylor polynomial of \\(f\\) at \\(\\mathbb{E}[a]=0.2\\) at each iteration of the optimization loop:</p> <pre><code>scenario = UMDOScenario(\n    [system, disc1, disc2],\n    \"obj\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=TaylorPolynomial_Settings(),\n)\n</code></pre> <p>while satisfying the constraints \\(\\mathbb{E}[c_1(y_1)]+3\\mathbb{S}[c_1(y_1)] \\leq 0\\) and \\(\\mathbb{E}[c_2(y_2)]+3\\mathbb{S}[c_2(y_2)] \\leq 0\\):</p> <pre><code>scenario.add_constraint(\"c1\", \"Margin\", factor=3.0)\nscenario.add_constraint(\"c2\", \"Margin\", factor=3.0)\n</code></pre> <p>We execute this scenario using the gradient-free optimizer COBYLA:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=200)\n</code></pre> <p>and plot the optimization history:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Lastly, we can compare the numerical solution of this Sellar's MDO problem under uncertainty</p> <pre><code>result = scenario.optimization_result\n(result.x_opt, result.constraint_values, result.f_opt)\n</code></pre> <p>to the solution of the Sellar's MDO problem without uncertainty, namely \\((x^*,c^*,f^*)=([0, 1.77, 0], [0, -20.58], 3.19)\\).</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: tp_sellar.py</p> <p> Download Jupyter notebook: tp_sellar.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/umdo/taylor_polynomial/tp_sobieski/","title":"The Sobieski's SSBJ MDO problem","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/umdo/taylor_polynomial/tp_sobieski/#the-sobieskis-ssbj-mdo-problem","title":"The Sobieski's SSBJ MDO problem","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo import configure_logger\nfrom gemseo.algos.parameter_space import ParameterSpace\nfrom gemseo.problems.mdo.sobieski.core.problem import SobieskiProblem\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiAerodynamics\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiMission\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiPropulsion\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiStructure\n\nfrom gemseo_umdo.formulations.taylor_polynomial_settings import (\n    TaylorPolynomial_Settings,\n)\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\nconfigure_logger()\n</code></pre> <p>Firstly, we instantiate the discipline of Sobieski's SSBJ problem:</p> <pre><code>mission = SobieskiMission()\nstructure = SobieskiStructure()\npropulsion = SobieskiPropulsion()\naerodynamics = SobieskiAerodynamics()\n</code></pre> <p>as well as the design space:</p> <pre><code>design_space = SobieskiProblem().design_space\n</code></pre> <p>Secondly, we define the uncertain space:</p> <pre><code>uncertain_space = ParameterSpace()\n</code></pre> <p>with an uncertainty over the constant <code>\"c_4\"</code>:</p> <pre><code>uncertain_space.add_random_variable(\n    \"c_4\", \"OTNormalDistribution\", mu=0.01375, sigma=0.01375 * 0.05\n)\n</code></pre> <p>and an uncertainty over the design variable <code>\"x_2\"</code>, expressed as an additive term <code>\"u_x_2\"</code> defined just after in the UMDOScenario:</p> <pre><code>uncertain_space.add_random_variable(\n    \"u_x_2\", \"OTNormalDistribution\", mu=0.0, sigma=1 * 0.05\n)\n</code></pre> <p>Then, we build an UMDOScenario to maximize a first-order linearization-based estimation (default estimation method) of the expectation \\(\\mathbb{E}[y_4]\\):</p> <pre><code>scenario = UMDOScenario(\n    [mission, structure, propulsion, aerodynamics],\n    \"y_4\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    formulation_name=\"MDF\",\n    statistic_estimation_settings=TaylorPolynomial_Settings(),\n    # statistic_estimation_settings=TaylorPolynomialSettings(second_order=True),\n    maximize_objective=True,\n    uncertain_design_variables={\"x_2\": (\"+\", \"u_x_2\")},\n)\n</code></pre> <p>while satisfying margin constraints of the form \\(\\mathbb{E}[g_i]+2\\mathbb{S}[g_i]\\)</p> <pre><code>scenario.add_constraint(\"g_1\", \"Margin\")\nscenario.add_constraint(\"g_2\", \"Margin\")\nscenario.add_constraint(\"g_3\", \"Margin\")\n</code></pre> <p>and execute it with a gradient-free optimizer:</p> <pre><code>scenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=100)\n</code></pre> <p>Lastly, we can plot the optimization history view:</p> <pre><code>scenario.post_process(post_name=\"OptHistoryView\", save=False, show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: tp_sobieski.py</p> <p> Download Jupyter notebook: tp_sobieski.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/visualizations/","title":"Visualization","text":""},{"location":"generated/examples/visualizations/#data-visualization","title":"Data visualization","text":""},{"location":"generated/examples/visualizations/#sobol-graph","title":"Sobol' graph","text":"<p>A SobolGraph is used to plot the first-order, second-order and total Sobol' indices as a network. We invite the reader to start with the example of the Ishigami problem to find out about the various features of this class.</p> <p> Sobol' graph for the Sellar use case. </p> <p> Sobol' graph for the Sobieski's SSBJ use case. </p> <p> Sobol' graph for the Ishigami use case. </p>"},{"location":"generated/examples/visualizations/#uncertain-coupling-graph","title":"Uncertain coupling graph","text":"<p> The uncertain coupling graph for the Sobieski's SSBJ use case. </p> <p> Download all examples in Python source code: visualizations_python.zip</p> <p> Download all examples in Jupyter notebooks: visualizations_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/visualizations/sobol_graph/mg_execution_times/","title":"Computation times","text":"<p>00:04.408 total execution time for generated_examples_visualizations_sobol_graph files:</p> <p>+-------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_sobieski_sobol_graph (docs/examples/visualizations/sobol_graph/plot_sobieski_sobol_graph.py) | 00:03.041 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_ishigami_sobol_graph (docs/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph.py) | 00:00.916 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_sellar_sobol_graph (docs/examples/visualizations/sobol_graph/plot_sellar_sobol_graph.py)       | 00:00.451 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/","title":"Sobol' graph for the Ishigami use case.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#sobol-graph-for-the-ishigami-use-case","title":"Sobol' graph for the Ishigami use case.","text":"<p>This example illustrates the concept of SobolGraph in the case of the Ishigami problem:</p> \\[f(X_1,X_2,X_3) = \\sin(X_1)+ 7\\sin(X_2)^2 + 0.1X_3^4\\sin(X_1)\\] <p>where \\(X_1\\), \\(X_2\\) and \\(X_3\\) are independent random variables uniformly distributed over the interval \\([-\\pi,\\pi]\\).</p> <p>We are going to represent the Sobol' indices of \\(f\\) using a SobolGraph.</p> <pre><code>from __future__ import annotations\n\nfrom gemseo import sample_disciplines\nfrom gemseo.mlearning.regression.algos.pce import PCERegressor\nfrom gemseo.mlearning.regression.algos.pce_settings import PCERegressor_Settings\nfrom gemseo.problems.uncertainty.ishigami.ishigami_discipline import IshigamiDiscipline\nfrom gemseo.problems.uncertainty.ishigami.ishigami_space import IshigamiSpace\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_1\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_2\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_3\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_12\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_13\nfrom gemseo.problems.uncertainty.ishigami.statistics import SOBOL_23\nfrom gemseo.problems.uncertainty.ishigami.statistics import TOTAL_SOBOL_1\nfrom gemseo.problems.uncertainty.ishigami.statistics import TOTAL_SOBOL_2\nfrom gemseo.problems.uncertainty.ishigami.statistics import TOTAL_SOBOL_3\nfrom gemseo.uncertainty.sensitivity.sobol_analysis import SobolAnalysis\n\nfrom gemseo_umdo.visualizations.sobol_graph import SobolGraph\n</code></pre>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#analytical-sobol-indices","title":"Analytical Sobol' indices","text":"<p>As the Sobol' indices of the Ishigami function are perfectly known, we can draw the Sobol' graph directly from these indices:</p> <pre><code>sobol_graph = SobolGraph(\n    {\"X1\": SOBOL_1, \"X2\": SOBOL_2, \"X3\": SOBOL_3},\n    {\n        \"X1\": TOTAL_SOBOL_1,\n        \"X2\": TOTAL_SOBOL_2,\n        \"X3\": TOTAL_SOBOL_3,\n    },\n    {\n        (\"X1\", \"X2\"): SOBOL_12,\n        (\"X1\", \"X3\"): SOBOL_13,\n        (\"X2\", \"X3\"): SOBOL_23,\n    },\n)\nsobol_graph\n</code></pre> X1     (56, 31) X1 (56, 31) X3     (24, 0) X3 (24, 0) X1     (56, 31)-&gt;X3     (24, 0) X2     (44, 44) X2 (44, 44) <p>We can see that the thickness of a node is proportional to the corresponding total index (this is the first value in the node, the second one being the first-order index) while an edge represents a second-order index.</p> <p>Note</p> <p>A SobolGraph can easily be displayed in an HTML page or in a Jupyter notebook. You can also use its <code>visualize</code> method to save it on the disk or display it with a dedicated program.</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#indices-estimated-by-sampling","title":"Indices estimated by sampling","text":"<p>If they were not known, we could also estimate them by sampling.</p> <p>First, we estimate the indices:</p> <pre><code>sobol_analysis = SobolAnalysis()\nsobol_analysis.compute_samples([IshigamiDiscipline()], IshigamiSpace(), 1000)\nsobol_analysis.compute_indices()\n</code></pre> <p>Out:</p> <pre><code>SobolAnalysis.SensitivityIndices(first={'y': [{'x1': array([0.38678977]), 'x2': array([0.56504881]), 'x3': array([0.0904552])}]}, second={'y': [{'x1': {'x1': array([[0.]]), 'x2': array([[0.04715899]]), 'x3': array([[0.14137661]])}, 'x2': {'x1': array([[0.04715899]]), 'x2': array([[0.]]), 'x3': array([[-0.14643279]])}, 'x3': {'x1': array([[0.14137661]]), 'x2': array([[-0.14643279]]), 'x3': array([[0.]])}}]}, total={'y': [{'x1': array([0.55200142]), 'x2': array([0.52571679]), 'x3': array([0.18115653])}]})\n</code></pre> <p>Then, we plot the Sobol' graph:</p> <pre><code>sobol_graph = SobolGraph.from_analysis(sobol_analysis, \"y\")\nsobol_graph\n</code></pre> x1     (55, 39) x1 (55, 39) x3     (18, 9) x3 (18, 9) x1     (55, 39)-&gt;x3     (18, 9) x2     (53, 57) x2 (53, 57) <p>and find a figure similar to the previous one.</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#indices-estimated-from-a-pce","title":"Indices estimated from a PCE","text":"<p>We could also estimate them from a polynomial chaos expansion (PCE, see PCERegressor).</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#create-the-training-dataset","title":"Create the training dataset","text":"<p>First, we create a training dataset by sampling the Ishigami function using an optimal LHS:</p> <pre><code>samples = sample_disciplines(\n    [IshigamiDiscipline()],\n    IshigamiSpace(\n        uniform_distribution_name=IshigamiSpace.UniformDistribution.OPENTURNS\n    ),\n    [\"y\"],\n    algo_name=\"OT_OPT_LHS\",\n    n_samples=50,\n)\n</code></pre>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#create-the-pce","title":"Create the PCE","text":"<p>Then, we create a PCE using the LARS technique:</p> <pre><code>pce_settings = PCERegressor_Settings(degree=6, use_lars=True)\npce = PCERegressor(samples, settings_model=pce_settings)\npce.learn()\n</code></pre>"},{"location":"generated/examples/visualizations/sobol_graph/plot_ishigami_sobol_graph/#create-the-graph","title":"Create the graph","text":"<p>Lastly, we plot the Sobol' graph:</p> <pre><code>sobol_graph = SobolGraph.from_pce(pce, \"y\")\nsobol_graph\n</code></pre> x1     (53, 32) x1 (53, 32) x3     (22, 0) x3 (22, 0) x1     (53, 32)-&gt;x3     (22, 0) x2     (47, 47) x2 (47, 47) <p>We find a figure similar to the previous ones.</p> <p>Total running time of the script: ( 0 minutes  0.916 seconds)</p> <p> Download Python source code: plot_ishigami_sobol_graph.py</p> <p> Download Jupyter notebook: plot_ishigami_sobol_graph.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_sellar_sobol_graph/","title":"Sobol' graph for the Sellar use case.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_sellar_sobol_graph/#sobol-graph-for-the-sellar-use-case","title":"Sobol' graph for the Sellar use case.","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo.problems.mdo.sellar.sellar_1 import Sellar1\nfrom gemseo.problems.mdo.sellar.sellar_2 import Sellar2\nfrom gemseo.problems.mdo.sellar.sellar_design_space import SellarDesignSpace\nfrom gemseo.problems.mdo.sellar.sellar_system import SellarSystem\nfrom gemseo.uncertainty.sensitivity.sobol_analysis import SobolAnalysis\n\nfrom gemseo_umdo.visualizations.sobol_graph import SobolGraph\n</code></pre> <p>First, we consider the SellarDesignSpace as the uncertain space, which means that the uncertain variables are the design variables uniformly distributed between their lower and upper bounds:</p> <pre><code>design_space = SellarDesignSpace(dtype=\"float64\")\n</code></pre> <p>Then, we define the disciplines:</p> <pre><code>disciplines = [Sellar1(), Sellar2(), SellarSystem()]\n</code></pre> <p>Thirdly, we compute the Sobol' indices for all the outputs of the MDO problem:</p> <pre><code>sobol_analysis = SobolAnalysis()\nsobol_analysis.compute_samples(disciplines, design_space, 100)\nsobol_analysis.compute_indices()\n</code></pre> <p>Out:</p> <pre><code>SobolAnalysis.SensitivityIndices(first={'c_1': [{'x_1': array([-0.34410788]), 'x_2': array([-0.29843742]), 'x_shared': array([ 1.4609366 , -0.30485751]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'c_2': [{'x_1': array([-0.53113253]), 'x_2': array([-0.38770084]), 'x_shared': array([ 0.16102727, -0.23098258]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'obj': [{'x_1': array([0.27800538]), 'x_2': array([0.38104748]), 'x_shared': array([ 0.13907665, -0.22035748]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'y_1': [{'x_1': array([-0.37913248]), 'x_2': array([-0.31458256]), 'x_shared': array([ 1.55138982, -0.32269607]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'y_2': [{'x_1': array([-0.53113253]), 'x_2': array([-0.38770084]), 'x_shared': array([ 0.16102727, -0.23098258]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}]}, second={'c_1': [{'x_1': {'x_1': array([[0.]]), 'x_2': array([[0.56701565]]), 'x_shared': array([[0.64222341, 0.56724841]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_2': {'x_1': array([[0.56701565]]), 'x_2': array([[0.]]), 'x_shared': array([[0.53308573, 0.55716927]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_shared': {'x_1': array([[0.64222341],\n       [0.56724841]]), 'x_2': array([[0.53308573],\n       [0.55716927]]), 'x_shared': array([[0.        , 0.67760025],\n       [0.67760025, 0.        ]]), 'y_1': array([], shape=(2, 0), dtype=float64), 'y_2': array([], shape=(2, 0), dtype=float64)}, 'y_1': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}, 'y_2': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}}], 'c_2': [{'x_1': {'x_1': array([[0.]]), 'x_2': array([[0.97693332]]), 'x_shared': array([[1.02843539, 0.98166627]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_2': {'x_1': array([[0.97693332]]), 'x_2': array([[0.]]), 'x_shared': array([[1.03793979, 0.99780661]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_shared': {'x_1': array([[1.02843539],\n       [0.98166627]]), 'x_2': array([[1.03793979],\n       [0.99780661]]), 'x_shared': array([[0.        , 1.17629671],\n       [1.17629671, 0.        ]]), 'y_1': array([], shape=(2, 0), dtype=float64), 'y_2': array([], shape=(2, 0), dtype=float64)}, 'y_1': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}, 'y_2': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}}], 'obj': [{'x_1': {'x_1': array([[0.]]), 'x_2': array([[0.1349524]]), 'x_shared': array([[-0.18981858,  0.0144984 ]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_2': {'x_1': array([[0.1349524]]), 'x_2': array([[0.]]), 'x_shared': array([[-0.21880146,  0.26163531]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_shared': {'x_1': array([[-0.18981858],\n       [ 0.0144984 ]]), 'x_2': array([[-0.21880146],\n       [ 0.26163531]]), 'x_shared': array([[0.        , 0.44771454],\n       [0.44771454, 0.        ]]), 'y_1': array([], shape=(2, 0), dtype=float64), 'y_2': array([], shape=(2, 0), dtype=float64)}, 'y_1': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}, 'y_2': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}}], 'y_1': [{'x_1': {'x_1': array([[0.]]), 'x_2': array([[0.61333702]]), 'x_shared': array([[0.80500281, 0.60420385]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_2': {'x_1': array([[0.61333702]]), 'x_2': array([[0.]]), 'x_shared': array([[0.5548233 , 0.59360034]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_shared': {'x_1': array([[0.80500281],\n       [0.60420385]]), 'x_2': array([[0.5548233 ],\n       [0.59360034]]), 'x_shared': array([[0.        , 0.59408379],\n       [0.59408379, 0.        ]]), 'y_1': array([], shape=(2, 0), dtype=float64), 'y_2': array([], shape=(2, 0), dtype=float64)}, 'y_1': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}, 'y_2': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}}], 'y_2': [{'x_1': {'x_1': array([[0.]]), 'x_2': array([[0.97693332]]), 'x_shared': array([[1.02843539, 0.98166627]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_2': {'x_1': array([[0.97693332]]), 'x_2': array([[0.]]), 'x_shared': array([[1.03793979, 0.99780661]]), 'y_1': array([], shape=(1, 0), dtype=float64), 'y_2': array([], shape=(1, 0), dtype=float64)}, 'x_shared': {'x_1': array([[1.02843539],\n       [0.98166627]]), 'x_2': array([[1.03793979],\n       [0.99780661]]), 'x_shared': array([[0.        , 1.17629671],\n       [1.17629671, 0.        ]]), 'y_1': array([], shape=(2, 0), dtype=float64), 'y_2': array([], shape=(2, 0), dtype=float64)}, 'y_1': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}, 'y_2': {'x_1': array([], shape=(0, 1), dtype=float64), 'x_2': array([], shape=(0, 1), dtype=float64), 'x_shared': array([], shape=(0, 2), dtype=float64), 'y_1': array([], shape=(0, 0), dtype=float64), 'y_2': array([], shape=(0, 0), dtype=float64)}}]}, total={'c_1': [{'x_1': array([-0.06242711]), 'x_2': array([-0.02552407]), 'x_shared': array([1.91531727, 0.0261901 ]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'c_2': [{'x_1': array([-0.00958813]), 'x_2': array([0.17352049]), 'x_shared': array([1.10455106, 0.28830073]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'obj': [{'x_1': array([0.14342032]), 'x_2': array([0.38962347]), 'x_shared': array([ 0.5997534 , -0.17876174]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'y_1': [{'x_1': array([-0.02665882]), 'x_2': array([-0.03806079]), 'x_shared': array([1.93039396, 0.04341187]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}], 'y_2': [{'x_1': array([-0.00958813]), 'x_2': array([0.17352049]), 'x_shared': array([1.10455106, 0.28830073]), 'y_1': array([], dtype=float64), 'y_2': array([], dtype=float64)}]})\n</code></pre> <p>Lastly, we draw the Sobol' graph :</p> <pre><code>sobol_graph = SobolGraph.from_analysis(sobol_analysis, output_name=\"obj\")\nsobol_graph\n</code></pre> x_1     (14, 28) x_1 (14, 28) x_2     (39, 38) x_2 (39, 38) x_1     (14, 28)-&gt;x_2     (39, 38) x_shared[1]     (0, 0) x_shared[1] (0, 0) x_2     (39, 38)-&gt;x_shared[1]     (0, 0) x_shared[0]     (60, 14) x_shared[0] (60, 14) x_shared[0]     (60, 14)-&gt;x_shared[1]     (0, 0) <p>Total running time of the script: ( 0 minutes  0.451 seconds)</p> <p> Download Python source code: plot_sellar_sobol_graph.py</p> <p> Download Jupyter notebook: plot_sellar_sobol_graph.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_sobieski_sobol_graph/","title":"Sobol' graph for the Sobieski's SSBJ use case.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/visualizations/sobol_graph/plot_sobieski_sobol_graph/#sobol-graph-for-the-sobieskis-ssbj-use-case","title":"Sobol' graph for the Sobieski's SSBJ use case.","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.problems.mdo.sobieski.core.problem import SobieskiProblem\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiAerodynamics\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiMission\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiPropulsion\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiStructure\nfrom gemseo.uncertainty.sensitivity.sobol_analysis import SobolAnalysis\nfrom gemseo.utils.data_conversion import split_array_to_dict_of_arrays\n\nfrom gemseo_umdo.visualizations.sobol_graph import SobolGraph\n</code></pre> <p>First, we define an uncertain space around the optimum design:</p> <pre><code>design_space = SobieskiProblem().design_space\ndesign_variable_names = [\"x_1\", \"x_2\", \"x_3\", \"x_shared\"]\ndesign_space.filter(design_variable_names)\noptimum_design = split_array_to_dict_of_arrays(\n    SobieskiProblem().optimum_design,\n    design_space.variable_sizes,\n    design_variable_names,\n)\n\nuncertain_space = DesignSpace()\nfor name, value in optimum_design.items():\n    uncertain_space.add_variable(\n        name,\n        size=value.size,\n        lower_bound=value * 0.95,\n        upper_bound=value * 1.05,\n        value=value,\n    )\n</code></pre> <p>Then, we define the disciplines:</p> <pre><code>disciplines = [\n    SobieskiAerodynamics(),\n    SobieskiStructure(),\n    SobieskiPropulsion(),\n    SobieskiMission(),\n]\n</code></pre> <p>Thirdly, we compute the Sobol' indices for all the outputs of the MDO problem:</p> <pre><code>sobol_analysis = SobolAnalysis()\nsobol_analysis.compute_samples(disciplines, uncertain_space, 100)\nsobol_analysis.compute_indices()\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/.tox/doc/lib64/python3.9/site-packages/gemseo/problems/mdo/sobieski/core/utils.py:225: DeprecationWarning: Conversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n  ai_coeff[index] = -(f_bound[2] - f_bound[0]) / (2 * mtx_shifted[0, 1])\n\nSobolAnalysis.SensitivityIndices(first={'g_1': [{'x_1': array([ 1.25794269, -0.32644388]), 'x_2': array([-0.05557633]), 'x_3': array([-0.05557633]), 'x_shared': array([12.38277997, -0.05557633, -0.05557633, -1.05536659, -0.05557633,\n        0.69775338])}, {'x_1': array([1.59909832, 0.32261034]), 'x_2': array([0.38144802]), 'x_3': array([0.38144802]), 'x_shared': array([11.47445703,  0.38144802,  0.38144802, -0.97815587,  0.38144802,\n        1.41774286])}, {'x_1': array([1.72521777, 0.59361554]), 'x_2': array([0.55746056]), 'x_3': array([0.55746056]), 'x_shared': array([11.01723805,  0.55746056,  0.55746056, -0.9406981 ,  0.55746056,\n        1.7075232 ])}, {'x_1': array([1.78929737, 0.74015108]), 'x_2': array([0.65100393]), 'x_3': array([0.65100393]), 'x_shared': array([10.75036711,  0.65100393,  0.65100393, -0.91912888,  0.65100393,\n        1.86147795])}, {'x_1': array([1.82775987, 0.83156332]), 'x_2': array([0.70876004]), 'x_3': array([0.70876004]), 'x_shared': array([10.57666774,  0.70876004,  0.70876004, -0.90519019,  0.70876004,\n        1.95651438])}, {'x_1': array([2.14904245, 2.64149302]), 'x_2': array([1.03865101]), 'x_3': array([1.03865101]), 'x_shared': array([ 1.03865101,  1.03865101,  1.03865101, -0.85288882,  1.03865101,\n        2.97117135])}, {'x_1': array([2.14904245, 2.64149302]), 'x_2': array([1.03865101]), 'x_3': array([1.03865101]), 'x_shared': array([ 1.03865101,  1.03865101,  1.03865101, -0.85288882,  1.03865101,\n        2.97117135])}], 'g_2': [{'x_1': array([-1.78397901, -1.78397901]), 'x_2': array([-1.78397901]), 'x_3': array([-1.78397901]), 'x_shared': array([14.06439183, -1.78397901, -1.78397901, -1.78397901, -1.78397901,\n       -1.78397901])}], 'g_3': [{'x_1': array([0.37344871, 0.37341757]), 'x_2': array([0.37074072]), 'x_3': array([0.27642848]), 'x_shared': array([0.43630773, 0.27560325, 0.49427916, 0.37346968, 0.40593033,\n       0.38001693])}, {'x_1': array([0.37344871, 0.37341757]), 'x_2': array([0.37074072]), 'x_3': array([0.27642848]), 'x_shared': array([0.43630773, 0.27560325, 0.49427916, 0.37346968, 0.40593033,\n       0.38001693])}, {'x_1': array([0.15567479, 0.15567479]), 'x_2': array([0.15567479]), 'x_3': array([0.02790736]), 'x_shared': array([0.15567479, 0.22115212, 0.35393535, 0.15567479, 0.15567479,\n       0.15567479])}, {'x_1': array([-0.2723266, -0.2723266]), 'x_2': array([-0.2723266]), 'x_3': array([-0.2723266]), 'x_shared': array([-0.2723266 , -0.2723266 ,  0.36138885, -0.2723266 , -0.2723266 ,\n       -0.2723266 ])}], 'y_1': [{'x_1': array([1.39702333, 1.7601833 ]), 'x_2': array([1.38644236]), 'x_3': array([1.29818376]), 'x_shared': array([1.88540586, 0.99931345, 1.11362047, 1.33119305, 2.13959087,\n       1.25530508])}, {'x_1': array([-0.32221698, -0.32221698]), 'x_2': array([-0.32221698]), 'x_3': array([-0.32221698]), 'x_shared': array([ 1.02765459, -0.32221698, -0.32221698,  0.29295912, -0.32221698,\n        1.48147708])}, {'x_1': array([2.14904245, 2.64149302]), 'x_2': array([1.03865101]), 'x_3': array([1.03865101]), 'x_shared': array([ 1.03865101,  1.03865101,  1.03865101, -0.85288882,  1.03865101,\n        2.97117135])}], 'y_11': [{'x_1': array([-0.52854918,  0.2031868 ]), 'x_2': array([-0.54405614]), 'x_3': array([-0.44134369]), 'x_shared': array([-0.63777848, -0.32103443, -1.00368678, -0.30372194,  0.4909986 ,\n        0.34072182])}], 'y_12': [{'x_1': array([1.39702333, 1.7601833 ]), 'x_2': array([1.38644236]), 'x_3': array([1.29818376]), 'x_shared': array([1.88540586, 0.99931345, 1.11362047, 1.33119305, 2.13959087,\n       1.25530508])}, {'x_1': array([2.14904245, 2.64149302]), 'x_2': array([1.03865101]), 'x_3': array([1.03865101]), 'x_shared': array([ 1.03865101,  1.03865101,  1.03865101, -0.85288882,  1.03865101,\n        2.97117135])}], 'y_14': [{'x_1': array([1.39702333, 1.7601833 ]), 'x_2': array([1.38644236]), 'x_3': array([1.29818376]), 'x_shared': array([1.88540586, 0.99931345, 1.11362047, 1.33119305, 2.13959087,\n       1.25530508])}, {'x_1': array([-0.32221698, -0.32221698]), 'x_2': array([-0.32221698]), 'x_3': array([-0.32221698]), 'x_shared': array([ 1.02765459, -0.32221698, -0.32221698,  0.29295912, -0.32221698,\n        1.48147708])}], 'y_2': [{'x_1': array([1.39702628, 1.76018348]), 'x_2': array([1.3864453]), 'x_3': array([1.2981857]), 'x_shared': array([1.88541217, 0.99931574, 1.11362606, 1.3311949 , 2.13959583,\n       1.25530806])}, {'x_1': array([0.33948382, 0.33943319]), 'x_2': array([0.33649526]), 'x_3': array([0.33844346]), 'x_shared': array([0.41305532, 0.21372957, 0.46903264, 0.33950848, 0.38374435,\n       0.34981841])}, {'x_1': array([-0.00570744,  0.11370254]), 'x_2': array([-0.00932724]), 'x_3': array([0.03728088]), 'x_shared': array([-0.0051026 , -0.0272534 ,  0.55710865, -0.01538402, -0.06301126,\n        0.01880815])}], 'y_21': [{'x_1': array([1.39702628, 1.76018348]), 'x_2': array([1.3864453]), 'x_3': array([1.2981857]), 'x_shared': array([1.88541217, 0.99931574, 1.11362606, 1.3311949 , 2.13959583,\n       1.25530806])}], 'y_23': [{'x_1': array([0.33948382, 0.33943319]), 'x_2': array([0.33649526]), 'x_3': array([0.33844346]), 'x_shared': array([0.41305532, 0.21372957, 0.46903264, 0.33950848, 0.38374435,\n       0.34981841])}], 'y_24': [{'x_1': array([-0.00570744,  0.11370254]), 'x_2': array([-0.00932724]), 'x_3': array([0.03728088]), 'x_shared': array([-0.0051026 , -0.0272534 ,  0.55710865, -0.01538402, -0.06301126,\n        0.01880815])}], 'y_3': [{'x_1': array([0.00932773, 0.00932773]), 'x_2': array([0.00932773]), 'x_3': array([-0.00610765]), 'x_shared': array([0.00932773, 0.03243592, 0.42907723, 0.00932773, 0.00932773,\n       0.00932773])}, {'x_1': array([0.37078897, 0.37076038]), 'x_2': array([0.36813537]), 'x_3': array([0.27521916]), 'x_shared': array([0.43259873, 0.27308947, 0.4871585 , 0.37080979, 0.40323311,\n       0.37725532])}, {'x_1': array([0.37344871, 0.37341757]), 'x_2': array([0.37074072]), 'x_3': array([0.27642848]), 'x_shared': array([0.43630773, 0.27560325, 0.49427916, 0.37346968, 0.40593033,\n       0.38001693])}], 'y_31': [{'x_1': array([0.37078897, 0.37076038]), 'x_2': array([0.36813537]), 'x_3': array([0.27521916]), 'x_shared': array([0.43259873, 0.27308947, 0.4871585 , 0.37080979, 0.40323311,\n       0.37725532])}], 'y_32': [{'x_1': array([0.37344871, 0.37341757]), 'x_2': array([0.37074072]), 'x_3': array([0.27642848]), 'x_shared': array([0.43630773, 0.27560325, 0.49427916, 0.37346968, 0.40593033,\n       0.38001693])}], 'y_34': [{'x_1': array([0.00932773, 0.00932773]), 'x_2': array([0.00932773]), 'x_3': array([-0.00610765]), 'x_shared': array([0.00932773, 0.03243592, 0.42907723, 0.00932773, 0.00932773,\n       0.00932773])}], 'y_4': [{'x_1': array([0.13474834, 0.13195322]), 'x_2': array([0.12802588]), 'x_3': array([0.12367789]), 'x_shared': array([0.07868618, 0.27624245, 0.3744171 , 0.17136041, 0.19931191,\n       0.16968404])}]}, second={'g_1': [{'x_1': {'x_1': array([[ 0.        , -1.33012176],\n       [-1.33012176,  0.        ]]), 'x_2': array([[-1.22440811],\n       [-0.26814783]]), 'x_3': array([[-1.22440811],\n       [-0.26814783]]), 'x_shared': array([[-2.49473229, -1.22440811, -1.22440811, -1.12140412, -1.22440811,\n        -1.30955348],\n       [ 1.2598181 , -0.26814783, -0.26814783, -0.27935095, -0.26814783,\n        -0.34571335]])}, 'x_2': {'x_1': array([[-1.22440811, -0.26814783]]), 'x_2': array([[0.]]), 'x_3': array([[-0.05476005]]), 'x_shared': array([[-0.05476005, -0.05476005, -0.05476005, -0.05476005, -0.05476005,\n        -0.05476005]])}, 'x_3': {'x_1': array([[-1.22440811, -0.26814783]]), 'x_2': array([[-0.05476005]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.05476005, -0.05476005, -0.05476005, -0.05476005, -0.05476005,\n        -0.05476005]])}, 'x_shared': {'x_1': array([[-2.49473229,  1.2598181 ],\n       [-1.22440811, -0.26814783],\n       [-1.22440811, -0.26814783],\n       [-1.12140412, -0.27935095],\n       [-1.22440811, -0.26814783],\n       [-1.30955348, -0.34571335]]), 'x_2': array([[-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005]]), 'x_3': array([[-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005],\n       [-0.05476005]]), 'x_shared': array([[ 0.        , -9.43181956, -9.43181956, -8.71601145, -9.43181956,\n        -9.76851244],\n       [-9.43181956,  0.        , -0.05476005, -0.05476005, -0.05476005,\n        -0.05476005],\n       [-9.43181956, -0.05476005,  0.        , -0.05476005, -0.05476005,\n        -0.05476005],\n       [-8.71601145, -0.05476005, -0.05476005,  0.        ,  1.13335547,\n         1.32157824],\n       [-9.43181956, -0.05476005, -0.05476005,  1.13335547,  0.        ,\n        -0.05476005],\n       [-9.76851244, -0.05476005, -0.05476005,  1.32157824, -0.05476005,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.      , -2.030818],\n       [-2.030818,  0.      ]]), 'x_2': array([[-1.92566953],\n       [-1.2777357 ]]), 'x_3': array([[-1.92566953],\n       [-1.2777357 ]]), 'x_shared': array([[-3.02868555, -1.92566953, -1.92566953, -1.79228949, -1.92566953,\n        -2.03486034],\n       [ 0.50399995, -1.2777357 , -1.2777357 , -1.25560654, -1.2777357 ,\n        -1.4343896 ]])}, 'x_2': {'x_1': array([[-1.92566953, -1.2777357 ]]), 'x_2': array([[0.]]), 'x_3': array([[-0.78291844]]), 'x_shared': array([[-0.78291844, -0.78291844, -0.78291844, -0.78291844, -0.78291844,\n        -0.78291844]])}, 'x_3': {'x_1': array([[-1.92566953, -1.2777357 ]]), 'x_2': array([[-0.78291844]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.78291844, -0.78291844, -0.78291844, -0.78291844, -0.78291844,\n        -0.78291844]])}, 'x_shared': {'x_1': array([[-3.02868555,  0.50399995],\n       [-1.92566953, -1.2777357 ],\n       [-1.92566953, -1.2777357 ],\n       [-1.79228949, -1.25560654],\n       [-1.92566953, -1.2777357 ],\n       [-2.03486034, -1.4343896 ]]), 'x_2': array([[-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844]]), 'x_3': array([[-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844],\n       [-0.78291844]]), 'x_shared': array([[ 0.        , -9.54632805, -9.54632805, -8.66167114, -9.54632805,\n        -9.92137233],\n       [-9.54632805,  0.        , -0.78291844, -0.78291844, -0.78291844,\n        -0.78291844],\n       [-9.54632805, -0.78291844,  0.        , -0.78291844, -0.78291844,\n        -0.78291844],\n       [-8.66167114, -0.78291844, -0.78291844,  0.        ,  0.94844799,\n         1.24591169],\n       [-9.54632805, -0.78291844, -0.78291844,  0.94844799,  0.        ,\n        -0.78291844],\n       [-9.92137233, -0.78291844, -0.78291844,  1.24591169, -0.78291844,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -2.29911085],\n       [-2.29911085,  0.        ]]), 'x_2': array([[-2.19538963],\n       [-1.68606696]]), 'x_3': array([[-2.19538963],\n       [-1.68606696]]), 'x_shared': array([[-3.22263164, -2.19538963, -2.19538963, -2.05253321, -2.19538963,\n        -2.31207735],\n       [ 0.17791995, -1.68606696, -1.68606696, -1.64637166, -1.68606696,\n        -1.88088338]])}, 'x_2': {'x_1': array([[-2.19538963, -1.68606696]]), 'x_2': array([[0.]]), 'x_3': array([[-1.07617]]), 'x_shared': array([[-1.07617, -1.07617, -1.07617, -1.07617, -1.07617, -1.07617]])}, 'x_3': {'x_1': array([[-2.19538963, -1.68606696]]), 'x_2': array([[-1.07617]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.07617, -1.07617, -1.07617, -1.07617, -1.07617, -1.07617]])}, 'x_shared': {'x_1': array([[-3.22263164,  0.17791995],\n       [-2.19538963, -1.68606696],\n       [-2.19538963, -1.68606696],\n       [-2.05253321, -1.64637166],\n       [-2.19538963, -1.68606696],\n       [-2.31207735, -1.88088338]]), 'x_2': array([[-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617]]), 'x_3': array([[-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617],\n       [-1.07617]]), 'x_shared': array([[ 0.        , -9.51390592, -9.51390592, -8.57121163, -9.51390592,\n        -9.90197908],\n       [-9.51390592,  0.        , -1.07617   , -1.07617   , -1.07617   ,\n        -1.07617   ],\n       [-9.51390592, -1.07617   ,  0.        , -1.07617   , -1.07617   ,\n        -1.07617   ],\n       [-8.57121163, -1.07617   , -1.07617   ,  0.        ,  0.86589942,\n         1.2118906 ],\n       [-9.51390592, -1.07617   , -1.07617   ,  0.86589942,  0.        ,\n        -1.07617   ],\n       [-9.90197908, -1.07617   , -1.07617   ,  1.2118906 , -1.07617   ,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -2.43806194],\n       [-2.43806194,  0.        ]]), 'x_2': array([[-2.33541269],\n       [-1.90352685]]), 'x_3': array([[-2.33541269],\n       [-1.90352685]]), 'x_shared': array([[-3.32019176e+00, -2.33541269e+00, -2.33541269e+00,\n        -2.18824047e+00, -2.33541269e+00, -2.45551318e+00],\n       [-1.04056535e-03, -1.90352685e+00, -1.90352685e+00,\n        -1.85341379e+00, -1.90352685e+00, -2.12027357e+00]])}, 'x_2': {'x_1': array([[-2.33541269, -1.90352685]]), 'x_2': array([[0.]]), 'x_3': array([[-1.23201689]]), 'x_shared': array([[-1.23201689, -1.23201689, -1.23201689, -1.23201689, -1.23201689,\n        -1.23201689]])}, 'x_3': {'x_1': array([[-2.33541269, -1.90352685]]), 'x_2': array([[-1.23201689]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.23201689, -1.23201689, -1.23201689, -1.23201689, -1.23201689,\n        -1.23201689]])}, 'x_shared': {'x_1': array([[-3.32019176e+00, -1.04056535e-03],\n       [-2.33541269e+00, -1.90352685e+00],\n       [-2.33541269e+00, -1.90352685e+00],\n       [-2.18824047e+00, -1.85341379e+00],\n       [-2.33541269e+00, -1.90352685e+00],\n       [-2.45551318e+00, -2.12027357e+00]]), 'x_2': array([[-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689]]), 'x_3': array([[-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689],\n       [-1.23201689]]), 'x_shared': array([[ 0.        , -9.47615409, -9.47615409, -8.50521945, -9.47615409,\n        -9.87051999],\n       [-9.47615409,  0.        , -1.23201689, -1.23201689, -1.23201689,\n        -1.23201689],\n       [-9.47615409, -1.23201689,  0.        , -1.23201689, -1.23201689,\n        -1.23201689],\n       [-8.50521945, -1.23201689, -1.23201689,  0.        ,  0.81991803,\n         1.19288325],\n       [-9.47615409, -1.23201689, -1.23201689,  0.81991803,  0.        ,\n        -1.23201689],\n       [-9.87051999, -1.23201689, -1.23201689,  1.19288325, -1.23201689,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -2.52249492],\n       [-2.52249492,  0.        ]]), 'x_2': array([[-2.4206247 ],\n       [-2.03795999]]), 'x_3': array([[-2.4206247 ],\n       [-2.03795999]]), 'x_shared': array([[-3.37836655, -2.4206247 , -2.4206247 , -2.27105715, -2.4206247 ,\n        -2.54261867],\n       [-0.11365226, -2.03795999, -2.03795999, -1.98101023, -2.03795999,\n        -2.26886332]])}, 'x_2': {'x_1': array([[-2.4206247 , -2.03795999]]), 'x_2': array([[0.]]), 'x_3': array([[-1.32823927]]), 'x_shared': array([[-1.32823927, -1.32823927, -1.32823927, -1.32823927, -1.32823927,\n        -1.32823927]])}, 'x_3': {'x_1': array([[-2.4206247 , -2.03795999]]), 'x_2': array([[-1.32823927]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.32823927, -1.32823927, -1.32823927, -1.32823927, -1.32823927,\n        -1.32823927]])}, 'x_shared': {'x_1': array([[-3.37836655, -0.11365226],\n       [-2.4206247 , -2.03795999],\n       [-2.4206247 , -2.03795999],\n       [-2.27105715, -1.98101023],\n       [-2.4206247 , -2.03795999],\n       [-2.54261867, -2.26886332]]), 'x_2': array([[-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927]]), 'x_3': array([[-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927],\n       [-1.32823927]]), 'x_shared': array([[ 0.        , -9.44517383, -9.44517383, -8.45777635, -9.44517383,\n        -9.84318894],\n       [-9.44517383,  0.        , -1.32823927, -1.32823927, -1.32823927,\n        -1.32823927],\n       [-9.44517383, -1.32823927,  0.        , -1.32823927, -1.32823927,\n        -1.32823927],\n       [-8.45777635, -1.32823927, -1.32823927,  0.        ,  0.79073906,\n         1.18080126],\n       [-9.44517383, -1.32823927, -1.32823927,  0.79073906,  0.        ,\n        -1.32823927],\n       [-9.84318894, -1.32823927, -1.32823927,  1.18080126, -1.32823927,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -3.68593707],\n       [-3.68593707,  0.        ]]), 'x_2': array([[-3.46975419],\n       [-2.95554582]]), 'x_3': array([[-3.46975419],\n       [-2.95554582]]), 'x_shared': array([[-3.46975419, -3.46975419, -3.46975419, -2.81081562, -3.46975419,\n        -4.01503385],\n       [-2.95554582, -2.95554582, -2.95554582, -2.78524532, -2.95554582,\n        -3.52865329]])}, 'x_2': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[0.]]), 'x_3': array([[-1.88378948]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_3': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[-1.88378948]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_shared': {'x_1': array([[-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-2.81081562, -2.78524532],\n       [-3.46975419, -2.95554582],\n       [-4.01503385, -3.52865329]]), 'x_2': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_3': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_shared': array([[ 0.        , -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948,  0.        , -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948,  0.        , -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  0.        ,  1.53465731,\n         3.27890399],\n       [-1.88378948, -1.88378948, -1.88378948,  1.53465731,  0.        ,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  3.27890399, -1.88378948,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -3.68593707],\n       [-3.68593707,  0.        ]]), 'x_2': array([[-3.46975419],\n       [-2.95554582]]), 'x_3': array([[-3.46975419],\n       [-2.95554582]]), 'x_shared': array([[-3.46975419, -3.46975419, -3.46975419, -2.81081562, -3.46975419,\n        -4.01503385],\n       [-2.95554582, -2.95554582, -2.95554582, -2.78524532, -2.95554582,\n        -3.52865329]])}, 'x_2': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[0.]]), 'x_3': array([[-1.88378948]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_3': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[-1.88378948]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_shared': {'x_1': array([[-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-2.81081562, -2.78524532],\n       [-3.46975419, -2.95554582],\n       [-4.01503385, -3.52865329]]), 'x_2': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_3': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_shared': array([[ 0.        , -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948,  0.        , -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948,  0.        , -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  0.        ,  1.53465731,\n         3.27890399],\n       [-1.88378948, -1.88378948, -1.88378948,  1.53465731,  0.        ,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  3.27890399, -1.88378948,\n         0.        ]])}}], 'g_2': [{'x_1': {'x_1': array([[0.        , 2.67431043],\n       [2.67431043, 0.        ]]), 'x_2': array([[2.67431043],\n       [2.67431043]]), 'x_3': array([[2.67431043],\n       [2.67431043]]), 'x_shared': array([[2.67431043, 2.67431043, 2.67431043, 2.67431043, 2.67431043,\n        2.67431043],\n       [2.67431043, 2.67431043, 2.67431043, 2.67431043, 2.67431043,\n        2.67431043]])}, 'x_2': {'x_1': array([[2.67431043, 2.67431043]]), 'x_2': array([[0.]]), 'x_3': array([[2.67431043]]), 'x_shared': array([[2.67431043, 2.67431043, 2.67431043, 2.67431043, 2.67431043,\n        2.67431043]])}, 'x_3': {'x_1': array([[2.67431043, 2.67431043]]), 'x_2': array([[2.67431043]]), 'x_3': array([[0.]]), 'x_shared': array([[2.67431043, 2.67431043, 2.67431043, 2.67431043, 2.67431043,\n        2.67431043]])}, 'x_shared': {'x_1': array([[2.67431043, 2.67431043],\n       [2.67431043, 2.67431043],\n       [2.67431043, 2.67431043],\n       [2.67431043, 2.67431043],\n       [2.67431043, 2.67431043],\n       [2.67431043, 2.67431043]]), 'x_2': array([[2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043]]), 'x_3': array([[2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043],\n       [2.67431043]]), 'x_shared': array([[ 0.        , -6.21198826, -6.21198826, -6.21198826, -6.21198826,\n        -6.21198826],\n       [-6.21198826,  0.        ,  2.67431043,  2.67431043,  2.67431043,\n         2.67431043],\n       [-6.21198826,  2.67431043,  0.        ,  2.67431043,  2.67431043,\n         2.67431043],\n       [-6.21198826,  2.67431043,  2.67431043,  0.        ,  2.67431043,\n         2.67431043],\n       [-6.21198826,  2.67431043,  2.67431043,  2.67431043,  0.        ,\n         2.67431043],\n       [-6.21198826,  2.67431043,  2.67431043,  2.67431043,  2.67431043,\n         0.        ]])}}], 'g_3': [{'x_1': {'x_1': array([[ 0.        , -0.65446902],\n       [-0.65446902,  0.        ]]), 'x_2': array([[-0.65446943],\n       [-0.6547183 ]]), 'x_3': array([[-0.65447059],\n       [-0.65476368]]), 'x_shared': array([[-0.65446376, -0.65447717, -0.65448766, -0.65446903, -0.65445145,\n        -0.65447479],\n       [-0.65468846, -0.65463623, -0.65450767, -0.6547172 , -0.65475441,\n        -0.65469715]])}, 'x_2': {'x_1': array([[-0.65446943, -0.6547183 ]]), 'x_2': array([[0.]]), 'x_3': array([[-0.65513895]]), 'x_shared': array([[-0.65364071, -0.64957331, -0.65361609, -0.65478425, -0.65281374,\n        -0.65682092]])}, 'x_3': {'x_1': array([[-0.65447059, -0.65476368]]), 'x_2': array([[-0.65513895]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49581736, -0.52825994, -0.44619693, -0.50999028, -0.51956593,\n        -0.49936174]])}, 'x_shared': {'x_1': array([[-0.65446376, -0.65468846],\n       [-0.65447717, -0.65463623],\n       [-0.65448766, -0.65450767],\n       [-0.65446903, -0.6547172 ],\n       [-0.65445145, -0.65475441],\n       [-0.65447479, -0.65469715]]), 'x_2': array([[-0.65364071],\n       [-0.64957331],\n       [-0.65361609],\n       [-0.65478425],\n       [-0.65281374],\n       [-0.65682092]]), 'x_3': array([[-0.49581736],\n       [-0.52825994],\n       [-0.44619693],\n       [-0.50999028],\n       [-0.51956593],\n       [-0.49936174]]), 'x_shared': array([[ 0.        , -0.73961162, -0.76367658, -0.74081939, -0.75542285,\n        -0.73782958],\n       [-0.73961162,  0.        , -0.217186  , -0.0253624 ,  0.02780089,\n         0.0503513 ],\n       [-0.76367658, -0.217186  ,  0.        , -0.54523946, -0.4011258 ,\n        -0.57220677],\n       [-0.74081939, -0.0253624 , -0.54523946,  0.        , -0.65455737,\n        -0.65456072],\n       [-0.75542285,  0.02780089, -0.4011258 , -0.65455737,  0.        ,\n        -0.78337698],\n       [-0.73782958,  0.0503513 , -0.57220677, -0.65456072, -0.78337698,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -0.65446902],\n       [-0.65446902,  0.        ]]), 'x_2': array([[-0.65446943],\n       [-0.6547183 ]]), 'x_3': array([[-0.65447059],\n       [-0.65476368]]), 'x_shared': array([[-0.65446376, -0.65447717, -0.65448766, -0.65446903, -0.65445145,\n        -0.65447479],\n       [-0.65468846, -0.65463623, -0.65450767, -0.6547172 , -0.65475441,\n        -0.65469715]])}, 'x_2': {'x_1': array([[-0.65446943, -0.6547183 ]]), 'x_2': array([[0.]]), 'x_3': array([[-0.65513895]]), 'x_shared': array([[-0.65364071, -0.64957331, -0.65361609, -0.65478425, -0.65281374,\n        -0.65682092]])}, 'x_3': {'x_1': array([[-0.65447059, -0.65476368]]), 'x_2': array([[-0.65513895]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49581736, -0.52825994, -0.44619693, -0.50999028, -0.51956593,\n        -0.49936174]])}, 'x_shared': {'x_1': array([[-0.65446376, -0.65468846],\n       [-0.65447717, -0.65463623],\n       [-0.65448766, -0.65450767],\n       [-0.65446903, -0.6547172 ],\n       [-0.65445145, -0.65475441],\n       [-0.65447479, -0.65469715]]), 'x_2': array([[-0.65364071],\n       [-0.64957331],\n       [-0.65361609],\n       [-0.65478425],\n       [-0.65281374],\n       [-0.65682092]]), 'x_3': array([[-0.49581736],\n       [-0.52825994],\n       [-0.44619693],\n       [-0.50999028],\n       [-0.51956593],\n       [-0.49936174]]), 'x_shared': array([[ 0.        , -0.73961162, -0.76367658, -0.74081939, -0.75542285,\n        -0.73782958],\n       [-0.73961162,  0.        , -0.217186  , -0.0253624 ,  0.02780089,\n         0.0503513 ],\n       [-0.76367658, -0.217186  ,  0.        , -0.54523946, -0.4011258 ,\n        -0.57220677],\n       [-0.74081939, -0.0253624 , -0.54523946,  0.        , -0.65455737,\n        -0.65456072],\n       [-0.75542285,  0.02780089, -0.4011258 , -0.65455737,  0.        ,\n        -0.78337698],\n       [-0.73782958,  0.0503513 , -0.57220677, -0.65456072, -0.78337698,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -0.27575023],\n       [-0.27575023,  0.        ]]), 'x_2': array([[-0.27575023],\n       [-0.27575023]]), 'x_3': array([[-0.27575023],\n       [-0.27575023]]), 'x_shared': array([[-0.27575023, -0.27575023, -0.27575023, -0.27575023, -0.27575023,\n        -0.27575023],\n       [-0.27575023, -0.27575023, -0.27575023, -0.27575023, -0.27575023,\n        -0.27575023]])}, 'x_2': {'x_1': array([[-0.27575023, -0.27575023]]), 'x_2': array([[0.]]), 'x_3': array([[-0.27575023]]), 'x_shared': array([[-0.27575023, -0.27575023, -0.27575023, -0.27575023, -0.27575023,\n        -0.27575023]])}, 'x_3': {'x_1': array([[-0.27575023, -0.27575023]]), 'x_2': array([[-0.27575023]]), 'x_3': array([[0.]]), 'x_shared': array([[ 0.01305851, -0.06785798,  0.15128947,  0.01305851,  0.01305851,\n         0.01305851]])}, 'x_shared': {'x_1': array([[-0.27575023, -0.27575023],\n       [-0.27575023, -0.27575023],\n       [-0.27575023, -0.27575023],\n       [-0.27575023, -0.27575023],\n       [-0.27575023, -0.27575023],\n       [-0.27575023, -0.27575023]]), 'x_2': array([[-0.27575023],\n       [-0.27575023],\n       [-0.27575023],\n       [-0.27575023],\n       [-0.27575023],\n       [-0.27575023]]), 'x_3': array([[ 0.01305851],\n       [-0.06785798],\n       [ 0.15128947],\n       [ 0.01305851],\n       [ 0.01305851],\n       [ 0.01305851]]), 'x_shared': array([[ 0.        , -0.27575023, -0.27575023, -0.27575023, -0.27575023,\n        -0.27575023],\n       [-0.27575023,  0.        ,  0.09096629,  0.24281157,  0.24281157,\n         0.24281157],\n       [-0.27575023,  0.09096629,  0.        , -0.35422855, -0.35422855,\n        -0.35422855],\n       [-0.27575023,  0.24281157, -0.35422855,  0.        , -0.27575023,\n        -0.27575023],\n       [-0.27575023,  0.24281157, -0.35422855, -0.27575023,  0.        ,\n        -0.27575023],\n       [-0.27575023,  0.24281157, -0.35422855, -0.27575023, -0.27575023,\n         0.        ]])}}, {'x_1': {'x_1': array([[0.        , 0.47537351],\n       [0.47537351, 0.        ]]), 'x_2': array([[0.47537351],\n       [0.47537351]]), 'x_3': array([[0.47537351],\n       [0.47537351]]), 'x_shared': array([[0.47537351, 0.47537351, 0.47537351, 0.47537351, 0.47537351,\n        0.47537351],\n       [0.47537351, 0.47537351, 0.47537351, 0.47537351, 0.47537351,\n        0.47537351]])}, 'x_2': {'x_1': array([[0.47537351, 0.47537351]]), 'x_2': array([[0.]]), 'x_3': array([[0.47537351]]), 'x_shared': array([[0.47537351, 0.47537351, 0.47537351, 0.47537351, 0.47537351,\n        0.47537351]])}, 'x_3': {'x_1': array([[0.47537351, 0.47537351]]), 'x_2': array([[0.47537351]]), 'x_3': array([[0.]]), 'x_shared': array([[0.47537351, 0.47537351, 0.47537351, 0.47537351, 0.47537351,\n        0.47537351]])}, 'x_shared': {'x_1': array([[0.47537351, 0.47537351],\n       [0.47537351, 0.47537351],\n       [0.47537351, 0.47537351],\n       [0.47537351, 0.47537351],\n       [0.47537351, 0.47537351],\n       [0.47537351, 0.47537351]]), 'x_2': array([[0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351]]), 'x_3': array([[0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351],\n       [0.47537351]]), 'x_shared': array([[0.        , 0.47537351, 0.47537351, 0.47537351, 0.47537351,\n        0.47537351],\n       [0.47537351, 0.        , 0.47537351, 0.47537351, 0.47537351,\n        0.47537351],\n       [0.47537351, 0.47537351, 0.        , 1.12516626, 1.12516626,\n        1.12516626],\n       [0.47537351, 0.47537351, 1.12516626, 0.        , 0.47537351,\n        0.47537351],\n       [0.47537351, 0.47537351, 1.12516626, 0.47537351, 0.        ,\n        0.47537351],\n       [0.47537351, 0.47537351, 1.12516626, 0.47537351, 0.47537351,\n        0.        ]])}}], 'y_1': [{'x_1': {'x_1': array([[ 0.        , -2.44485171],\n       [-2.44485171,  0.        ]]), 'x_2': array([[-2.44403802],\n       [-3.08539811]]), 'x_3': array([[-2.44396411],\n       [-3.15829258]]), 'x_shared': array([[-2.44622902, -2.4436664 , -2.4426117 , -2.44315718, -2.44861333,\n        -2.44241367],\n       [-2.86119748, -3.00235475, -2.78685628, -3.06868825, -3.21566813,\n        -2.94808741]])}, 'x_2': {'x_1': array([[-2.44403802, -3.08539811]]), 'x_2': array([[0.]]), 'x_3': array([[-2.42929124]]), 'x_shared': array([[-2.42514395, -2.42487638, -2.42796091, -2.43158833, -2.4244911 ,\n        -2.43383928]])}, 'x_3': {'x_1': array([[-2.44396411, -3.15829258]]), 'x_2': array([[-2.42929124]]), 'x_3': array([[0.]]), 'x_shared': array([[-2.2232619 , -2.29489205, -2.23230766, -2.27285613, -2.30135851,\n        -2.25511429]])}, 'x_shared': {'x_1': array([[-2.44622902, -2.86119748],\n       [-2.4436664 , -3.00235475],\n       [-2.4426117 , -2.78685628],\n       [-2.44315718, -3.06868825],\n       [-2.44861333, -3.21566813],\n       [-2.44241367, -2.94808741]]), 'x_2': array([[-2.42514395],\n       [-2.42487638],\n       [-2.42796091],\n       [-2.43158833],\n       [-2.4244911 ],\n       [-2.43383928]]), 'x_3': array([[-2.2232619 ],\n       [-2.29489205],\n       [-2.23230766],\n       [-2.27285613],\n       [-2.30135851],\n       [-2.25511429]]), 'x_shared': array([[ 0.        , -3.1639928 , -3.24177393, -3.13457359, -3.41658759,\n        -3.13926163],\n       [-3.1639928 ,  0.        , -1.83109408, -1.58608777, -1.5754729 ,\n        -1.49682369],\n       [-3.24177393, -1.83109408,  0.        , -2.04574607, -1.72270442,\n        -2.09387172],\n       [-3.13457359, -1.58608777, -2.04574607,  0.        , -2.25573439,\n        -2.51093853],\n       [-3.41658759, -1.5754729 , -1.72270442, -2.25573439,  0.        ,\n        -3.33166046],\n       [-3.13926163, -1.49682369, -2.09387172, -2.51093853, -3.33166046,\n         0.        ]])}}, {'x_1': {'x_1': array([[0.        , 0.50460033],\n       [0.50460033, 0.        ]]), 'x_2': array([[0.50460033],\n       [0.50460033]]), 'x_3': array([[0.50460033],\n       [0.50460033]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033],\n       [0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_2': {'x_1': array([[0.50460033, 0.50460033]]), 'x_2': array([[0.]]), 'x_3': array([[0.50460033]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_3': {'x_1': array([[0.50460033, 0.50460033]]), 'x_2': array([[0.50460033]]), 'x_3': array([[0.]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_shared': {'x_1': array([[0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033]]), 'x_2': array([[0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033]]), 'x_3': array([[0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033]]), 'x_shared': array([[ 0.        , -0.91308686, -0.91308686, -0.59789578, -0.91308686,\n        -0.59862833],\n       [-0.91308686,  0.        ,  0.50460033,  0.50460033,  0.50460033,\n         0.50460033],\n       [-0.91308686,  0.50460033,  0.        ,  0.50460033,  0.50460033,\n         0.50460033],\n       [-0.59789578,  0.50460033,  0.50460033,  0.        ,  0.31013608,\n        -0.62288116],\n       [-0.91308686,  0.50460033,  0.50460033,  0.31013608,  0.        ,\n         0.50460033],\n       [-0.59862833,  0.50460033,  0.50460033, -0.62288116,  0.50460033,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -3.68593707],\n       [-3.68593707,  0.        ]]), 'x_2': array([[-3.46975419],\n       [-2.95554582]]), 'x_3': array([[-3.46975419],\n       [-2.95554582]]), 'x_shared': array([[-3.46975419, -3.46975419, -3.46975419, -2.81081562, -3.46975419,\n        -4.01503385],\n       [-2.95554582, -2.95554582, -2.95554582, -2.78524532, -2.95554582,\n        -3.52865329]])}, 'x_2': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[0.]]), 'x_3': array([[-1.88378948]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_3': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[-1.88378948]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_shared': {'x_1': array([[-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-2.81081562, -2.78524532],\n       [-3.46975419, -2.95554582],\n       [-4.01503385, -3.52865329]]), 'x_2': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_3': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_shared': array([[ 0.        , -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948,  0.        , -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948,  0.        , -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  0.        ,  1.53465731,\n         3.27890399],\n       [-1.88378948, -1.88378948, -1.88378948,  1.53465731,  0.        ,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  3.27890399, -1.88378948,\n         0.        ]])}}], 'y_11': [{'x_1': {'x_1': array([[0.        , 0.90414914],\n       [0.90414914, 0.        ]]), 'x_2': array([[0.90484403],\n       [0.46377225]]), 'x_3': array([[0.90493334],\n       [0.36327016]]), 'x_shared': array([[0.90707841, 0.90521938, 0.90678728, 0.90370255, 0.89734485,\n        0.90167882],\n       [0.26460947, 0.50769629, 0.82943443, 0.44620262, 0.30817302,\n        0.20775504]])}, 'x_2': {'x_1': array([[0.90484403, 0.46377225]]), 'x_2': array([[0.]]), 'x_3': array([[0.91605223]]), 'x_shared': array([[0.91257588, 0.92046001, 0.9166723 , 0.91894708, 0.92488293,\n        0.92378051]])}, 'x_3': {'x_1': array([[0.90493334, 0.36327016]]), 'x_2': array([[0.91605223]]), 'x_3': array([[0.]]), 'x_shared': array([[0.88064536, 0.91322007, 0.99586985, 0.92619958, 0.91124852,\n        0.88953544]])}, 'x_shared': {'x_1': array([[0.90707841, 0.26460947],\n       [0.90521938, 0.50769629],\n       [0.90678728, 0.82943443],\n       [0.90370255, 0.44620262],\n       [0.89734485, 0.30817302],\n       [0.90167882, 0.20775504]]), 'x_2': array([[0.91257588],\n       [0.92046001],\n       [0.9166723 ],\n       [0.91894708],\n       [0.92488293],\n       [0.92378051]]), 'x_3': array([[0.88064536],\n       [0.91322007],\n       [0.99586985],\n       [0.92619958],\n       [0.91124852],\n       [0.88953544]]), 'x_shared': array([[ 0.        ,  1.20235752,  1.30361696,  1.27606465,  1.51345475,\n         1.27517406],\n       [ 1.20235752,  0.        ,  0.99732496,  1.06298972,  1.24940043,\n         0.9031584 ],\n       [ 1.30361696,  0.99732496,  0.        ,  1.26940127,  1.67490638,\n         1.39284984],\n       [ 1.27606465,  1.06298972,  1.26940127,  0.        ,  0.6926428 ,\n         0.69100519],\n       [ 1.51345475,  1.24940043,  1.67490638,  0.6926428 ,  0.        ,\n        -0.48609777],\n       [ 1.27517406,  0.9031584 ,  1.39284984,  0.69100519, -0.48609777,\n         0.        ]])}}], 'y_12': [{'x_1': {'x_1': array([[ 0.        , -2.44485171],\n       [-2.44485171,  0.        ]]), 'x_2': array([[-2.44403802],\n       [-3.08539811]]), 'x_3': array([[-2.44396411],\n       [-3.15829258]]), 'x_shared': array([[-2.44622902, -2.4436664 , -2.4426117 , -2.44315718, -2.44861333,\n        -2.44241367],\n       [-2.86119748, -3.00235475, -2.78685628, -3.06868825, -3.21566813,\n        -2.94808741]])}, 'x_2': {'x_1': array([[-2.44403802, -3.08539811]]), 'x_2': array([[0.]]), 'x_3': array([[-2.42929124]]), 'x_shared': array([[-2.42514395, -2.42487638, -2.42796091, -2.43158833, -2.4244911 ,\n        -2.43383928]])}, 'x_3': {'x_1': array([[-2.44396411, -3.15829258]]), 'x_2': array([[-2.42929124]]), 'x_3': array([[0.]]), 'x_shared': array([[-2.2232619 , -2.29489205, -2.23230766, -2.27285613, -2.30135851,\n        -2.25511429]])}, 'x_shared': {'x_1': array([[-2.44622902, -2.86119748],\n       [-2.4436664 , -3.00235475],\n       [-2.4426117 , -2.78685628],\n       [-2.44315718, -3.06868825],\n       [-2.44861333, -3.21566813],\n       [-2.44241367, -2.94808741]]), 'x_2': array([[-2.42514395],\n       [-2.42487638],\n       [-2.42796091],\n       [-2.43158833],\n       [-2.4244911 ],\n       [-2.43383928]]), 'x_3': array([[-2.2232619 ],\n       [-2.29489205],\n       [-2.23230766],\n       [-2.27285613],\n       [-2.30135851],\n       [-2.25511429]]), 'x_shared': array([[ 0.        , -3.1639928 , -3.24177393, -3.13457359, -3.41658759,\n        -3.13926163],\n       [-3.1639928 ,  0.        , -1.83109408, -1.58608777, -1.5754729 ,\n        -1.49682369],\n       [-3.24177393, -1.83109408,  0.        , -2.04574607, -1.72270442,\n        -2.09387172],\n       [-3.13457359, -1.58608777, -2.04574607,  0.        , -2.25573439,\n        -2.51093853],\n       [-3.41658759, -1.5754729 , -1.72270442, -2.25573439,  0.        ,\n        -3.33166046],\n       [-3.13926163, -1.49682369, -2.09387172, -2.51093853, -3.33166046,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -3.68593707],\n       [-3.68593707,  0.        ]]), 'x_2': array([[-3.46975419],\n       [-2.95554582]]), 'x_3': array([[-3.46975419],\n       [-2.95554582]]), 'x_shared': array([[-3.46975419, -3.46975419, -3.46975419, -2.81081562, -3.46975419,\n        -4.01503385],\n       [-2.95554582, -2.95554582, -2.95554582, -2.78524532, -2.95554582,\n        -3.52865329]])}, 'x_2': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[0.]]), 'x_3': array([[-1.88378948]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_3': {'x_1': array([[-3.46975419, -2.95554582]]), 'x_2': array([[-1.88378948]]), 'x_3': array([[0.]]), 'x_shared': array([[-1.88378948, -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948]])}, 'x_shared': {'x_1': array([[-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-3.46975419, -2.95554582],\n       [-2.81081562, -2.78524532],\n       [-3.46975419, -2.95554582],\n       [-4.01503385, -3.52865329]]), 'x_2': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_3': array([[-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948],\n       [-1.88378948]]), 'x_shared': array([[ 0.        , -1.88378948, -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948,  0.        , -1.88378948, -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948,  0.        , -1.88378948, -1.88378948,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  0.        ,  1.53465731,\n         3.27890399],\n       [-1.88378948, -1.88378948, -1.88378948,  1.53465731,  0.        ,\n        -1.88378948],\n       [-1.88378948, -1.88378948, -1.88378948,  3.27890399, -1.88378948,\n         0.        ]])}}], 'y_14': [{'x_1': {'x_1': array([[ 0.        , -2.44485171],\n       [-2.44485171,  0.        ]]), 'x_2': array([[-2.44403802],\n       [-3.08539811]]), 'x_3': array([[-2.44396411],\n       [-3.15829258]]), 'x_shared': array([[-2.44622902, -2.4436664 , -2.4426117 , -2.44315718, -2.44861333,\n        -2.44241367],\n       [-2.86119748, -3.00235475, -2.78685628, -3.06868825, -3.21566813,\n        -2.94808741]])}, 'x_2': {'x_1': array([[-2.44403802, -3.08539811]]), 'x_2': array([[0.]]), 'x_3': array([[-2.42929124]]), 'x_shared': array([[-2.42514395, -2.42487638, -2.42796091, -2.43158833, -2.4244911 ,\n        -2.43383928]])}, 'x_3': {'x_1': array([[-2.44396411, -3.15829258]]), 'x_2': array([[-2.42929124]]), 'x_3': array([[0.]]), 'x_shared': array([[-2.2232619 , -2.29489205, -2.23230766, -2.27285613, -2.30135851,\n        -2.25511429]])}, 'x_shared': {'x_1': array([[-2.44622902, -2.86119748],\n       [-2.4436664 , -3.00235475],\n       [-2.4426117 , -2.78685628],\n       [-2.44315718, -3.06868825],\n       [-2.44861333, -3.21566813],\n       [-2.44241367, -2.94808741]]), 'x_2': array([[-2.42514395],\n       [-2.42487638],\n       [-2.42796091],\n       [-2.43158833],\n       [-2.4244911 ],\n       [-2.43383928]]), 'x_3': array([[-2.2232619 ],\n       [-2.29489205],\n       [-2.23230766],\n       [-2.27285613],\n       [-2.30135851],\n       [-2.25511429]]), 'x_shared': array([[ 0.        , -3.1639928 , -3.24177393, -3.13457359, -3.41658759,\n        -3.13926163],\n       [-3.1639928 ,  0.        , -1.83109408, -1.58608777, -1.5754729 ,\n        -1.49682369],\n       [-3.24177393, -1.83109408,  0.        , -2.04574607, -1.72270442,\n        -2.09387172],\n       [-3.13457359, -1.58608777, -2.04574607,  0.        , -2.25573439,\n        -2.51093853],\n       [-3.41658759, -1.5754729 , -1.72270442, -2.25573439,  0.        ,\n        -3.33166046],\n       [-3.13926163, -1.49682369, -2.09387172, -2.51093853, -3.33166046,\n         0.        ]])}}, {'x_1': {'x_1': array([[0.        , 0.50460033],\n       [0.50460033, 0.        ]]), 'x_2': array([[0.50460033],\n       [0.50460033]]), 'x_3': array([[0.50460033],\n       [0.50460033]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033],\n       [0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_2': {'x_1': array([[0.50460033, 0.50460033]]), 'x_2': array([[0.]]), 'x_3': array([[0.50460033]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_3': {'x_1': array([[0.50460033, 0.50460033]]), 'x_2': array([[0.50460033]]), 'x_3': array([[0.]]), 'x_shared': array([[0.50460033, 0.50460033, 0.50460033, 0.50460033, 0.50460033,\n        0.50460033]])}, 'x_shared': {'x_1': array([[0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033],\n       [0.50460033, 0.50460033]]), 'x_2': array([[0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033]]), 'x_3': array([[0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033],\n       [0.50460033]]), 'x_shared': array([[ 0.        , -0.91308686, -0.91308686, -0.59789578, -0.91308686,\n        -0.59862833],\n       [-0.91308686,  0.        ,  0.50460033,  0.50460033,  0.50460033,\n         0.50460033],\n       [-0.91308686,  0.50460033,  0.        ,  0.50460033,  0.50460033,\n         0.50460033],\n       [-0.59789578,  0.50460033,  0.50460033,  0.        ,  0.31013608,\n        -0.62288116],\n       [-0.91308686,  0.50460033,  0.50460033,  0.31013608,  0.        ,\n         0.50460033],\n       [-0.59862833,  0.50460033,  0.50460033, -0.62288116,  0.50460033,\n         0.        ]])}}], 'y_2': [{'x_1': {'x_1': array([[ 0.        , -2.44485696],\n       [-2.44485696,  0.        ]]), 'x_2': array([[-2.44404327],\n       [-3.08540115]]), 'x_3': array([[-2.44396937],\n       [-3.15829639]]), 'x_shared': array([[-2.44623436, -2.44367166, -2.44261691, -2.44316239, -2.44861876,\n        -2.44241886],\n       [-2.86120088, -3.00235869, -2.78686209, -3.06869215, -3.21567059,\n        -2.94809138]])}, 'x_2': {'x_1': array([[-2.44404327, -3.08540115]]), 'x_2': array([[0.]]), 'x_3': array([[-2.42929697]]), 'x_shared': array([[-2.42515024, -2.42488221, -2.42796636, -2.43159383, -2.42449795,\n        -2.43384457]])}, 'x_3': {'x_1': array([[-2.44396937, -3.15829639]]), 'x_2': array([[-2.42929697]]), 'x_3': array([[0.]]), 'x_shared': array([[-2.22326733, -2.29489588, -2.23231151, -2.27286145, -2.30136545,\n        -2.25511979]])}, 'x_shared': {'x_1': array([[-2.44623436, -2.86120088],\n       [-2.44367166, -3.00235869],\n       [-2.44261691, -2.78686209],\n       [-2.44316239, -3.06869215],\n       [-2.44861876, -3.21567059],\n       [-2.44241886, -2.94809138]]), 'x_2': array([[-2.42515024],\n       [-2.42488221],\n       [-2.42796636],\n       [-2.43159383],\n       [-2.42449795],\n       [-2.43384457]]), 'x_3': array([[-2.22326733],\n       [-2.29489588],\n       [-2.23231151],\n       [-2.27286145],\n       [-2.30136545],\n       [-2.25511979]]), 'x_shared': array([[ 0.        , -3.16400123, -3.24178415, -3.13458404, -3.41660166,\n        -3.13927321],\n       [-3.16400123,  0.        , -1.83110364, -1.58609702, -1.57548624,\n        -1.49683451],\n       [-3.24178415, -1.83110364,  0.        , -2.04575841, -1.72272189,\n        -2.09388651],\n       [-3.13458404, -1.58609702, -2.04575841,  0.        , -2.25574536,\n        -2.51094519],\n       [-3.41660166, -1.57548624, -1.72272189, -2.25574536,  0.        ,\n        -3.33166901],\n       [-3.13927321, -1.49683451, -2.09388651, -2.51094519, -3.33166901,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -0.59639476],\n       [-0.59639476,  0.        ]]), 'x_2': array([[-0.59639518],\n       [-0.59668333]]), 'x_3': array([[-0.59639482],\n       [-0.5966817 ]]), 'x_shared': array([[-0.59638939, -0.59640338, -0.59641395, -0.59639477, -0.59637678,\n        -0.59640062],\n       [-0.59665062, -0.59659979, -0.59645524, -0.59668216, -0.59672259,\n        -0.59665956]])}, 'x_2': {'x_1': array([[-0.59639518, -0.59668333]]), 'x_2': array([[0.]]), 'x_3': array([[-0.5967372]]), 'x_shared': array([[-0.59557345, -0.59135745, -0.59550887, -0.5967442 , -0.59474013,\n        -0.59883396]])}, 'x_3': {'x_1': array([[-0.59639482, -0.5966817 ]]), 'x_2': array([[-0.5967372]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.59555047, -0.59397057, -0.59444432, -0.59565703, -0.59600821,\n        -0.59609727]])}, 'x_shared': {'x_1': array([[-0.59638939, -0.59665062],\n       [-0.59640338, -0.59659979],\n       [-0.59641395, -0.59645524],\n       [-0.59639477, -0.59668216],\n       [-0.59637678, -0.59672259],\n       [-0.59640062, -0.59665956]]), 'x_2': array([[-0.59557345],\n       [-0.59135745],\n       [-0.59550887],\n       [-0.5967442 ],\n       [-0.59474013],\n       [-0.59883396]]), 'x_3': array([[-0.59555047],\n       [-0.59397057],\n       [-0.59444432],\n       [-0.59565703],\n       [-0.59600821],\n       [-0.59609727]]), 'x_shared': array([[ 0.        , -0.67987884, -0.70839309, -0.68226504, -0.69665084,\n        -0.67987417],\n       [-0.67987884,  0.        , -0.11655273,  0.07798152,  0.13203774,\n         0.1575433 ],\n       [-0.70839309, -0.11655273,  0.        , -0.39587655, -0.24545434,\n        -0.42665416],\n       [-0.68226504,  0.07798152, -0.39587655,  0.        , -0.59648772,\n        -0.59649148],\n       [-0.69665084,  0.13203774, -0.24545434, -0.59648772,  0.        ,\n        -0.76536914],\n       [-0.67987417,  0.1575433 , -0.42665416, -0.59649148, -0.76536914,\n         0.        ]])}}, {'x_1': {'x_1': array([[0.        , 0.00830552],\n       [0.00830552, 0.        ]]), 'x_2': array([[0.0083529 ],\n       [0.03064471]]), 'x_3': array([[0.00839807],\n       [0.01713854]]), 'x_shared': array([[ 0.00843538,  0.00823691,  0.00754317,  0.00854628,  0.00902024,\n         0.00819458],\n       [ 0.03092797,  0.05231111, -0.16007365,  0.03689895,  0.04683525,\n         0.01248904]])}, 'x_2': {'x_1': array([[0.0083529 , 0.03064471]]), 'x_2': array([[0.]]), 'x_3': array([[0.00688666]]), 'x_shared': array([[0.00706045, 0.01284031, 0.00667439, 0.00817778, 0.00945568,\n        0.0049891 ]])}, 'x_3': {'x_1': array([[0.00839807, 0.01713854]]), 'x_2': array([[0.00688666]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.03740817, -0.02333909, -0.07776429, -0.03563398, -0.03464748,\n        -0.04125889]])}, 'x_shared': {'x_1': array([[ 0.00843538,  0.03092797],\n       [ 0.00823691,  0.05231111],\n       [ 0.00754317, -0.16007365],\n       [ 0.00854628,  0.03689895],\n       [ 0.00902024,  0.04683525],\n       [ 0.00819458,  0.01248904]]), 'x_2': array([[0.00706045],\n       [0.01284031],\n       [0.00667439],\n       [0.00817778],\n       [0.00945568],\n       [0.0049891 ]]), 'x_3': array([[-0.03740817],\n       [-0.02333909],\n       [-0.07776429],\n       [-0.03563398],\n       [-0.03464748],\n       [-0.04125889]]), 'x_shared': array([[ 0.        ,  0.01765723, -0.01112965,  0.01897911,  0.02578004,\n         0.01309436],\n       [ 0.01765723,  0.        ,  0.53426597,  0.58521304,  0.6727104 ,\n         0.69904114],\n       [-0.01112965,  0.53426597,  0.        , -0.08595813,  0.06208561,\n        -0.15926839],\n       [ 0.01897911,  0.58521304, -0.08595813,  0.        ,  0.02356198,\n         0.05499389],\n       [ 0.02578004,  0.6727104 ,  0.06208561,  0.02356198,  0.        ,\n        -0.0268144 ],\n       [ 0.01309436,  0.69904114, -0.15926839,  0.05499389, -0.0268144 ,\n         0.        ]])}}], 'y_21': [{'x_1': {'x_1': array([[ 0.        , -2.44485696],\n       [-2.44485696,  0.        ]]), 'x_2': array([[-2.44404327],\n       [-3.08540115]]), 'x_3': array([[-2.44396937],\n       [-3.15829639]]), 'x_shared': array([[-2.44623436, -2.44367166, -2.44261691, -2.44316239, -2.44861876,\n        -2.44241886],\n       [-2.86120088, -3.00235869, -2.78686209, -3.06869215, -3.21567059,\n        -2.94809138]])}, 'x_2': {'x_1': array([[-2.44404327, -3.08540115]]), 'x_2': array([[0.]]), 'x_3': array([[-2.42929697]]), 'x_shared': array([[-2.42515024, -2.42488221, -2.42796636, -2.43159383, -2.42449795,\n        -2.43384457]])}, 'x_3': {'x_1': array([[-2.44396937, -3.15829639]]), 'x_2': array([[-2.42929697]]), 'x_3': array([[0.]]), 'x_shared': array([[-2.22326733, -2.29489588, -2.23231151, -2.27286145, -2.30136545,\n        -2.25511979]])}, 'x_shared': {'x_1': array([[-2.44623436, -2.86120088],\n       [-2.44367166, -3.00235869],\n       [-2.44261691, -2.78686209],\n       [-2.44316239, -3.06869215],\n       [-2.44861876, -3.21567059],\n       [-2.44241886, -2.94809138]]), 'x_2': array([[-2.42515024],\n       [-2.42488221],\n       [-2.42796636],\n       [-2.43159383],\n       [-2.42449795],\n       [-2.43384457]]), 'x_3': array([[-2.22326733],\n       [-2.29489588],\n       [-2.23231151],\n       [-2.27286145],\n       [-2.30136545],\n       [-2.25511979]]), 'x_shared': array([[ 0.        , -3.16400123, -3.24178415, -3.13458404, -3.41660166,\n        -3.13927321],\n       [-3.16400123,  0.        , -1.83110364, -1.58609702, -1.57548624,\n        -1.49683451],\n       [-3.24178415, -1.83110364,  0.        , -2.04575841, -1.72272189,\n        -2.09388651],\n       [-3.13458404, -1.58609702, -2.04575841,  0.        , -2.25574536,\n        -2.51094519],\n       [-3.41660166, -1.57548624, -1.72272189, -2.25574536,  0.        ,\n        -3.33166901],\n       [-3.13927321, -1.49683451, -2.09388651, -2.51094519, -3.33166901,\n         0.        ]])}}], 'y_23': [{'x_1': {'x_1': array([[ 0.        , -0.59639476],\n       [-0.59639476,  0.        ]]), 'x_2': array([[-0.59639518],\n       [-0.59668333]]), 'x_3': array([[-0.59639482],\n       [-0.5966817 ]]), 'x_shared': array([[-0.59638939, -0.59640338, -0.59641395, -0.59639477, -0.59637678,\n        -0.59640062],\n       [-0.59665062, -0.59659979, -0.59645524, -0.59668216, -0.59672259,\n        -0.59665956]])}, 'x_2': {'x_1': array([[-0.59639518, -0.59668333]]), 'x_2': array([[0.]]), 'x_3': array([[-0.5967372]]), 'x_shared': array([[-0.59557345, -0.59135745, -0.59550887, -0.5967442 , -0.59474013,\n        -0.59883396]])}, 'x_3': {'x_1': array([[-0.59639482, -0.5966817 ]]), 'x_2': array([[-0.5967372]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.59555047, -0.59397057, -0.59444432, -0.59565703, -0.59600821,\n        -0.59609727]])}, 'x_shared': {'x_1': array([[-0.59638939, -0.59665062],\n       [-0.59640338, -0.59659979],\n       [-0.59641395, -0.59645524],\n       [-0.59639477, -0.59668216],\n       [-0.59637678, -0.59672259],\n       [-0.59640062, -0.59665956]]), 'x_2': array([[-0.59557345],\n       [-0.59135745],\n       [-0.59550887],\n       [-0.5967442 ],\n       [-0.59474013],\n       [-0.59883396]]), 'x_3': array([[-0.59555047],\n       [-0.59397057],\n       [-0.59444432],\n       [-0.59565703],\n       [-0.59600821],\n       [-0.59609727]]), 'x_shared': array([[ 0.        , -0.67987884, -0.70839309, -0.68226504, -0.69665084,\n        -0.67987417],\n       [-0.67987884,  0.        , -0.11655273,  0.07798152,  0.13203774,\n         0.1575433 ],\n       [-0.70839309, -0.11655273,  0.        , -0.39587655, -0.24545434,\n        -0.42665416],\n       [-0.68226504,  0.07798152, -0.39587655,  0.        , -0.59648772,\n        -0.59649148],\n       [-0.69665084,  0.13203774, -0.24545434, -0.59648772,  0.        ,\n        -0.76536914],\n       [-0.67987417,  0.1575433 , -0.42665416, -0.59649148, -0.76536914,\n         0.        ]])}}], 'y_24': [{'x_1': {'x_1': array([[0.        , 0.00830552],\n       [0.00830552, 0.        ]]), 'x_2': array([[0.0083529 ],\n       [0.03064471]]), 'x_3': array([[0.00839807],\n       [0.01713854]]), 'x_shared': array([[ 0.00843538,  0.00823691,  0.00754317,  0.00854628,  0.00902024,\n         0.00819458],\n       [ 0.03092797,  0.05231111, -0.16007365,  0.03689895,  0.04683525,\n         0.01248904]])}, 'x_2': {'x_1': array([[0.0083529 , 0.03064471]]), 'x_2': array([[0.]]), 'x_3': array([[0.00688666]]), 'x_shared': array([[0.00706045, 0.01284031, 0.00667439, 0.00817778, 0.00945568,\n        0.0049891 ]])}, 'x_3': {'x_1': array([[0.00839807, 0.01713854]]), 'x_2': array([[0.00688666]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.03740817, -0.02333909, -0.07776429, -0.03563398, -0.03464748,\n        -0.04125889]])}, 'x_shared': {'x_1': array([[ 0.00843538,  0.03092797],\n       [ 0.00823691,  0.05231111],\n       [ 0.00754317, -0.16007365],\n       [ 0.00854628,  0.03689895],\n       [ 0.00902024,  0.04683525],\n       [ 0.00819458,  0.01248904]]), 'x_2': array([[0.00706045],\n       [0.01284031],\n       [0.00667439],\n       [0.00817778],\n       [0.00945568],\n       [0.0049891 ]]), 'x_3': array([[-0.03740817],\n       [-0.02333909],\n       [-0.07776429],\n       [-0.03563398],\n       [-0.03464748],\n       [-0.04125889]]), 'x_shared': array([[ 0.        ,  0.01765723, -0.01112965,  0.01897911,  0.02578004,\n         0.01309436],\n       [ 0.01765723,  0.        ,  0.53426597,  0.58521304,  0.6727104 ,\n         0.69904114],\n       [-0.01112965,  0.53426597,  0.        , -0.08595813,  0.06208561,\n        -0.15926839],\n       [ 0.01897911,  0.58521304, -0.08595813,  0.        ,  0.02356198,\n         0.05499389],\n       [ 0.02578004,  0.6727104 ,  0.06208561,  0.02356198,  0.        ,\n        -0.0268144 ],\n       [ 0.01309436,  0.69904114, -0.15926839,  0.05499389, -0.0268144 ,\n         0.        ]])}}], 'y_3': [{'x_1': {'x_1': array([[ 0.        , -0.01704647],\n       [-0.01704647,  0.        ]]), 'x_2': array([[-0.01704647],\n       [-0.01704647]]), 'x_3': array([[-0.01704647],\n       [-0.01704647]]), 'x_shared': array([[-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647],\n       [-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647]])}, 'x_2': {'x_1': array([[-0.01704647, -0.01704647]]), 'x_2': array([[0.]]), 'x_3': array([[-0.01704647]]), 'x_shared': array([[-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647]])}, 'x_3': {'x_1': array([[-0.01704647, -0.01704647]]), 'x_2': array([[-0.01704647]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.0015891 , -0.00386702,  0.01505761, -0.0015891 , -0.0015891 ,\n        -0.0015891 ]])}, 'x_shared': {'x_1': array([[-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647]]), 'x_2': array([[-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647]]), 'x_3': array([[-0.0015891 ],\n       [-0.00386702],\n       [ 0.01505761],\n       [-0.0015891 ],\n       [-0.0015891 ],\n       [-0.0015891 ]]), 'x_shared': array([[ 0.        , -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647],\n       [-0.01704647,  0.        ,  0.30256195,  0.41417593,  0.41417593,\n         0.41417593],\n       [-0.01704647,  0.30256195,  0.        ,  0.10449216,  0.10449216,\n         0.10449216],\n       [-0.01704647,  0.41417593,  0.10449216,  0.        , -0.01704647,\n        -0.01704647],\n       [-0.01704647,  0.41417593,  0.10449216, -0.01704647,  0.        ,\n        -0.01704647],\n       [-0.01704647,  0.41417593,  0.10449216, -0.01704647, -0.01704647,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -0.64983475],\n       [-0.64983475,  0.        ]]), 'x_2': array([[-0.64983515],\n       [-0.65008795]]), 'x_3': array([[-0.6498363 ],\n       [-0.65013203]]), 'x_shared': array([[-0.64982961, -0.64984294, -0.64985322, -0.64983476, -0.64981755,\n        -0.6498404 ],\n       [-0.65005867, -0.65000333, -0.6498799 , -0.65008683, -0.65012373,\n        -0.65006783]])}, 'x_2': {'x_1': array([[-0.64983515, -0.65008795]]), 'x_2': array([[0.]]), 'x_3': array([[-0.6505736]]), 'x_shared': array([[-0.64910071, -0.64502447, -0.64902736, -0.65022444, -0.64831295,\n        -0.6522342 ]])}, 'x_3': {'x_1': array([[-0.6498363 , -0.65013203]]), 'x_2': array([[-0.6505736]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49387276, -0.52528335, -0.44574003, -0.50767112, -0.51701136,\n        -0.49740547]])}, 'x_shared': {'x_1': array([[-0.64982961, -0.65005867],\n       [-0.64984294, -0.65000333],\n       [-0.64985322, -0.6498799 ],\n       [-0.64983476, -0.65008683],\n       [-0.64981755, -0.65012373],\n       [-0.6498404 , -0.65006783]]), 'x_2': array([[-0.64910071],\n       [-0.64502447],\n       [-0.64902736],\n       [-0.65022444],\n       [-0.64831295],\n       [-0.6522342 ]]), 'x_3': array([[-0.49387276],\n       [-0.52528335],\n       [-0.44574003],\n       [-0.50767112],\n       [-0.51701136],\n       [-0.49740547]]), 'x_shared': array([[ 0.        , -0.73375112, -0.75683497, -0.73458662, -0.74883583,\n        -0.73155155],\n       [-0.73375112,  0.        , -0.21466883, -0.02126292,  0.031749  ,\n         0.05359174],\n       [-0.75683497, -0.21466883,  0.        , -0.53507177, -0.39365149,\n        -0.56084951],\n       [-0.73458662, -0.02126292, -0.53507177,  0.        , -0.64992269,\n        -0.64992595],\n       [-0.74883583,  0.031749  , -0.39365149, -0.64992269,  0.        ,\n        -0.7790996 ],\n       [-0.73155155,  0.05359174, -0.56084951, -0.64992595, -0.7790996 ,\n         0.        ]])}}, {'x_1': {'x_1': array([[ 0.        , -0.65446902],\n       [-0.65446902,  0.        ]]), 'x_2': array([[-0.65446943],\n       [-0.6547183 ]]), 'x_3': array([[-0.65447059],\n       [-0.65476368]]), 'x_shared': array([[-0.65446376, -0.65447717, -0.65448766, -0.65446903, -0.65445145,\n        -0.65447479],\n       [-0.65468846, -0.65463623, -0.65450767, -0.6547172 , -0.65475441,\n        -0.65469715]])}, 'x_2': {'x_1': array([[-0.65446943, -0.6547183 ]]), 'x_2': array([[0.]]), 'x_3': array([[-0.65513895]]), 'x_shared': array([[-0.65364071, -0.64957331, -0.65361609, -0.65478425, -0.65281374,\n        -0.65682092]])}, 'x_3': {'x_1': array([[-0.65447059, -0.65476368]]), 'x_2': array([[-0.65513895]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49581736, -0.52825994, -0.44619693, -0.50999028, -0.51956593,\n        -0.49936174]])}, 'x_shared': {'x_1': array([[-0.65446376, -0.65468846],\n       [-0.65447717, -0.65463623],\n       [-0.65448766, -0.65450767],\n       [-0.65446903, -0.6547172 ],\n       [-0.65445145, -0.65475441],\n       [-0.65447479, -0.65469715]]), 'x_2': array([[-0.65364071],\n       [-0.64957331],\n       [-0.65361609],\n       [-0.65478425],\n       [-0.65281374],\n       [-0.65682092]]), 'x_3': array([[-0.49581736],\n       [-0.52825994],\n       [-0.44619693],\n       [-0.50999028],\n       [-0.51956593],\n       [-0.49936174]]), 'x_shared': array([[ 0.        , -0.73961162, -0.76367658, -0.74081939, -0.75542285,\n        -0.73782958],\n       [-0.73961162,  0.        , -0.217186  , -0.0253624 ,  0.02780089,\n         0.0503513 ],\n       [-0.76367658, -0.217186  ,  0.        , -0.54523946, -0.4011258 ,\n        -0.57220677],\n       [-0.74081939, -0.0253624 , -0.54523946,  0.        , -0.65455737,\n        -0.65456072],\n       [-0.75542285,  0.02780089, -0.4011258 , -0.65455737,  0.        ,\n        -0.78337698],\n       [-0.73782958,  0.0503513 , -0.57220677, -0.65456072, -0.78337698,\n         0.        ]])}}], 'y_31': [{'x_1': {'x_1': array([[ 0.        , -0.64983475],\n       [-0.64983475,  0.        ]]), 'x_2': array([[-0.64983515],\n       [-0.65008795]]), 'x_3': array([[-0.6498363 ],\n       [-0.65013203]]), 'x_shared': array([[-0.64982961, -0.64984294, -0.64985322, -0.64983476, -0.64981755,\n        -0.6498404 ],\n       [-0.65005867, -0.65000333, -0.6498799 , -0.65008683, -0.65012373,\n        -0.65006783]])}, 'x_2': {'x_1': array([[-0.64983515, -0.65008795]]), 'x_2': array([[0.]]), 'x_3': array([[-0.6505736]]), 'x_shared': array([[-0.64910071, -0.64502447, -0.64902736, -0.65022444, -0.64831295,\n        -0.6522342 ]])}, 'x_3': {'x_1': array([[-0.6498363 , -0.65013203]]), 'x_2': array([[-0.6505736]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49387276, -0.52528335, -0.44574003, -0.50767112, -0.51701136,\n        -0.49740547]])}, 'x_shared': {'x_1': array([[-0.64982961, -0.65005867],\n       [-0.64984294, -0.65000333],\n       [-0.64985322, -0.6498799 ],\n       [-0.64983476, -0.65008683],\n       [-0.64981755, -0.65012373],\n       [-0.6498404 , -0.65006783]]), 'x_2': array([[-0.64910071],\n       [-0.64502447],\n       [-0.64902736],\n       [-0.65022444],\n       [-0.64831295],\n       [-0.6522342 ]]), 'x_3': array([[-0.49387276],\n       [-0.52528335],\n       [-0.44574003],\n       [-0.50767112],\n       [-0.51701136],\n       [-0.49740547]]), 'x_shared': array([[ 0.        , -0.73375112, -0.75683497, -0.73458662, -0.74883583,\n        -0.73155155],\n       [-0.73375112,  0.        , -0.21466883, -0.02126292,  0.031749  ,\n         0.05359174],\n       [-0.75683497, -0.21466883,  0.        , -0.53507177, -0.39365149,\n        -0.56084951],\n       [-0.73458662, -0.02126292, -0.53507177,  0.        , -0.64992269,\n        -0.64992595],\n       [-0.74883583,  0.031749  , -0.39365149, -0.64992269,  0.        ,\n        -0.7790996 ],\n       [-0.73155155,  0.05359174, -0.56084951, -0.64992595, -0.7790996 ,\n         0.        ]])}}], 'y_32': [{'x_1': {'x_1': array([[ 0.        , -0.65446902],\n       [-0.65446902,  0.        ]]), 'x_2': array([[-0.65446943],\n       [-0.6547183 ]]), 'x_3': array([[-0.65447059],\n       [-0.65476368]]), 'x_shared': array([[-0.65446376, -0.65447717, -0.65448766, -0.65446903, -0.65445145,\n        -0.65447479],\n       [-0.65468846, -0.65463623, -0.65450767, -0.6547172 , -0.65475441,\n        -0.65469715]])}, 'x_2': {'x_1': array([[-0.65446943, -0.6547183 ]]), 'x_2': array([[0.]]), 'x_3': array([[-0.65513895]]), 'x_shared': array([[-0.65364071, -0.64957331, -0.65361609, -0.65478425, -0.65281374,\n        -0.65682092]])}, 'x_3': {'x_1': array([[-0.65447059, -0.65476368]]), 'x_2': array([[-0.65513895]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.49581736, -0.52825994, -0.44619693, -0.50999028, -0.51956593,\n        -0.49936174]])}, 'x_shared': {'x_1': array([[-0.65446376, -0.65468846],\n       [-0.65447717, -0.65463623],\n       [-0.65448766, -0.65450767],\n       [-0.65446903, -0.6547172 ],\n       [-0.65445145, -0.65475441],\n       [-0.65447479, -0.65469715]]), 'x_2': array([[-0.65364071],\n       [-0.64957331],\n       [-0.65361609],\n       [-0.65478425],\n       [-0.65281374],\n       [-0.65682092]]), 'x_3': array([[-0.49581736],\n       [-0.52825994],\n       [-0.44619693],\n       [-0.50999028],\n       [-0.51956593],\n       [-0.49936174]]), 'x_shared': array([[ 0.        , -0.73961162, -0.76367658, -0.74081939, -0.75542285,\n        -0.73782958],\n       [-0.73961162,  0.        , -0.217186  , -0.0253624 ,  0.02780089,\n         0.0503513 ],\n       [-0.76367658, -0.217186  ,  0.        , -0.54523946, -0.4011258 ,\n        -0.57220677],\n       [-0.74081939, -0.0253624 , -0.54523946,  0.        , -0.65455737,\n        -0.65456072],\n       [-0.75542285,  0.02780089, -0.4011258 , -0.65455737,  0.        ,\n        -0.78337698],\n       [-0.73782958,  0.0503513 , -0.57220677, -0.65456072, -0.78337698,\n         0.        ]])}}], 'y_34': [{'x_1': {'x_1': array([[ 0.        , -0.01704647],\n       [-0.01704647,  0.        ]]), 'x_2': array([[-0.01704647],\n       [-0.01704647]]), 'x_3': array([[-0.01704647],\n       [-0.01704647]]), 'x_shared': array([[-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647],\n       [-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647]])}, 'x_2': {'x_1': array([[-0.01704647, -0.01704647]]), 'x_2': array([[0.]]), 'x_3': array([[-0.01704647]]), 'x_shared': array([[-0.01704647, -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647]])}, 'x_3': {'x_1': array([[-0.01704647, -0.01704647]]), 'x_2': array([[-0.01704647]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.0015891 , -0.00386702,  0.01505761, -0.0015891 , -0.0015891 ,\n        -0.0015891 ]])}, 'x_shared': {'x_1': array([[-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647],\n       [-0.01704647, -0.01704647]]), 'x_2': array([[-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647],\n       [-0.01704647]]), 'x_3': array([[-0.0015891 ],\n       [-0.00386702],\n       [ 0.01505761],\n       [-0.0015891 ],\n       [-0.0015891 ],\n       [-0.0015891 ]]), 'x_shared': array([[ 0.        , -0.01704647, -0.01704647, -0.01704647, -0.01704647,\n        -0.01704647],\n       [-0.01704647,  0.        ,  0.30256195,  0.41417593,  0.41417593,\n         0.41417593],\n       [-0.01704647,  0.30256195,  0.        ,  0.10449216,  0.10449216,\n         0.10449216],\n       [-0.01704647,  0.41417593,  0.10449216,  0.        , -0.01704647,\n        -0.01704647],\n       [-0.01704647,  0.41417593,  0.10449216, -0.01704647,  0.        ,\n        -0.01704647],\n       [-0.01704647,  0.41417593,  0.10449216, -0.01704647, -0.01704647,\n         0.        ]])}}], 'y_4': [{'x_1': {'x_1': array([[ 0.        , -0.23791398],\n       [-0.23791398,  0.        ]]), 'x_2': array([[-0.23790782],\n       [-0.24412857]]), 'x_3': array([[-0.23791123],\n       [-0.24540145]]), 'x_shared': array([[-0.23787308, -0.2378815 , -0.23774514, -0.23795715, -0.23815544,\n        -0.23795018],\n       [-0.24854548, -0.25077639, -0.20615977, -0.24576713, -0.24923839,\n        -0.24790077]])}, 'x_2': {'x_1': array([[-0.23790782, -0.24412857]]), 'x_2': array([[0.]]), 'x_3': array([[-0.23406768]]), 'x_shared': array([[-0.23506859, -0.22899433, -0.23473725, -0.23250219, -0.2293002 ,\n        -0.23267563]])}, 'x_3': {'x_1': array([[-0.23791123, -0.24540145]]), 'x_2': array([[-0.23406768]]), 'x_3': array([[0.]]), 'x_shared': array([[-0.22229809, -0.22311763, -0.20149952, -0.22030859, -0.2218345 ,\n        -0.22086071]])}, 'x_shared': {'x_1': array([[-0.23787308, -0.24854548],\n       [-0.2378815 , -0.25077639],\n       [-0.23774514, -0.20615977],\n       [-0.23795715, -0.24576713],\n       [-0.23815544, -0.24923839],\n       [-0.23795018, -0.24790077]]), 'x_2': array([[-0.23506859],\n       [-0.22899433],\n       [-0.23473725],\n       [-0.23250219],\n       [-0.2293002 ],\n       [-0.23267563]]), 'x_3': array([[-0.22229809],\n       [-0.22311763],\n       [-0.20149952],\n       [-0.22030859],\n       [-0.2218345 ],\n       [-0.22086071]]), 'x_shared': array([[ 0.        , -0.16278642, -0.10909606, -0.13076867, -0.09116842,\n        -0.13516625],\n       [-0.16278642,  0.        ,  0.32110569,  0.29273649,  0.41905119,\n         0.2829479 ],\n       [-0.10909606,  0.32110569,  0.        , -0.26131068, -0.01032547,\n        -0.25027565],\n       [-0.13076867,  0.29273649, -0.26131068,  0.        , -0.26902898,\n        -0.24009156],\n       [-0.09116842,  0.41905119, -0.01032547, -0.26902898,  0.        ,\n        -0.45492535],\n       [-0.13516625,  0.2829479 , -0.25027565, -0.24009156, -0.45492535,\n         0.        ]])}}]}, total={'g_1': [{'x_1': array([-0.06409028, -0.89924381]), 'x_2': array([-0.20023777]), 'x_3': array([-0.20023777]), 'x_shared': array([ 2.70743344, -0.20023777, -0.20023777,  0.01367927, -0.20023777,\n       -0.44385   ])}, {'x_1': array([-0.08062251, -0.82652285]), 'x_2': array([-0.15276836]), 'x_3': array([-0.15276836]), 'x_shared': array([ 2.08528533, -0.15276836, -0.15276836,  0.21524092, -0.15276836,\n       -0.55035268])}, {'x_1': array([-0.0864275, -0.7898062]), 'x_2': array([-0.13356686]), 'x_3': array([-0.13356686]), 'x_shared': array([ 1.82381834, -0.13356686, -0.13356686,  0.30365424, -0.13356686,\n       -0.59635336])}, {'x_1': array([-0.08928965, -0.76835203]), 'x_2': array([-0.12334036]), 'x_3': array([-0.12334036]), 'x_shared': array([ 1.68201275, -0.12334036, -0.12334036,  0.35253231, -0.12334036,\n       -0.62161246])}, {'x_1': array([-0.09097346, -0.75438013]), 'x_2': array([-0.11701813]), 'x_3': array([-0.11701813]), 'x_shared': array([ 1.59339411, -0.11701813, -0.11701813,  0.38341746, -0.11701813,\n       -0.63751151])}, {'x_1': array([-0.56145556,  0.44974742]), 'x_2': array([-0.08702435]), 'x_3': array([-0.08702435]), 'x_shared': array([-0.08702435, -0.08702435, -0.08702435,  1.40229147, -0.08702435,\n       -1.09440129])}, {'x_1': array([-0.56145556,  0.44974742]), 'x_2': array([-0.08702435]), 'x_3': array([-0.08702435]), 'x_shared': array([-0.08702435, -0.08702435, -0.08702435,  1.40229147, -0.08702435,\n       -1.09440129])}], 'g_2': [{'x_1': array([-0.59687045, -0.59687045]), 'x_2': array([-0.59687045]), 'x_3': array([-0.59687045]), 'x_shared': array([ 6.3652017 , -0.59687045, -0.59687045, -0.59687045, -0.59687045,\n       -0.59687045])}], 'g_3': [{'x_1': array([-0.0010972 , -0.00135805]), 'x_2': array([-0.00445962]), 'x_3': array([0.05848542]), 'x_shared': array([-0.02863292,  0.56154848,  0.27492934, -0.00114928, -0.11721704,\n       -0.06833947])}, {'x_1': array([-0.0010972 , -0.00135805]), 'x_2': array([-0.00445962]), 'x_3': array([0.05848542]), 'x_shared': array([-0.02863292,  0.56154848,  0.27492934, -0.00114928, -0.11721704,\n       -0.06833947])}, {'x_1': array([-0.00443377, -0.00443377]), 'x_2': array([-0.00443377]), 'x_3': array([0.14725238]), 'x_shared': array([-0.00443377,  0.60573952,  0.12196367, -0.00443377, -0.00443377,\n       -0.00443377])}, {'x_1': array([-0.00159737, -0.00159737]), 'x_2': array([-0.00159737]), 'x_3': array([-0.00159737]), 'x_shared': array([-0.00159737, -0.00159737,  1.28191082, -0.00159737, -0.00159737,\n       -0.00159737])}], 'y_1': [{'x_1': array([-0.00382801, -0.28779994]), 'x_2': array([-0.00034189]), 'x_3': array([0.06814377]), 'x_shared': array([-0.2566161 ,  0.38996348,  0.19141919, -0.0362913 , -0.35961796,\n       -0.04686076])}, {'x_1': array([-0.07937656, -0.07937656]), 'x_2': array([-0.07937656]), 'x_3': array([-0.07937656]), 'x_shared': array([-0.05676045, -0.07937656, -0.07937656,  0.36940585, -0.07937656,\n        1.42047138])}, {'x_1': array([-0.56145556,  0.44974742]), 'x_2': array([-0.08702435]), 'x_3': array([-0.08702435]), 'x_shared': array([-0.08702435, -0.08702435, -0.08702435,  1.40229147, -0.08702435,\n       -1.09440129])}], 'y_11': [{'x_1': array([-0.0338149 ,  0.36652652]), 'x_2': array([-0.03715257]), 'x_3': array([0.1270494]), 'x_shared': array([ 0.21045362,  0.47914641, -0.20694599,  0.11033823,  0.06262316,\n        0.52863878])}], 'y_12': [{'x_1': array([-0.00382801, -0.28779994]), 'x_2': array([-0.00034189]), 'x_3': array([0.06814377]), 'x_shared': array([-0.2566161 ,  0.38996348,  0.19141919, -0.0362913 , -0.35961796,\n       -0.04686076])}, {'x_1': array([-0.56145556,  0.44974742]), 'x_2': array([-0.08702435]), 'x_3': array([-0.08702435]), 'x_shared': array([-0.08702435, -0.08702435, -0.08702435,  1.40229147, -0.08702435,\n       -1.09440129])}], 'y_14': [{'x_1': array([-0.00382801, -0.28779994]), 'x_2': array([-0.00034189]), 'x_3': array([0.06814377]), 'x_shared': array([-0.2566161 ,  0.38996348,  0.19141919, -0.0362913 , -0.35961796,\n       -0.04686076])}, {'x_1': array([-0.07937656, -0.07937656]), 'x_2': array([-0.07937656]), 'x_3': array([-0.07937656]), 'x_shared': array([-0.05676045, -0.07937656, -0.07937656,  0.36940585, -0.07937656,\n        1.42047138])}], 'y_2': [{'x_1': array([-0.00382801, -0.28779904]), 'x_2': array([-0.00034187]), 'x_3': array([0.06814447]), 'x_shared': array([-0.25661667,  0.38996229,  0.19141728, -0.03629053, -0.35961755,\n       -0.04686027])}, {'x_1': array([-0.00290415, -0.00323088]), 'x_2': array([-0.00646936]), 'x_3': array([-0.00100787]), 'x_shared': array([-0.02162375,  0.57194863,  0.36071446, -0.00295507, -0.14641397,\n       -0.05889873])}, {'x_1': array([-0.00217609,  0.11584589]), 'x_2': array([-0.00738895]), 'x_3': array([-0.00272057]), 'x_shared': array([-0.0052864 ,  0.56707226,  0.41557318,  0.02545564, -0.11162603,\n       -0.03523156])}], 'y_21': [{'x_1': array([-0.00382801, -0.28779904]), 'x_2': array([-0.00034187]), 'x_3': array([0.06814447]), 'x_shared': array([-0.25661667,  0.38996229,  0.19141728, -0.03629053, -0.35961755,\n       -0.04686027])}], 'y_23': [{'x_1': array([-0.00290415, -0.00323088]), 'x_2': array([-0.00646936]), 'x_3': array([-0.00100787]), 'x_shared': array([-0.02162375,  0.57194863,  0.36071446, -0.00295507, -0.14641397,\n       -0.05889873])}], 'y_24': [{'x_1': array([-0.00217609,  0.11584589]), 'x_2': array([-0.00738895]), 'x_3': array([-0.00272057]), 'x_shared': array([-0.0052864 ,  0.56707226,  0.41557318,  0.02545564, -0.11162603,\n       -0.03523156])}], 'y_3': [{'x_1': array([-0.0009888, -0.0009888]), 'x_2': array([-0.0009888]), 'x_3': array([0.00088859]), 'x_shared': array([-0.0009888 ,  0.45431126,  0.54123151, -0.0009888 , -0.0009888 ,\n       -0.0009888 ])}, {'x_1': array([-0.00111916, -0.00138512]), 'x_2': array([-0.0045175]), 'x_3': array([0.05800667]), 'x_shared': array([-0.02799224,  0.56261159,  0.27780377, -0.00117139, -0.11677492,\n       -0.06829691])}, {'x_1': array([-0.0010972 , -0.00135805]), 'x_2': array([-0.00445962]), 'x_3': array([0.05848542]), 'x_shared': array([-0.02863292,  0.56154848,  0.27492934, -0.00114928, -0.11721704,\n       -0.06833947])}], 'y_31': [{'x_1': array([-0.00111916, -0.00138512]), 'x_2': array([-0.0045175]), 'x_3': array([0.05800667]), 'x_shared': array([-0.02799224,  0.56261159,  0.27780377, -0.00117139, -0.11677492,\n       -0.06829691])}], 'y_32': [{'x_1': array([-0.0010972 , -0.00135805]), 'x_2': array([-0.00445962]), 'x_3': array([0.05848542]), 'x_shared': array([-0.02863292,  0.56154848,  0.27492934, -0.00114928, -0.11721704,\n       -0.06833947])}], 'y_34': [{'x_1': array([-0.0009888, -0.0009888]), 'x_2': array([-0.0009888]), 'x_3': array([0.00088859]), 'x_shared': array([-0.0009888 ,  0.45431126,  0.54123151, -0.0009888 , -0.0009888 ,\n       -0.0009888 ])}], 'y_4': [{'x_1': array([-0.00277676,  0.00126616]), 'x_2': array([-0.00639952]), 'x_3': array([0.00847911]), 'x_shared': array([ 0.03408707,  0.72505752,  0.11247439,  0.04675498, -0.13660393,\n        0.0485379 ])}]})\n</code></pre> <p>Lastly, we draw the Sobol' graph:</p> <pre><code>sobol_graph = SobolGraph.from_analysis(sobol_analysis, output_name=\"y_4\")\nsobol_graph\n</code></pre> x_1[0]     (0, 13) x_1[0] (0, 13) x_1[1]     (0, 13) x_1[1] (0, 13) x_2     (0, 13) x_2 (0, 13) x_3     (1, 12) x_3 (1, 12) x_shared[0]     (3, 8) x_shared[0] (3, 8) x_shared[1]     (73, 28) x_shared[1] (73, 28) x_shared[2]     (11, 37) x_shared[2] (11, 37) x_shared[1]     (73, 28)-&gt;x_shared[2]     (11, 37) x_shared[3]     (5, 17) x_shared[3] (5, 17) x_shared[1]     (73, 28)-&gt;x_shared[3]     (5, 17) x_shared[4]     (0, 20) x_shared[4] (0, 20) x_shared[1]     (73, 28)-&gt;x_shared[4]     (0, 20) x_shared[5]     (5, 17) x_shared[5] (5, 17) x_shared[1]     (73, 28)-&gt;x_shared[5]     (5, 17) <p>Total running time of the script: ( 0 minutes  3.041 seconds)</p> <p> Download Python source code: plot_sobieski_sobol_graph.py</p> <p> Download Jupyter notebook: plot_sobieski_sobol_graph.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/examples/visualizations/uncertain_coupling_graph/mg_execution_times/","title":"Computation times","text":"<p>00:03.396 total execution time for generated_examples_visualizations_uncertain_coupling_graph files:</p> <p>+-----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_sobieski_coupling_graph (docs/examples/visualizations/uncertain_coupling_graph/plot_sobieski_coupling_graph.py) | 00:03.396 | 0.0 MB | +-----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/examples/visualizations/uncertain_coupling_graph/plot_sobieski_coupling_graph/","title":"The uncertain coupling graph for the Sobieski's SSBJ use case.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/examples/visualizations/uncertain_coupling_graph/plot_sobieski_coupling_graph/#the-uncertain-coupling-graph-for-the-sobieskis-ssbj-use-case","title":"The uncertain coupling graph for the Sobieski's SSBJ use case.","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.problems.mdo.sobieski.core.problem import SobieskiProblem\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiAerodynamics\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiMission\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiPropulsion\nfrom gemseo.problems.mdo.sobieski.disciplines import SobieskiStructure\nfrom gemseo.utils.data_conversion import split_array_to_dict_of_arrays\n\nfrom gemseo_umdo.visualizations.uncertain_coupling_graph import UncertainCouplingGraph\n</code></pre> <p>First, we define an uncertain space around the optimum design:</p> <pre><code>design_space = SobieskiProblem().design_space\ndesign_variable_names = [\"x_1\", \"x_2\", \"x_3\", \"x_shared\"]\ndesign_space.filter(design_variable_names)\noptimum_design = split_array_to_dict_of_arrays(\n    SobieskiProblem().optimum_design,\n    design_space.variable_sizes,\n    design_variable_names,\n)\n\nuncertain_space = DesignSpace()\nfor name, value in optimum_design.items():\n    uncertain_space.add_variable(\n        name,\n        size=value.size,\n        lower_bound=value * 0.95,\n        upper_bound=value * 1.05,\n        value=value,\n    )\n</code></pre> <p>Then, we define the disciplines:</p> <pre><code>disciplines = [\n    SobieskiAerodynamics(),\n    SobieskiStructure(),\n    SobieskiPropulsion(),\n    SobieskiMission(),\n]\n</code></pre> <p>Thirdly, we instantiate an uncertain coupling graph:</p> <pre><code>uncertain_coupling_graph = UncertainCouplingGraph(disciplines, uncertain_space)\n</code></pre> <p>and sample the multidisciplinary system with 100 evaluations:</p> <pre><code>uncertain_coupling_graph.sample(100)\n</code></pre> <p>Out:</p> <pre><code>/builds/gemseo/dev/gemseo-umdo/.tox/doc/lib64/python3.9/site-packages/gemseo/problems/mdo/sobieski/core/utils.py:225: DeprecationWarning: Conversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n  ai_coeff[index] = -(f_bound[2] - f_bound[0]) / (2 * mtx_shifted[0, 1])\n</code></pre> <p>Lastly, we visualize it:</p> <pre><code>uncertain_coupling_graph.visualize(save=False, show=True)\n</code></pre> SobieskiAerodynamics SobieskiAerodynamics SobieskiStructure SobieskiStructure SobieskiAerodynamics-&gt;SobieskiStructure y_21 SobieskiPropulsion SobieskiPropulsion SobieskiAerodynamics-&gt;SobieskiPropulsion y_23 SobieskiMission SobieskiMission SobieskiAerodynamics-&gt;SobieskiMission y_24 SobieskiStructure-&gt;SobieskiAerodynamics y_12[0] SobieskiStructure-&gt;SobieskiAerodynamics y_12[1] SobieskiStructure-&gt;SobieskiMission y_14[0] SobieskiStructure-&gt;SobieskiMission y_14[1] SobieskiPropulsion-&gt;SobieskiAerodynamics y_32 SobieskiPropulsion-&gt;SobieskiStructure y_31 SobieskiPropulsion-&gt;SobieskiMission y_34 <p>In this example designed for Sphinx Gallery and Jupyter Notebook, we do not save the graph on the disk (<code>save=False</code>) or display it with a dedicated program (<code>save=True</code>) but display it in the web browser.</p> <p>Total running time of the script: ( 0 minutes  3.396 seconds)</p> <p> Download Python source code: plot_sobieski_coupling_graph.py</p> <p> Download Jupyter notebook: plot_sobieski_coupling_graph.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"reference/SUMMARY/","title":"SUMMARY","text":"<ul> <li>gemseo_umdo<ul> <li>_utils<ul> <li>compatibility<ul> <li>openturns</li> </ul> </li> </ul> </li> <li>disciplines<ul> <li>additive_noiser</li> <li>base_noiser</li> <li>multiplicative_noiser</li> <li>noiser_factory</li> <li>utils</li> </ul> </li> <li>formulations<ul> <li>_functions<ul> <li>base_statistic_function</li> <li>base_statistic_function_for_sampling</li> <li>hessian_function</li> <li>iterative_estimation</li> <li>statistic_function_for_control_variate</li> <li>statistic_function_for_iterative_sampling</li> <li>statistic_function_for_pce</li> <li>statistic_function_for_standard_sampling</li> <li>statistic_function_for_surrogate</li> <li>statistic_function_for_taylor_polynomial</li> </ul> </li> <li>_statistics<ul> <li>base_statistic_estimator</li> <li>control_variate<ul> <li>base_control_variate_estimator</li> <li>factory</li> <li>margin</li> <li>mean</li> <li>probability</li> <li>standard_deviation</li> <li>variance</li> </ul> </li> <li>iterative_sampling<ul> <li>base_central_moment</li> <li>base_sampling_estimator</li> <li>factory</li> <li>margin</li> <li>mean</li> <li>probability</li> <li>standard_deviation</li> <li>variance</li> </ul> </li> <li>pce<ul> <li>base_pce_estimator</li> <li>factory</li> <li>margin</li> <li>mean</li> <li>standard_deviation</li> <li>variance</li> </ul> </li> <li>sampling<ul> <li>base_sampling_estimator</li> <li>factory</li> <li>margin</li> <li>mean</li> <li>probability</li> <li>standard_deviation</li> <li>variance</li> </ul> </li> <li>taylor_polynomial<ul> <li>base_taylor_polynomial_estimator</li> <li>factory</li> <li>margin</li> <li>mean</li> <li>standard_deviation</li> <li>variance</li> </ul> </li> </ul> </li> <li>base_sampling_settings</li> <li>base_umdo_formulation</li> <li>base_umdo_formulation_settings</li> <li>control_variate</li> <li>control_variate_settings</li> <li>factory</li> <li>pce</li> <li>pce_settings</li> <li>sampling</li> <li>sampling_settings</li> <li>sequential_sampling</li> <li>sequential_sampling_settings</li> <li>surrogate</li> <li>surrogate_settings</li> <li>taylor_polynomial</li> <li>taylor_polynomial_settings</li> </ul> </li> <li>monte_carlo_sampler</li> <li>problems<ul> <li>uopt_as_umdo_scenario</li> </ul> </li> <li>scenarios<ul> <li>base_u_scenario</li> <li>udoe_scenario</li> <li>umdo_scenario</li> </ul> </li> <li>statistics<ul> <li>multilevel<ul> <li>base_pilot</li> <li>mlmc<ul> <li>level</li> <li>mlmc</li> <li>pilots<ul> <li>base_mlmc_pilot</li> <li>factory</li> <li>mean</li> <li>variance</li> </ul> </li> </ul> </li> <li>mlmc_mlcv<ul> <li>level</li> <li>mlmc_mlcv</li> <li>pilots<ul> <li>base_mlmc_mlcv_pilot</li> <li>factory</li> <li>mean</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li>use_cases<ul> <li>beam_model<ul> <li>advanced_uncertain_space</li> <li>constraints</li> <li>core<ul> <li>design_space</li> <li>model</li> <li>output_data</li> <li>variables</li> </ul> </li> <li>design_space</li> <li>discipline</li> <li>uncertain_space</li> </ul> </li> <li>heat_equation<ul> <li>configuration</li> <li>discipline</li> <li>model</li> <li>uncertain_space</li> </ul> </li> <li>spring_mass_model<ul> <li>discipline</li> <li>model</li> <li>uncertain_space</li> </ul> </li> <li>truss<ul> <li>bar</li> <li>bars</li> <li>discipline</li> <li>forces</li> <li>model</li> <li>uncertain_space</li> </ul> </li> </ul> </li> <li>visualizations<ul> <li>sobol_graph</li> <li>uncertain_coupling_graph</li> </ul> </li> </ul> </li> </ul>"},{"location":"reference/gemseo_umdo/","title":"API documentation","text":""},{"location":"reference/gemseo_umdo/#gemseo_umdo","title":"gemseo_umdo","text":"<p>A plug-in for multidisciplinary design under uncertainty.</p>"},{"location":"reference/gemseo_umdo/monte_carlo_sampler/","title":"Monte carlo sampler","text":""},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler","title":"monte_carlo_sampler","text":"<p>A Monte Carlo sampler.</p>"},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler","title":"MonteCarloSampler","text":"<pre><code>MonteCarloSampler(input_space: DesignSpace)\n</code></pre> <p>A Monte Carlo sampler taking advantage of the vectorized functions.</p> PARAMETER DESCRIPTION <code>input_space</code> <p>The input space on which to sample the functions.</p> <p> TYPE: <code>DesignSpace</code> </p> Source code in <code>src/gemseo_umdo/monte_carlo_sampler.py</code> <pre><code>def __init__(self, input_space: DesignSpace) -&gt; None:\n    \"\"\"\n    Args:\n        input_space: The input space on which to sample the functions.\n    \"\"\"  # noqa:D205 D212 D415\n    self.__algo = OpenTURNS(\"OT_MONTE_CARLO\")\n    self.__functions = []\n    self.__input_space = input_space\n    self.__input_histories = []\n    self.__output_histories = []\n    self.__all_functions_are_vectorized = True\n</code></pre>"},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler.input_history","title":"input_history  <code>property</code>","text":"<pre><code>input_history: RealArray\n</code></pre> <p>The history of the function inputs.</p>"},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler.output_history","title":"output_history  <code>property</code>","text":"<pre><code>output_history: RealArray\n</code></pre> <p>The history of the function outputs.</p>"},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/monte_carlo_sampler/#gemseo_umdo.monte_carlo_sampler.MonteCarloSampler.add_function","title":"add_function","text":"<pre><code>add_function(\n    function: FunctionType, is_vectorized: bool = True\n) -&gt; None\n</code></pre> <p>Add a function to sample.</p> PARAMETER DESCRIPTION <code>function</code> <p>A function to sample.</p> <p> TYPE: <code>FunctionType</code> </p> <code>is_vectorized</code> <p>Whether the function is vectorized.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/gemseo_umdo/monte_carlo_sampler.py</code> <pre><code>def add_function(self, function: FunctionType, is_vectorized: bool = True) -&gt; None:\n    \"\"\"Add a function to sample.\n\n    Args:\n        function: A function to sample.\n        is_vectorized: Whether the function is vectorized.\n    \"\"\"\n    self.__all_functions_are_vectorized &amp;= is_vectorized\n    self.__functions.append(function)\n</code></pre>"},{"location":"reference/gemseo_umdo/_utils/","title":"utils","text":""},{"location":"reference/gemseo_umdo/_utils/#gemseo_umdo._utils","title":"_utils","text":"<p>Utilities.</p>"},{"location":"reference/gemseo_umdo/_utils/compatibility/","title":"Compatibility","text":""},{"location":"reference/gemseo_umdo/_utils/compatibility/#gemseo_umdo._utils.compatibility","title":"compatibility","text":"<p>Compatibility between different versions of packages.</p>"},{"location":"reference/gemseo_umdo/_utils/compatibility/openturns/","title":"Openturns","text":""},{"location":"reference/gemseo_umdo/_utils/compatibility/openturns/#gemseo_umdo._utils.compatibility.openturns","title":"openturns","text":"<p>Compatibility between different versions of openturns.</p>"},{"location":"reference/gemseo_umdo/disciplines/","title":"Disciplines","text":""},{"location":"reference/gemseo_umdo/disciplines/#gemseo_umdo.disciplines","title":"disciplines","text":"<p>Some disciplines.</p>"},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/","title":"Additive noiser","text":""},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/#gemseo_umdo.disciplines.additive_noiser","title":"additive_noiser","text":"<p>A discipline adding a random variable to a variable.</p>"},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/#gemseo_umdo.disciplines.additive_noiser-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/#gemseo_umdo.disciplines.additive_noiser.AdditiveNoiser","title":"AdditiveNoiser","text":"<pre><code>AdditiveNoiser(\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n)\n</code></pre> <p>               Bases: <code>BaseNoiser</code></p> <p>A discipline adding a random variable to a variable.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>variable_name</code> <p>The name of the variable to be noised.</p> <p> TYPE: <code>str</code> </p> <code>noised_variable_name</code> <p>The name of the variable once noised.</p> <p> TYPE: <code>str</code> </p> <code>uncertain_variable_name</code> <p>The name of the uncertain variable.</p> <p> TYPE: <code>str</code> </p> Source code in <code>src/gemseo_umdo/disciplines/base_noiser.py</code> <pre><code>def __init__(\n    self,\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n) -&gt; None:\n    \"\"\"\n    Args:\n        variable_name: The name of the variable to be noised.\n        noised_variable_name: The name of the variable once noised.\n        uncertain_variable_name: The name of the uncertain variable.\n    \"\"\"  # noqa: D205 D212 D415\n    self._noised_variable_name = noised_variable_name\n    self._variable_name = variable_name\n    self._uncertain_variable_name = uncertain_variable_name\n    super().__init__()\n    self.input_grammar.update_from_names([variable_name, uncertain_variable_name])\n    self.output_grammar.update_from_names([noised_variable_name])\n</code></pre>"},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/#gemseo_umdo.disciplines.additive_noiser.AdditiveNoiser-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/disciplines/additive_noiser/#gemseo_umdo.disciplines.additive_noiser.AdditiveNoiser.SHORT_NAME","title":"SHORT_NAME  <code>class-attribute</code>","text":"<pre><code>SHORT_NAME: str = '+'\n</code></pre> <p>A short name of the noising discipline to instantiate it more easily.</p> <p>For example, <code>\"*\"</code> would be a good short name for a <code>\"MultiplicativeNoiser\"</code>, i.e. clear and concise.</p> <p>In particular, this short name can be used to set the <code>uncertain_design_variables</code> argument of UDOEScenario and UMDOScenario.</p>"},{"location":"reference/gemseo_umdo/disciplines/base_noiser/","title":"Base noiser","text":""},{"location":"reference/gemseo_umdo/disciplines/base_noiser/#gemseo_umdo.disciplines.base_noiser","title":"base_noiser","text":"<p>A noising discipline.</p>"},{"location":"reference/gemseo_umdo/disciplines/base_noiser/#gemseo_umdo.disciplines.base_noiser-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/disciplines/base_noiser/#gemseo_umdo.disciplines.base_noiser.BaseNoiser","title":"BaseNoiser","text":"<pre><code>BaseNoiser(\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>A discipline noising a variable.</p> <p>UDOEScenario and UMDOScenario create this kind of discipline when using their argument <code>uncertain_design_variables</code> in order to define the link between design and uncertain variables in an intuitive way.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>variable_name</code> <p>The name of the variable to be noised.</p> <p> TYPE: <code>str</code> </p> <code>noised_variable_name</code> <p>The name of the variable once noised.</p> <p> TYPE: <code>str</code> </p> <code>uncertain_variable_name</code> <p>The name of the uncertain variable.</p> <p> TYPE: <code>str</code> </p> Source code in <code>src/gemseo_umdo/disciplines/base_noiser.py</code> <pre><code>def __init__(\n    self,\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n) -&gt; None:\n    \"\"\"\n    Args:\n        variable_name: The name of the variable to be noised.\n        noised_variable_name: The name of the variable once noised.\n        uncertain_variable_name: The name of the uncertain variable.\n    \"\"\"  # noqa: D205 D212 D415\n    self._noised_variable_name = noised_variable_name\n    self._variable_name = variable_name\n    self._uncertain_variable_name = uncertain_variable_name\n    super().__init__()\n    self.input_grammar.update_from_names([variable_name, uncertain_variable_name])\n    self.output_grammar.update_from_names([noised_variable_name])\n</code></pre>"},{"location":"reference/gemseo_umdo/disciplines/base_noiser/#gemseo_umdo.disciplines.base_noiser.BaseNoiser-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/disciplines/base_noiser/#gemseo_umdo.disciplines.base_noiser.BaseNoiser.SHORT_NAME","title":"SHORT_NAME  <code>class-attribute</code>","text":"<pre><code>SHORT_NAME: str = ''\n</code></pre> <p>A short name of the noising discipline to instantiate it more easily.</p> <p>For example, <code>\"*\"</code> would be a good short name for a <code>\"MultiplicativeNoiser\"</code>, i.e. clear and concise.</p> <p>In particular, this short name can be used to set the <code>uncertain_design_variables</code> argument of UDOEScenario and UMDOScenario.</p>"},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/","title":"Multiplicative noiser","text":""},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/#gemseo_umdo.disciplines.multiplicative_noiser","title":"multiplicative_noiser","text":"<p>A discipline multiplying a variable by a random variable plus one.</p>"},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/#gemseo_umdo.disciplines.multiplicative_noiser-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/#gemseo_umdo.disciplines.multiplicative_noiser.MultiplicativeNoiser","title":"MultiplicativeNoiser","text":"<pre><code>MultiplicativeNoiser(\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n)\n</code></pre> <p>               Bases: <code>BaseNoiser</code></p> <p>A discipline multiplying a variable by a random variable plus one.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>variable_name</code> <p>The name of the variable to be noised.</p> <p> TYPE: <code>str</code> </p> <code>noised_variable_name</code> <p>The name of the variable once noised.</p> <p> TYPE: <code>str</code> </p> <code>uncertain_variable_name</code> <p>The name of the uncertain variable.</p> <p> TYPE: <code>str</code> </p> Source code in <code>src/gemseo_umdo/disciplines/base_noiser.py</code> <pre><code>def __init__(\n    self,\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n) -&gt; None:\n    \"\"\"\n    Args:\n        variable_name: The name of the variable to be noised.\n        noised_variable_name: The name of the variable once noised.\n        uncertain_variable_name: The name of the uncertain variable.\n    \"\"\"  # noqa: D205 D212 D415\n    self._noised_variable_name = noised_variable_name\n    self._variable_name = variable_name\n    self._uncertain_variable_name = uncertain_variable_name\n    super().__init__()\n    self.input_grammar.update_from_names([variable_name, uncertain_variable_name])\n    self.output_grammar.update_from_names([noised_variable_name])\n</code></pre>"},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/#gemseo_umdo.disciplines.multiplicative_noiser.MultiplicativeNoiser-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/disciplines/multiplicative_noiser/#gemseo_umdo.disciplines.multiplicative_noiser.MultiplicativeNoiser.SHORT_NAME","title":"SHORT_NAME  <code>class-attribute</code>","text":"<pre><code>SHORT_NAME: str = '*'\n</code></pre> <p>A short name of the noising discipline to instantiate it more easily.</p> <p>For example, <code>\"*\"</code> would be a good short name for a <code>\"MultiplicativeNoiser\"</code>, i.e. clear and concise.</p> <p>In particular, this short name can be used to set the <code>uncertain_design_variables</code> argument of UDOEScenario and UMDOScenario.</p>"},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/","title":"Noiser factory","text":""},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/#gemseo_umdo.disciplines.noiser_factory","title":"noiser_factory","text":"<p>A factory of noising disciplines.</p>"},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/#gemseo_umdo.disciplines.noiser_factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/#gemseo_umdo.disciplines.noiser_factory.NoiserFactory","title":"NoiserFactory","text":"<pre><code>NoiserFactory()\n</code></pre> <p>               Bases: <code>DisciplineFactory</code></p> <p>A factory of noising disciplines.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/disciplines/noiser_factory.py</code> <pre><code>def __init__(self):  # noqa: D107\n    super().__init__()\n    self.__short_names_to_class_names = {\n        self.get_class(class_name).SHORT_NAME: class_name\n        for class_name in self.class_names\n    }\n</code></pre>"},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/#gemseo_umdo.disciplines.noiser_factory.NoiserFactory-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/disciplines/noiser_factory/#gemseo_umdo.disciplines.noiser_factory.NoiserFactory.create","title":"create","text":"<pre><code>create(\n    noiser_name: str,\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n) -&gt; BaseNoiser\n</code></pre> <p>Create an :class:<code>.Discipline</code> from its name.</p> PARAMETER DESCRIPTION <code>noiser_name</code> <p>Either the class name or the short name of the noising discipline.</p> <p> TYPE: <code>str</code> </p> <code>variable_name</code> <p>The name of the variable to be noised.</p> <p> TYPE: <code>str</code> </p> <code>noised_variable_name</code> <p>The name of the variable once noised.</p> <p> TYPE: <code>str</code> </p> <code>uncertain_variable_name</code> <p>The name of the uncertain variable.</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>BaseNoiser</code> <p>The discipline.</p> RAISES DESCRIPTION <code>TypeError</code> <p>If the class cannot be instantiated.</p> Source code in <code>src/gemseo_umdo/disciplines/noiser_factory.py</code> <pre><code>def create(\n    self,\n    noiser_name: str,\n    variable_name: str,\n    noised_variable_name: str,\n    uncertain_variable_name: str,\n) -&gt; BaseNoiser:\n    \"\"\"\n    Args:\n        noiser_name: Either the class name or the short name\n            of the noising discipline.\n        variable_name: The name of the variable to be noised.\n        noised_variable_name: The name of the variable once noised.\n        uncertain_variable_name: The name of the uncertain variable.\n    \"\"\"  # noqa: D205 D212 D415\n    class_names = self.class_names\n    if noiser_name in class_names:\n        class_name = noiser_name\n    else:\n        class_name = self.__short_names_to_class_names[noiser_name]\n\n    return super().create(\n        class_name,\n        variable_name=variable_name,\n        noised_variable_name=noised_variable_name,\n        uncertain_variable_name=uncertain_variable_name,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/disciplines/utils/","title":"Utils","text":""},{"location":"reference/gemseo_umdo/disciplines/utils/#gemseo_umdo.disciplines.utils","title":"utils","text":"<p>Some disciplines.</p>"},{"location":"reference/gemseo_umdo/disciplines/utils/#gemseo_umdo.disciplines.utils-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/disciplines/utils/#gemseo_umdo.disciplines.utils-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/disciplines/utils/#gemseo_umdo.disciplines.utils.create_noising_discipline_chain","title":"create_noising_discipline_chain","text":"<pre><code>create_noising_discipline_chain(\n    input_space: DesignSpace,\n    uncertain_input_variables: Mapping[\n        str, str | tuple[str, str]\n    ],\n) -&gt; MDOChain\n</code></pre> <p>Create a disciplines chain to noise input variables and rename input variables.</p> PARAMETER DESCRIPTION <code>input_space</code> <p>The input space whose uncertain input variables are renamed by this method.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>uncertain_input_variables</code> <p>This argument facilitates the definition of uncertain input variables in two ways. The first way consists of passing a dictionary of the form <code>{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}</code> which defines the uncertain input variables as <code>x1 = dv_x1 + u1</code> and <code>x2 = dv_x2 * (1 + u2)</code>. Here <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the input variables made uncertain by the random variables <code>\"u_1\"</code> and <code>\"u_2\"</code> which typically have zero mean. <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the input variables actually used in <code>disciplines</code> while the names <code>\"dv_x1\"</code> and <code>dv_x2</code> are generated by the scenario. More generally, the first element of the tuple is assumed to be either the class name or the SHORT_NAME of a BaseNoiser (feel free to create new noising disciplines). The second way of defining these uncertain input variables consists of passing a set of more complex expressions of the form <code>{\"x\": \"{} + u\", ...}</code> where <code>\"x\"</code> is the name of the input variable actually used in the equations, <code>\"u\"</code> is the name of the uncertain variable defined in the <code>uncertain_space</code> and <code>\"{}\"</code> is the optimization variable. Leave <code>\"{}\"</code> as is; it will be automatically replaced by <code>\"dv_x\"</code>. This more complex format assumes variables of dimension 1. If <code>None</code>, do not consider other variable relations than those defined by <code>disciplines</code>.</p> <p> TYPE: <code>Mapping[str, str | tuple[str, str]]</code> </p> RETURNS DESCRIPTION <code>MDOChain</code> <p>The noising disciplines.</p> Source code in <code>src/gemseo_umdo/disciplines/utils.py</code> <pre><code>def create_noising_discipline_chain(\n    input_space: DesignSpace,\n    uncertain_input_variables: Mapping[str, str | tuple[str, str]],\n) -&gt; MDOChain:\n    \"\"\"Create a disciplines chain to noise input variables and rename input variables.\n\n    Args:\n        input_space: The input space\n            whose uncertain input variables are renamed by this method.\n        uncertain_input_variables: This argument facilitates\n            the definition of uncertain input variables in two ways.\n            The first way consists of passing a dictionary\n            of the form `{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}`\n            which defines the uncertain input variables as\n            `x1 = dv_x1 + u1` and `x2 = dv_x2 * (1 + u2)`.\n            Here `\"x1\"` and `\"x2\"` are the names of the input variables\n            made uncertain by the random variables `\"u_1\"` and `\"u_2\"`\n            which typically have zero mean.\n            `\"x1\"` and `\"x2\"` are the names of the input variables\n            actually used in `disciplines`\n            while the names `\"dv_x1\"` and `dv_x2` are generated by the scenario.\n            More generally,\n            the first element of the tuple is assumed\n            to be either the class name or the\n            [SHORT_NAME][gemseo_umdo.disciplines.base_noiser.BaseNoiser.SHORT_NAME]\n            of a\n            [BaseNoiser][gemseo_umdo.disciplines.base_noiser.BaseNoiser]\n            (feel free to create new noising disciplines).\n            The second way of defining these uncertain input variables\n            consists of passing a set of more complex expressions\n            of the form `{\"x\": \"{} + u\", ...}`\n            where `\"x\"` is the name of the input variable\n            actually used in the equations,\n            `\"u\"` is the name of the uncertain variable\n            defined in the `uncertain_space`\n            and `\"{}\"` is the optimization variable.\n            Leave `\"{}\"` as is; it will be automatically replaced by `\"dv_x\"`.\n            This more complex format assumes variables of dimension 1.\n            If `None`,\n            do not consider other variable relations\n            than those defined by `disciplines`.\n\n    Returns:\n        The noising disciplines.\n    \"\"\"\n    noising_disciplines = []\n\n    expressions = {\n        dv_name: v\n        for dv_name, v in uncertain_input_variables.items()\n        if isinstance(v, str)\n    }\n    if expressions:\n        for dv_name, expression in expressions.items():\n            new_dv_name = f\"dv_{dv_name}\"\n            input_space.rename_variable(dv_name, new_dv_name)\n            expressions[dv_name] = expression.replace(\"{}\", new_dv_name)\n\n        noising_disciplines.append(AnalyticDiscipline(expressions))\n\n    for dv_name, v in uncertain_input_variables.items():\n        if dv_name in expressions:\n            continue\n\n        new_dv_name = f\"dv_{dv_name}\"\n        input_space.rename_variable(dv_name, new_dv_name)\n        noising_disciplines.append(\n            NoiserFactory().create(v[0], new_dv_name, dv_name, v[1])\n        )\n\n    return MDOChain(noising_disciplines, name=\"DesignVariablesNoiser\")\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/","title":"Formulations","text":""},{"location":"reference/gemseo_umdo/formulations/#gemseo_umdo.formulations","title":"formulations","text":"<p>Formulations for multidisciplinary design problems under uncertainty.</p> <p>A BaseMDOFormulation defines an OptimizationProblem from one or several Disciplines, a DesignSpace, an objective and constraints. The objective can be either minimized (default) or maximized.</p> <p>In the context of deterministic MDO, the OptimizationProblem is handled by a driver (see DriverLibrary), typically an optimizer (see OptimizationLibrary), or a design of experiments (DOE, see DOELibrary).</p> <p>In the frame of U-MDO, the BaseUMDOFormulation uses a BaseMDOFormulation with a ParameterSpace defining the uncertain variables and executes the corresponding OptimizationProblem with a particular DOE. Then, it post-processed the associated Database to estimate the statistics applied to the objective and constraints.</p> <p>The most common BaseUMDOFormulation is Sampling, consisting in estimating the statistics with (quasi) Monte Carlo techniques.</p>"},{"location":"reference/gemseo_umdo/formulations/#gemseo_umdo.formulations-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/#gemseo_umdo.formulations.DOE_ALGO_NAMES","title":"DOE_ALGO_NAMES  <code>module-attribute</code>","text":"<pre><code>DOE_ALGO_NAMES = StrEnum('DOE_ALGO_NAMES', algorithms)\n</code></pre> <p>The names of the available DOE algorithms.</p>"},{"location":"reference/gemseo_umdo/formulations/base_sampling_settings/","title":"Base sampling settings","text":""},{"location":"reference/gemseo_umdo/formulations/base_sampling_settings/#gemseo_umdo.formulations.base_sampling_settings","title":"base_sampling_settings","text":"<p>The base class for the settings of U-MDO formulations using a DOE.</p>"},{"location":"reference/gemseo_umdo/formulations/base_sampling_settings/#gemseo_umdo.formulations.base_sampling_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/base_sampling_settings/#gemseo_umdo.formulations.base_sampling_settings.BaseSamplingSettings","title":"BaseSamplingSettings","text":"<p>               Bases: <code>BaseUMDOFormulationSettings</code></p> <p>The base class for the settings of U-MDO formulations using a DOE.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/","title":"Base umdo formulation","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation","title":"base_umdo_formulation","text":"<p>Base class for U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation","title":"BaseUMDOFormulation","text":"<pre><code>BaseUMDOFormulation(\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>BaseFormulation</code></p> <p>Base class for U-MDO formulations.</p> <p>A U-MDO formulation rewrites a multidisciplinary optimization problem under uncertainty, a.k.a. U-MDO problem, as a standard optimization problem without uncertainty.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline | BaseScenario]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>BaseUMDOFormulationSettings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def __init__(\n    self,\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    \"\"\"\n    Args:\n        mdo_formulation: The MDO formulation\n            generating functions evaluable over the uncertain space\n            and differentiable with respect to the design variables.\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n        objective_statistic_name: The name of the statistic\n            to be applied to the objective.\n        objective_statistic_parameters: The values of the parameters\n            of the statistic to be applied to the objective, if any.\n        mdo_formulation_settings: The settings of the MDO formulation.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._STATISTIC_FUNCTION_CLASS is not None:\n        self._statistic_function_class = self._STATISTIC_FUNCTION_CLASS\n        self._statistic_factory = self._STATISTIC_FACTORY\n\n    self.__available_statistics = self._statistic_factory.class_names\n    self._mdo_formulation = mdo_formulation\n    self._uncertain_space = uncertain_space\n\n    # Create the auxiliary MDO formulation if required.\n    self._auxiliary_mdo_formulation = None\n    if self._USE_AUXILIARY_MDO_FORMULATION:\n        self._auxiliary_mdo_formulation = mdo_formulation.__class__(\n            disciplines,\n            objective_name,\n            uncertain_space,\n            **mdo_formulation_settings,\n        )\n\n    # Create the objective name.\n    objective_name = self.__compute_name(\n        objective_name,\n        objective_statistic_name,\n        **objective_statistic_parameters,\n    )\n    super().__init__(\n        disciplines, objective_name, design_space, settings_model=settings_model\n    )\n    self.name = f\"{self.__class__.__name__}[{mdo_formulation.__class__.__name__}]\"\n\n    # Replace the objective function by a statistic function.\n    sub_opt_problem = mdo_formulation.optimization_problem\n    objective = self._statistic_function_class(\n        self,\n        sub_opt_problem.objective.name,\n        MDOFunction.FunctionType.OBJ,\n        objective_statistic_name,\n        **objective_statistic_parameters,\n    )\n    objective.name = objective_name\n    self.optimization_problem.objective = objective\n    self.optimization_problem.minimize_objective = (\n        mdo_formulation.optimization_problem.minimize_objective\n    )\n\n    # Initialize the cache mechanism.\n    self.input_data_to_output_data = {}\n    self.optimization_problem.add_listener(self._clear_input_data_to_output_data)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation/#gemseo_umdo.formulations.base_umdo_formulation.BaseUMDOFormulation.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation_settings/","title":"Base umdo formulation settings","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation_settings/#gemseo_umdo.formulations.base_umdo_formulation_settings","title":"base_umdo_formulation_settings","text":"<p>The base class for the settings of U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation_settings/#gemseo_umdo.formulations.base_umdo_formulation_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/base_umdo_formulation_settings/#gemseo_umdo.formulations.base_umdo_formulation_settings.BaseUMDOFormulationSettings","title":"BaseUMDOFormulationSettings","text":"<p>               Bases: <code>BaseModel</code></p> <p>The base class for the settings of U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/","title":"Control variate","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate","title":"control_variate","text":"<p>Control variate-based U-MDO formulation.</p> <p>ControlVariate is an BaseUMDOFormulation estimating the statistics with first-order Taylor polynomials as control variates:</p> \\[\\tilde{f}(x,u)=f(x,\\mu) + (u-\\mu)\\frac{\\partial f(x,\\mu)}{\\partial u}\\] <p>where \\(u\\) is a realization of the random variable \\(U\\) and \\(\\mu=\\mathbb{E}[U]\\).</p> <p>The expectation \\(\\mathbb{E}[f(x,U)]\\) can be approximated by the control variate estimator</p> \\[\\frac{1}{N}\\sum_{i=1}^N f\\left(x,U^{(i)}\\right) +\\alpha_N\\left(\\frac{1}{N}\\sum_{j=1}^N \\tilde{f}\\left(x,U^{(j)}\\right)-f(x,\\mu)\\right)\\] <p>where \\(\\alpha_N\\) is the empirical estimator of \\(\\frac{\\text{cov}\\left[f(x,U),\\tilde{f}(x,u)\\right]} {\\mathbb{V}\\left[f(x,U)\\right]}\\) and \\(U^{(1)},\\ldots,U^{(N)}\\) are \\(N\\) independent realizations of \\(U\\).</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate","title":"ControlVariate","text":"<pre><code>ControlVariate(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: ControlVariate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>BaseUMDOFormulation</code></p> <p>Control variate-based U-MDO formulation.</p> <p>DOE algorithms</p> <p>This formulation uses a DOE algorithm; read the GEMSEO documentation. for more information about the available DOE algorithm names and options.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>ControlVariate_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/control_variate.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: ControlVariate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    algo_name = settings_model.doe_algo_settings._TARGET_CLASS_NAME\n    self.__doe_algo = DOELibraryFactory().create(algo_name)\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n    self.name = (\n        f\"{self.__class__.__name__}\"\n        f\"[{mdo_formulation.__class__.__name__}; \"\n        f\"{algo_name}({settings_model.n_samples})]\"\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.doe_algo","title":"doe_algo  <code>property</code>","text":"<pre><code>doe_algo: BaseDOELibrary\n</code></pre> <p>The DOE library configured with an algorithm.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.compute_samples","title":"compute_samples","text":"<pre><code>compute_samples(problem: OptimizationProblem) -&gt; None\n</code></pre> <p>Evaluate the functions of a problem with a DOE algorithm.</p> PARAMETER DESCRIPTION <code>problem</code> <p>The problem.</p> <p> TYPE: <code>OptimizationProblem</code> </p> Source code in <code>src/gemseo_umdo/formulations/control_variate.py</code> <pre><code>def compute_samples(self, problem: OptimizationProblem) -&gt; None:\n    \"\"\"Evaluate the functions of a problem with a DOE algorithm.\n\n    Args:\n        problem: The problem.\n    \"\"\"\n    with LoggingContext(logging.getLogger(\"gemseo\")):\n        self.__doe_algo.execute(\n            problem, settings_model=self._settings.doe_algo_settings\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate/#gemseo_umdo.formulations.control_variate.ControlVariate.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/control_variate_settings/","title":"Control variate settings","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate_settings/#gemseo_umdo.formulations.control_variate_settings","title":"control_variate_settings","text":"<p>Settings for the control variate-based U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/control_variate_settings/#gemseo_umdo.formulations.control_variate_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/control_variate_settings/#gemseo_umdo.formulations.control_variate_settings.ControlVariate_Settings","title":"ControlVariate_Settings","text":"<p>               Bases: <code>BaseSamplingSettings</code></p> <p>The settings for the control variate-based U-MDO formulation.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p>"},{"location":"reference/gemseo_umdo/formulations/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/factory/#gemseo_umdo.formulations.factory","title":"factory","text":"<p>Factory of U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/factory/#gemseo_umdo.formulations.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/factory/#gemseo_umdo.formulations.factory.UMDOFormulationsFactory","title":"UMDOFormulationsFactory","text":"<p>               Bases: <code>MDOFormulationFactory</code></p> <p>The factory of U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/","title":"Pce","text":""},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce","title":"pce","text":"<p>PCE-based U-MDO formulation.</p> <p>PCE is an BaseUMDOFormulation estimating the statistics from the coefficients of a polynomial chaos expansion (PCE).</p> <p>E.g.</p> \\[\\mathbb{E}[f(x,U)] \\approx \\alpha_0\\] <p>or</p> \\[\\mathbb{V}[f(x,U)] \\approx \\sum_{1&lt;i\\leq P}\\alpha_i^2\\] <p>where \\((\\alpha_i)_{1\\leq i \\leq N}\\) are the coefficients of the PCE</p> \\[\\hat{f}_x(U)=\\alpha_0 + \\sum_{1&lt;i\\leq P}\\alpha_i\\Phi_i(U)\\] <p>built at \\(x\\) over the uncertain space.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE","title":"PCE","text":"<pre><code>PCE(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Surrogate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>Surrogate</code></p> <p>PCE-based U-MDO formulation.</p> <p>DOE algorithms</p> <p>This formulation uses a DOE algorithm; read the GEMSEO documentation. for more information about the available DOE algorithm names and options.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>Surrogate_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/surrogate.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Surrogate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    algo_name = settings_model.doe_algo_settings._TARGET_CLASS_NAME\n    self.input_data_to_output_samples = {}\n    self.__doe_algo = DOELibraryFactory().create(algo_name)\n    self._estimators = []\n    self.input_samples = uncertain_space.convert_array_to_dict(\n        SciPyDOE(\"MC\").compute_doe(\n            uncertain_space,\n            n_samples=settings_model.regressor_n_samples,\n            seed=settings_model.regressor_sampling_seed,\n        )\n    )\n    self.quality = RegressorQualityFactory().get_class(settings_model.quality_name)\n    if settings_model.quality_cv_compute:\n        self.quality_cv_options = {\n            \"n_folds\": settings_model.quality_cv_n_folds,\n            \"seed\": settings_model.quality_cv_seed,\n            \"randomize\": settings_model.quality_cv_randomize,\n        }\n    else:\n        self.quality_cv_options = {}\n\n    self.quality_threshold = settings_model.quality_threshold\n    self.quality_cv_threshold = settings_model.quality_cv_threshold\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n    mdo_formulation = self._mdo_formulation.__class__.__name__\n    formulation = self.__class__.__name__\n    smaller_is_better = self.quality.SMALLER_IS_BETTER\n    doe_n_samples = settings_model.n_samples\n    self.name = f\"{formulation}[{mdo_formulation}; {algo_name}({doe_n_samples})]\"\n    self.is_surrogate_quality_bad = gt if smaller_is_better else lt\n    self.quality_operators = (\"&lt;=\", \"&gt;\") if smaller_is_better else (\"&gt;=\", \"&lt;\")\n    self.threshold = {}\n    self.cv_threshold = {}\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.cv_threshold","title":"cv_threshold  <code>instance-attribute</code>","text":"<pre><code>cv_threshold: dict[str, RealArray] = {}\n</code></pre> <p>The cross-validation threshold component-wise.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.input_samples","title":"input_samples  <code>instance-attribute</code>","text":"<pre><code>input_samples: dict[str, RealArray] = convert_array_to_dict(\n    compute_doe(\n        uncertain_space,\n        n_samples=regressor_n_samples,\n        seed=regressor_sampling_seed,\n    )\n)\n</code></pre> <p>The input_samples.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.is_surrogate_quality_bad","title":"is_surrogate_quality_bad  <code>instance-attribute</code>","text":"<pre><code>is_surrogate_quality_bad: Callable[[float, float], bool] = (\n    gt if smaller_is_better else lt\n)\n</code></pre> <p>A function to indicate if the regressor is good for an output component.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.quality","title":"quality  <code>instance-attribute</code>","text":"<pre><code>quality: type[BaseRegressorQuality] = get_class(\n    quality_name\n)\n</code></pre> <p>The class to assess the quality of the regressor.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.quality_cv_options","title":"quality_cv_options  <code>instance-attribute</code>","text":"<pre><code>quality_cv_options: dict[str, bool | int | None]\n</code></pre> <p>The options of the CV technique; if empty, do not use it.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.quality_cv_threshold","title":"quality_cv_threshold  <code>instance-attribute</code>","text":"<pre><code>quality_cv_threshold: (\n    float | Mapping[str, float | Iterable[float]]\n) = quality_cv_threshold\n</code></pre> <p>The CV quality threshold below which a warning is logged.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.quality_operators","title":"quality_operators  <code>instance-attribute</code>","text":"<pre><code>quality_operators: tuple[str, str] = (\n    (\"&lt;=\", \"&gt;\") if smaller_is_better else (\"&gt;=\", \"&lt;\")\n)\n</code></pre> <p>The operators <code>(o1, o2)</code> to compare the quality of the regressor and a threshold.</p> <p>\"A o1 B\" means that A is better or equal to B. \"A o2 B\" means that A is less good than B.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.quality_threshold","title":"quality_threshold  <code>instance-attribute</code>","text":"<pre><code>quality_threshold: (\n    float | Mapping[str, float | Iterable[float]]\n) = quality_threshold\n</code></pre> <p>The learning quality threshold below which a warning is logged.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.threshold","title":"threshold  <code>instance-attribute</code>","text":"<pre><code>threshold: dict[str, RealArray] = {}\n</code></pre> <p>The learning quality threshold component-wise.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.compute_samples","title":"compute_samples","text":"<pre><code>compute_samples(\n    problem: OptimizationProblem,\n    compute_jacobian: bool = False,\n) -&gt; IODataset\n</code></pre> <p>Evaluate the functions of a problem with a DOE algorithm.</p> PARAMETER DESCRIPTION <code>problem</code> <p>The problem.</p> <p> TYPE: <code>OptimizationProblem</code> </p> <code>compute_jacobian</code> <p>Whether to compute the Jacobian of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/formulations/surrogate.py</code> <pre><code>def compute_samples(\n    self, problem: OptimizationProblem, compute_jacobian: bool = False\n) -&gt; IODataset:\n    \"\"\"Evaluate the functions of a problem with a DOE algorithm.\n\n    Args:\n        problem: The problem.\n        compute_jacobian: Whether to compute the Jacobian of the objective.\n    \"\"\"\n    doe_algo_settings = self._settings.doe_algo_settings\n    doe_algo_settings.eval_jac = compute_jacobian\n    with LoggingContext(logging.getLogger(\"gemseo\")):\n        self.__doe_algo.execute(\n            problem, eval_obs_jac=compute_jacobian, settings_model=doe_algo_settings\n        )\n\n    io_dataset = problem.to_dataset(opt_naming=False, export_gradients=True)\n    if not self.threshold:\n        names_to_sizes = {\n            name: len(\n                io_dataset.get_variable_components(io_dataset.OUTPUT_GROUP, name)\n            )\n            for name in io_dataset.output_names\n        }\n        self.threshold = self.__compute_threshold(\n            names_to_sizes, self.quality_threshold\n        )\n        self.cv_threshold = self.__compute_threshold(\n            names_to_sizes, self.quality_cv_threshold\n        )\n\n    return io_dataset\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce/#gemseo_umdo.formulations.pce.PCE.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/pce_settings/","title":"Pce settings","text":""},{"location":"reference/gemseo_umdo/formulations/pce_settings/#gemseo_umdo.formulations.pce_settings","title":"pce_settings","text":"<p>Settings for the PCE-based U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/pce_settings/#gemseo_umdo.formulations.pce_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/pce_settings/#gemseo_umdo.formulations.pce_settings.PCE_Settings","title":"PCE_Settings","text":"<p>               Bases: <code>Surrogate_Settings</code></p> <p>The settings for the PCE-based U-MDO formulation.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p> <code>regressor_settings</code> <p>The PCE settings.</p> <p> TYPE: <code>PCERegressor_Settings</code> DEFAULT: <code>PCERegressor_Settings(transformer={}, parameters={}, input_names=(), output_names=(), probability_space=None, degree=2, discipline=None, use_quadrature=False, use_lars=False, use_cleaning=False, hyperbolic_parameter=1.0, n_quadrature_points=0, cleaning_options=None)</code> </p> <code>regressor_n_samples</code> <p>The number of Monte Carlo samples to estimate the statistics from the regressor.</p> <p> TYPE: <code>int</code> DEFAULT: <code>10000</code> </p> <code>regressor_sampling_seed</code> <p>The seed of the Monte Carlo sampler.</p> <p> TYPE: <code>int</code> DEFAULT: <code>0</code> </p> <code>quality_name</code> <p>The name of the measure to assess the quality of the regressor.</p> <p> TYPE: <code>str</code> DEFAULT: <code>'R2Measure'</code> </p> <code>quality_threshold</code> <p>The learning quality threshold below which a warning is logged.</p> <p> TYPE: <code>float | Mapping[str, Union[float, Sequence[float]]]</code> DEFAULT: <code>0.9</code> </p> <code>quality_cv_compute</code> <p>Whether to estimate the quality by cross-validation (CV).</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>quality_cv_n_folds</code> <p>The number of folds in the case of the CV technique.</p> <p> TYPE: <code>int</code> DEFAULT: <code>5</code> </p> <code>quality_cv_randomize</code> <p>Whether to shuffle the samples before dividing them in folds in the case of the CV technique.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>quality_cv_seed</code> <p>The seed of the pseudo-random number generator.</p> <p>If <code>None</code>, an unpredictable generator is used.</p> <p> TYPE: <code>Annotated[int, Ge(ge=0)] | None</code> DEFAULT: <code>None</code> </p> <code>quality_cv_threshold</code> <p>The CV quality threshold below which a warning is logged.</p> <p> TYPE: <code>float | Mapping[str, Union[float, Sequence[float]]]</code> DEFAULT: <code>0.8</code> </p> <code>approximate_statistics_jacobians</code> <p>Whether to approximate the Jacobian of the mean, standard deviation and variance of the PCE using the technique proposed in Section II.C.3 of a paper by Mura et al.[@Mura2020].</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>differentiation_step</code> <p>The differentiation step for the technique proposed in Section II.C.3 of a paper by Mura et al.[@Mura2020].</p> <p> TYPE: <code>float</code> DEFAULT: <code>1e-06</code> </p>"},{"location":"reference/gemseo_umdo/formulations/sampling/","title":"Sampling","text":""},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling","title":"sampling","text":"<p>Sampling-based U-MDO formulation.</p> <p>Sampling is an BaseUMDOFormulation estimating the statistics with (quasi) Monte Carlo techniques.</p> <p>E.g.</p> \\[\\mathbb{E}[f(x,U)] \\approx \\frac{1}{N}\\sum_{i=1}^N f\\left(x,U^{(i)}\\right)\\] <p>or</p> \\[\\mathbb{V}[f(x,U)] \\approx \\frac{1}{N}\\sum_{i=1}^N \\left(f\\left(x,U^{(i)}\\right)- \\frac{1}{N}\\sum_{j=1}^N f\\left(x,U^{(j)}\\right)\\right)^2\\] <p>where \\(U\\) is normally distributed with mean \\(\\mu\\) and variance \\(\\sigma^2\\) and \\(U^{(1)},\\ldots,U^{(N)}\\) are \\(N\\) realizations of \\(U\\) obtained with an optimized Latin hypercube sampling technique.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling","title":"Sampling","text":"<pre><code>Sampling(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Sampling_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>BaseUMDOFormulation</code></p> <p>Sampling-based U-MDO formulation.</p> <p>DOE algorithms</p> <p>This formulation uses a DOE algorithm; read the GEMSEO documentation. for more information about the available DOE algorithm names and options.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>Sampling_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/sampling.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Sampling_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    self.callbacks = []\n    self.jacobian_callbacks = []\n    self.input_data_to_output_samples = {}\n    if settings_model.samples_directory_path:\n        self.__samples_directory_path = Path(settings_model.samples_directory_path)\n        self.__samples_directory_path.mkdir()\n        settings_model.estimate_statistics_iteratively = False\n    else:\n        self.__samples_directory_path = \"\"\n\n    estimate_statistics_iteratively = settings_model.estimate_statistics_iteratively\n    if estimate_statistics_iteratively:\n        self._statistic_factory = IterativeSamplingEstimatorFactory()\n        self._statistic_function_class = StatisticFunctionForIterativeSampling\n    else:\n        self._statistic_factory = SamplingEstimatorFactory()\n        self._statistic_function_class = StatisticFunctionForStandardSampling\n\n    doe_algo_settings = settings_model.doe_algo_settings\n    doe_algo_settings.use_database = not estimate_statistics_iteratively\n    algo_name = doe_algo_settings._TARGET_CLASS_NAME\n    self.__doe_algo = DOELibraryFactory().create(algo_name)\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n    mdo_formulation = self._mdo_formulation.__class__.__name__\n    formulation = self.__class__.__name__\n    self.name = f\"{formulation}[{mdo_formulation}; {algo_name}\"\n    if \"n_samples\" in doe_algo_settings.model_fields:\n        self.name += f\"({doe_algo_settings.n_samples})]\"\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.callbacks","title":"callbacks  <code>instance-attribute</code>","text":"<pre><code>callbacks: list[CallbackType] = []\n</code></pre> <p>The callback functions for the DOE algorithm when computing the output data.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.jacobian_callbacks","title":"jacobian_callbacks  <code>instance-attribute</code>","text":"<pre><code>jacobian_callbacks: list[CallbackType] = []\n</code></pre> <p>The callback functions for the DOE algorithm when computing the Jacobian.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.compute_samples","title":"compute_samples","text":"<pre><code>compute_samples(\n    problem: OptimizationProblem,\n    input_data: RealArray,\n    compute_jacobian: bool = False,\n) -&gt; None\n</code></pre> <p>Evaluate the functions of a problem with a DOE algorithm.</p> PARAMETER DESCRIPTION <code>problem</code> <p>The sampling problem.</p> <p> TYPE: <code>OptimizationProblem</code> </p> <code>input_data</code> <p>The input point at which to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>compute_jacobian</code> <p>Whether to compute the Jacobian of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/formulations/sampling.py</code> <pre><code>def compute_samples(\n    self,\n    problem: OptimizationProblem,\n    input_data: RealArray,\n    compute_jacobian: bool = False,\n) -&gt; None:\n    \"\"\"Evaluate the functions of a problem with a DOE algorithm.\n\n    Args:\n        problem: The sampling problem.\n        input_data: The input point at which to estimate the statistic.\n        compute_jacobian: Whether to compute the Jacobian of the objective.\n    \"\"\"\n    doe_algo_settings = self._settings.doe_algo_settings\n    original_callbacks = doe_algo_settings.callbacks\n    new_callbacks = self.jacobian_callbacks if compute_jacobian else self.callbacks\n    doe_algo_settings.callbacks = list(original_callbacks) + new_callbacks\n    doe_algo_settings.eval_jac = compute_jacobian\n    with LoggingContext(logging.getLogger(\"gemseo\"), level=logging.ERROR):\n        self.__doe_algo.execute(\n            problem, eval_obs_jac=compute_jacobian, settings_model=doe_algo_settings\n        )\n\n    if self.__samples_directory_path:\n        main_problem = self.optimization_problem\n        iteration = main_problem.evaluation_counter.current + 1\n        dataset = problem.to_dataset(f\"Iteration {iteration}\", opt_naming=False)\n        dataset.misc.update(\n            main_problem.design_space.convert_array_to_dict(input_data)\n        )\n        to_pickle(dataset, self.__samples_directory_path / f\"{iteration}.pkl\")\n\n    doe_algo_settings.callbacks = original_callbacks\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling/#gemseo_umdo.formulations.sampling.Sampling.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sampling_settings/","title":"Sampling settings","text":""},{"location":"reference/gemseo_umdo/formulations/sampling_settings/#gemseo_umdo.formulations.sampling_settings","title":"sampling_settings","text":"<p>Settings for the sampling-based U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/sampling_settings/#gemseo_umdo.formulations.sampling_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/sampling_settings/#gemseo_umdo.formulations.sampling_settings.Sampling_Settings","title":"Sampling_Settings","text":"<p>               Bases: <code>BaseSamplingSettings</code></p> <p>The settings for the sampling-based U-MDO formulation.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p> <code>estimate_statistics_iteratively</code> <p>Whether to estimate the statistics iteratively.</p> <p>This can be useful for memory reasons.</p> <p>This argument is ignored when <code>samples_directory_path</code> is defined; in this case, the statistics are not estimated iteratively.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>samples_directory_path</code> <p>The path to a new directory where the samples stored as <code>IODataset</code> objects will be saved (one object per file, one file per iteration). This directory must not exist; it will be created by the formulation. If empty, do not save the samples.</p> <p> TYPE: <code>str | Path</code> DEFAULT: <code>''</code> </p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/","title":"Sequential sampling","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling","title":"sequential_sampling","text":"<p>Sequential sampling-based U-MDO formulation.</p> <p>SequentialSampling is a BaseUMDOFormulation estimating the statistics with sequential (quasi) Monte Carlo techniques.</p> <p>E.g.</p> \\[\\mathbb{E}[f(x,U)] \\approx \\frac{1}{N_k}\\sum_{i=1}^{N_k} f\\left(x,U^{(k,i)}\\right)\\] <p>or</p> \\[\\mathbb{V}[f(x,U)] \\approx \\frac{1}{N_k-1}\\sum_{i=1}^{N_k} \\left(f\\left(x,U^{(k,i)}\\right)- \\frac{1}{N_k}\\sum_{j=1}^{N_k} f\\left(x,U^{(k,j)}\\right)\\right)^2\\] <p>where \\(U\\) is normally distributed with mean \\(\\mu\\) and variance \\(\\sigma^2\\) and \\(U^{(k,1)},\\ldots,U^{(k,N_k)}\\) are \\(N_k\\) realizations of \\(U\\) obtained at the \\(k\\)-th iteration of the optimization loop with an optimized Latin hypercube sampling technique.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling","title":"SequentialSampling","text":"<pre><code>SequentialSampling(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: SequentialSampling_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>Sampling</code></p> <p>Sequential sampling-based U-MDO formulation.</p> <p>DOE algorithms</p> <p>This formulation uses a DOE algorithm; read the GEMSEO documentation. for more information about the available DOE algorithm names and options.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>SequentialSampling_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/sequential_sampling.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: SequentialSampling_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    self.__final_n_samples = settings_model.doe_algo_settings.n_samples\n    settings_model.doe_algo_settings.n_samples = settings_model.initial_n_samples\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.callbacks","title":"callbacks  <code>instance-attribute</code>","text":"<pre><code>callbacks: list[CallbackType] = []\n</code></pre> <p>The callback functions for the DOE algorithm when computing the output data.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.jacobian_callbacks","title":"jacobian_callbacks  <code>instance-attribute</code>","text":"<pre><code>jacobian_callbacks: list[CallbackType] = []\n</code></pre> <p>The callback functions for the DOE algorithm when computing the Jacobian.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.compute_samples","title":"compute_samples","text":"<pre><code>compute_samples(\n    problem: OptimizationProblem,\n    input_data: RealArray,\n    compute_jacobian: bool = False,\n) -&gt; None\n</code></pre> <p>Evaluate the functions of a problem with a DOE algorithm.</p> PARAMETER DESCRIPTION <code>problem</code> <p>The sampling problem.</p> <p> TYPE: <code>OptimizationProblem</code> </p> <code>input_data</code> <p>The input point at which to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>compute_jacobian</code> <p>Whether to compute the Jacobian of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/formulations/sequential_sampling.py</code> <pre><code>def compute_samples(  # noqa: D102\n    self,\n    problem: OptimizationProblem,\n    input_data: RealArray,\n    compute_jacobian: bool = False,\n) -&gt; None:\n    super().compute_samples(problem, input_data, compute_jacobian=compute_jacobian)\n    doe_algo_settings = self._settings.doe_algo_settings\n    if doe_algo_settings.n_samples &lt; self.__final_n_samples:\n        doe_algo_settings.n_samples = min(\n            self.__final_n_samples,\n            doe_algo_settings.n_samples + self._settings.n_samples_increment,\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling/#gemseo_umdo.formulations.sequential_sampling.SequentialSampling.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling_settings/","title":"Sequential sampling settings","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling_settings/#gemseo_umdo.formulations.sequential_sampling_settings","title":"sequential_sampling_settings","text":"<p>Settings for the sequential sampling-based U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/sequential_sampling_settings/#gemseo_umdo.formulations.sequential_sampling_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/sequential_sampling_settings/#gemseo_umdo.formulations.sequential_sampling_settings.SequentialSampling_Settings","title":"SequentialSampling_Settings","text":"<p>               Bases: <code>Sampling_Settings</code></p> <p>The settings for the sequential sampling-based U-MDO formulation.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseNSamplesBasedDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p> <code>estimate_statistics_iteratively</code> <p>Whether to estimate the statistics iteratively.</p> <p>This can be useful for memory reasons.</p> <p>This argument is ignored when <code>samples_directory_path</code> is defined; in this case, the statistics are not estimated iteratively.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>samples_directory_path</code> <p>The path to a new directory where the samples stored as <code>IODataset</code> objects will be saved (one object per file, one file per iteration). This directory must not exist; it will be created by the formulation. If empty, do not save the samples.</p> <p> TYPE: <code>str | Path</code> DEFAULT: <code>''</code> </p> <code>initial_n_samples</code> <p>The initial sampling size.</p> <p> TYPE: <code>int</code> DEFAULT: <code>2</code> </p> <code>n_samples_increment</code> <p>The increment of the sampling size.</p> <p> TYPE: <code>int</code> DEFAULT: <code>1</code> </p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/","title":"Surrogate","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate","title":"surrogate","text":"<p>Surrogate-based U-MDO formulation.</p> <p>Surrogate is an BaseUMDOFormulation estimating the statistics with (quasi) Monte Carlo techniques applied to a surrogate model.</p> <p>E.g.</p> \\[\\mathbb{E}[f(x,U)] \\approx \\frac{1}{N}\\sum_{i=1}^N \\hat{f}_x\\left(U^{(i)}\\right)\\] <p>or</p> \\[\\mathbb{V}[f(x,U)] \\approx \\frac{1}{N}\\sum_{i=1}^N \\left(\\hat{f}_x\\left(U^{(i)}\\right)- \\frac{1}{N}\\sum_{j=1}^N \\hat{f}_x\\left(U^{(j)}\\right)\\right)^2\\] <p>where \\(\\hat{f}_x\\) is a surrogate model of \\(f\\) at \\(x\\), \\(U\\) is normally distributed with mean \\(\\mu\\) and variance \\(\\sigma^2\\) and \\(U^{(1)},\\ldots,U^{(N)}\\) are \\(N\\) realizations of \\(U\\) obtained with an optimized Latin hypercube sampling technique.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate","title":"Surrogate","text":"<pre><code>Surrogate(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Surrogate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>BaseUMDOFormulation</code></p> <p>Surrogate-based U-MDO formulation.</p> <p>DOE algorithms</p> <p>This formulation uses a DOE algorithm; read the GEMSEO documentation. for more information about the available DOE algorithm names and options.</p> <p>Regression algorithms</p> <p>This formulation uses a regression algorithm; read the GEMSEO documentation. for more information about the available regression algorithm names and options.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>Surrogate_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/surrogate.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: Surrogate_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    algo_name = settings_model.doe_algo_settings._TARGET_CLASS_NAME\n    self.input_data_to_output_samples = {}\n    self.__doe_algo = DOELibraryFactory().create(algo_name)\n    self._estimators = []\n    self.input_samples = uncertain_space.convert_array_to_dict(\n        SciPyDOE(\"MC\").compute_doe(\n            uncertain_space,\n            n_samples=settings_model.regressor_n_samples,\n            seed=settings_model.regressor_sampling_seed,\n        )\n    )\n    self.quality = RegressorQualityFactory().get_class(settings_model.quality_name)\n    if settings_model.quality_cv_compute:\n        self.quality_cv_options = {\n            \"n_folds\": settings_model.quality_cv_n_folds,\n            \"seed\": settings_model.quality_cv_seed,\n            \"randomize\": settings_model.quality_cv_randomize,\n        }\n    else:\n        self.quality_cv_options = {}\n\n    self.quality_threshold = settings_model.quality_threshold\n    self.quality_cv_threshold = settings_model.quality_cv_threshold\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n    mdo_formulation = self._mdo_formulation.__class__.__name__\n    formulation = self.__class__.__name__\n    smaller_is_better = self.quality.SMALLER_IS_BETTER\n    doe_n_samples = settings_model.n_samples\n    self.name = f\"{formulation}[{mdo_formulation}; {algo_name}({doe_n_samples})]\"\n    self.is_surrogate_quality_bad = gt if smaller_is_better else lt\n    self.quality_operators = (\"&lt;=\", \"&gt;\") if smaller_is_better else (\"&gt;=\", \"&lt;\")\n    self.threshold = {}\n    self.cv_threshold = {}\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.cv_threshold","title":"cv_threshold  <code>instance-attribute</code>","text":"<pre><code>cv_threshold: dict[str, RealArray] = {}\n</code></pre> <p>The cross-validation threshold component-wise.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.input_samples","title":"input_samples  <code>instance-attribute</code>","text":"<pre><code>input_samples: dict[str, RealArray] = convert_array_to_dict(\n    compute_doe(\n        uncertain_space,\n        n_samples=regressor_n_samples,\n        seed=regressor_sampling_seed,\n    )\n)\n</code></pre> <p>The input_samples.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.is_surrogate_quality_bad","title":"is_surrogate_quality_bad  <code>instance-attribute</code>","text":"<pre><code>is_surrogate_quality_bad: Callable[[float, float], bool] = (\n    gt if smaller_is_better else lt\n)\n</code></pre> <p>A function to indicate if the regressor is good for an output component.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.quality","title":"quality  <code>instance-attribute</code>","text":"<pre><code>quality: type[BaseRegressorQuality] = get_class(\n    quality_name\n)\n</code></pre> <p>The class to assess the quality of the regressor.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.quality_cv_options","title":"quality_cv_options  <code>instance-attribute</code>","text":"<pre><code>quality_cv_options: dict[str, bool | int | None]\n</code></pre> <p>The options of the CV technique; if empty, do not use it.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.quality_cv_threshold","title":"quality_cv_threshold  <code>instance-attribute</code>","text":"<pre><code>quality_cv_threshold: (\n    float | Mapping[str, float | Iterable[float]]\n) = quality_cv_threshold\n</code></pre> <p>The CV quality threshold below which a warning is logged.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.quality_operators","title":"quality_operators  <code>instance-attribute</code>","text":"<pre><code>quality_operators: tuple[str, str] = (\n    (\"&lt;=\", \"&gt;\") if smaller_is_better else (\"&gt;=\", \"&lt;\")\n)\n</code></pre> <p>The operators <code>(o1, o2)</code> to compare the quality of the regressor and a threshold.</p> <p>\"A o1 B\" means that A is better or equal to B. \"A o2 B\" means that A is less good than B.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.quality_threshold","title":"quality_threshold  <code>instance-attribute</code>","text":"<pre><code>quality_threshold: (\n    float | Mapping[str, float | Iterable[float]]\n) = quality_threshold\n</code></pre> <p>The learning quality threshold below which a warning is logged.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.threshold","title":"threshold  <code>instance-attribute</code>","text":"<pre><code>threshold: dict[str, RealArray] = {}\n</code></pre> <p>The learning quality threshold component-wise.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the constraint.\n        statistic_parameters: The values of the parameters of the statistic\n            to be applied to the constraint, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(output_name)\n\n    self._mdo_formulation.add_observable(output_name)\n    constraint = self._statistic_function_class(\n        self,\n        self._mdo_formulation.optimization_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    name = self.__compute_name(output_name, statistic_name, **statistic_parameters)\n    constraint.output_names = [name]\n    if constraint_name:\n        constraint.name = constraint_name\n        constraint.has_default_name = False\n    else:\n        constraint.name = name\n        constraint.has_default_name = True\n    self.optimization_problem.add_constraint(\n        constraint,\n        value=value,\n        positive=positive,\n        constraint_type=constraint_type,\n    )\n    self._post_add_constraint()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic to be applied to the observable.\n        statistic_parameters: The values of the parameters\n            of the statistic to be applied to the observable, if any.\n    \"\"\"  # noqa: D205 D212 D415\n    if self._auxiliary_mdo_formulation is not None:\n        self._auxiliary_mdo_formulation.add_observable(\n            output_names,\n            observable_name=observable_name,\n            discipline=discipline,\n        )\n\n    self._mdo_formulation.add_observable(\n        output_names,\n        observable_name=observable_name,\n        discipline=discipline,\n    )\n    sub_opt_problem = self._mdo_formulation.optimization_problem\n    observable = self._statistic_function_class(\n        self,\n        sub_opt_problem.observables[-1].name,\n        MDOFunction.FunctionType.NONE,\n        statistic_name,\n        **statistic_parameters,\n    )\n    observable.name = self.__compute_name(\n        observable_name or output_names, statistic_name, **statistic_parameters\n    )\n    self.optimization_problem.add_observable(observable)\n    self._post_add_observable()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.compute_samples","title":"compute_samples","text":"<pre><code>compute_samples(\n    problem: OptimizationProblem,\n    compute_jacobian: bool = False,\n) -&gt; IODataset\n</code></pre> <p>Evaluate the functions of a problem with a DOE algorithm.</p> PARAMETER DESCRIPTION <code>problem</code> <p>The problem.</p> <p> TYPE: <code>OptimizationProblem</code> </p> <code>compute_jacobian</code> <p>Whether to compute the Jacobian of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/formulations/surrogate.py</code> <pre><code>def compute_samples(\n    self, problem: OptimizationProblem, compute_jacobian: bool = False\n) -&gt; IODataset:\n    \"\"\"Evaluate the functions of a problem with a DOE algorithm.\n\n    Args:\n        problem: The problem.\n        compute_jacobian: Whether to compute the Jacobian of the objective.\n    \"\"\"\n    doe_algo_settings = self._settings.doe_algo_settings\n    doe_algo_settings.eval_jac = compute_jacobian\n    with LoggingContext(logging.getLogger(\"gemseo\")):\n        self.__doe_algo.execute(\n            problem, eval_obs_jac=compute_jacobian, settings_model=doe_algo_settings\n        )\n\n    io_dataset = problem.to_dataset(opt_naming=False, export_gradients=True)\n    if not self.threshold:\n        names_to_sizes = {\n            name: len(\n                io_dataset.get_variable_components(io_dataset.OUTPUT_GROUP, name)\n            )\n            for name in io_dataset.output_names\n        }\n        self.threshold = self.__compute_threshold(\n            names_to_sizes, self.quality_threshold\n        )\n        self.cv_threshold = self.__compute_threshold(\n            names_to_sizes, self.quality_cv_threshold\n        )\n\n    return io_dataset\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate/#gemseo_umdo.formulations.surrogate.Surrogate.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/surrogate_settings/","title":"Surrogate settings","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate_settings/#gemseo_umdo.formulations.surrogate_settings","title":"surrogate_settings","text":"<p>Settings for the surrogate-based U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/surrogate_settings/#gemseo_umdo.formulations.surrogate_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/surrogate_settings/#gemseo_umdo.formulations.surrogate_settings.Surrogate_Settings","title":"Surrogate_Settings","text":"<p>               Bases: <code>BaseSamplingSettings</code></p> <p>The settings for the surrogate-based U-MDO formulation.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of samples to be generated by the DOE algorithm.</p> <p>If <code>None</code>, this field is ignored.</p> <p>If not <code>None</code>, the field <code>doe_algo_settings.n_samples</code> is ignored.</p> <p> TYPE: <code>Annotated[int, Gt(gt=0)] | None</code> DEFAULT: <code>None</code> </p> <code>doe_algo_settings</code> <p>The DOE settings.</p> <p> TYPE: <code>BaseDOESettings</code> DEFAULT: <code>OT_OPT_LHS_Settings(enable_progress_bar=None, eq_tolerance=0.01, ineq_tolerance=0.0001, log_problem=True, max_time=0.0, normalize_design_space=False, reset_iteration_counters=True, round_ints=True, use_database=True, use_one_line_progress_bar=False, store_jacobian=True, eval_func=True, eval_jac=False, n_processes=1, wait_time_between_samples=0.0, callbacks=(), n_samples=10, seed=0, temperature=&lt;TemperatureProfile.GEOMETRIC: 'Geometric'&gt;, criterion=&lt;SpaceFillingCriterion.C2: 'C2'&gt;, annealing=True, n_replicates=1000)</code> </p> <code>regressor_settings</code> <p>The regressor settings.</p> <p> TYPE: <code>BaseRegressorSettings</code> DEFAULT: <code>RBFRegressor_Settings(transformer={}, parameters={}, input_names=(), output_names=(), function=&lt;RBF.MULTIQUADRIC: 'multiquadric'&gt;, der_function=None, epsilon=None, smooth=0.0, norm='euclidean')</code> </p> <code>regressor_n_samples</code> <p>The number of Monte Carlo samples to estimate the statistics from the regressor.</p> <p> TYPE: <code>int</code> DEFAULT: <code>10000</code> </p> <code>regressor_sampling_seed</code> <p>The seed of the Monte Carlo sampler.</p> <p> TYPE: <code>int</code> DEFAULT: <code>0</code> </p> <code>quality_name</code> <p>The name of the measure to assess the quality of the regressor.</p> <p> TYPE: <code>str</code> DEFAULT: <code>'R2Measure'</code> </p> <code>quality_threshold</code> <p>The learning quality threshold below which a warning is logged.</p> <p> TYPE: <code>float | Mapping[str, Union[float, Sequence[float]]]</code> DEFAULT: <code>0.9</code> </p> <code>quality_cv_compute</code> <p>Whether to estimate the quality by cross-validation (CV).</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>quality_cv_n_folds</code> <p>The number of folds in the case of the CV technique.</p> <p> TYPE: <code>int</code> DEFAULT: <code>5</code> </p> <code>quality_cv_randomize</code> <p>Whether to shuffle the samples before dividing them in folds in the case of the CV technique.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>quality_cv_seed</code> <p>The seed of the pseudo-random number generator.</p> <p>If <code>None</code>, an unpredictable generator is used.</p> <p> TYPE: <code>Annotated[int, Ge(ge=0)] | None</code> DEFAULT: <code>None</code> </p> <code>quality_cv_threshold</code> <p>The CV quality threshold below which a warning is logged.</p> <p> TYPE: <code>float | Mapping[str, Union[float, Sequence[float]]]</code> DEFAULT: <code>0.8</code> </p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/","title":"Taylor polynomial","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial","title":"taylor_polynomial","text":"<p>U-MDO formulation based on Taylor polynomials.</p> <p>TaylorPolynomial is an BaseUMDOFormulation estimating the statistics with first- or second-order Taylor polynomials around the expectation of the uncertain variables:</p> \\[f(x,U)\\approx f(x,\\mu) + (U-\\mu)f'(x,\\mu).\\] <p>E.g.</p> \\[\\mathbb{E}[f(x,U)]\\approx \\frac{1}{N}\\sum_{i=1}^N f\\left(x,U^{(i)}\\right)\\] <p>or</p> \\[\\mathbb{V}[f(x,U)]\\approx \\sigma^2f'(x,\\mu)\\] <p>where \\(U\\) is normally distributed with mean \\(\\mu\\) and variance \\(\\sigma^2\\).</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial","title":"TaylorPolynomial","text":"<pre><code>TaylorPolynomial(\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: TaylorPolynomial_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n)\n</code></pre> <p>               Bases: <code>BaseUMDOFormulation</code></p> <p>U-MDO formulation based on Taylor polynomials.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>objective_name</code> <p>The name(s) of the discipline output(s) used as objective. If multiple names are passed, the objective will be a vector.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The design space.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>mdo_formulation</code> <p>The MDO formulation generating functions evaluable over the uncertain space and differentiable with respect to the design variables.</p> <p> TYPE: <code>BaseMDOFormulation</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective.</p> <p> TYPE: <code>str</code> </p> <code>settings_model</code> <p>The settings of the formulation as a Pydantic model. If <code>None</code>, use <code>**settings</code>.</p> <p> TYPE: <code>TaylorPolynomial_Settings</code> </p> <code>objective_statistic_parameters</code> <p>The values of the parameters of the statistic to be applied to the objective, if any.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>mdo_formulation_settings</code> <p>The settings of the MDO formulation.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> Source code in <code>src/gemseo_umdo/formulations/taylor_polynomial.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    disciplines: Sequence[Discipline],\n    objective_name: str,\n    design_space: DesignSpace,\n    mdo_formulation: BaseMDOFormulation,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    settings_model: TaylorPolynomial_Settings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    mdo_formulation_settings: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; None:\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        mdo_formulation,\n        uncertain_space,\n        objective_statistic_name,\n        settings_model,\n        objective_statistic_parameters=objective_statistic_parameters,\n        mdo_formulation_settings=mdo_formulation_settings,\n    )\n\n    self.__hessian_fd_problem = None\n    problem = self._auxiliary_mdo_formulation.optimization_problem\n    if settings_model.second_order:\n        self.__hessian_fd_problem = OptimizationProblem(self.uncertain_space)\n        self.__hessian_fd_problem.objective = HessianFunction(problem.objective)\n\n    problem.differentiation_method = settings_model.differentiation_method\n    problem.design_space = problem.design_space.to_design_space()\n    self.optimization_problem.differentiation_method = (\n        self.optimization_problem.ApproximationMode.FINITE_DIFFERENCES\n    )\n    self.optimization_problem.fd_step = 1e-6\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.auxiliary_mdo_formulation","title":"auxiliary_mdo_formulation  <code>property</code>","text":"<pre><code>auxiliary_mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The auxiliary MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the uncertain variables.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the statistics to quantify the output uncertainties.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.hessian_fd_problem","title":"hessian_fd_problem  <code>property</code>","text":"<pre><code>hessian_fd_problem: OptimizationProblem | None\n</code></pre> <p>The problem related to the approximation of the Hessian.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.input_data_to_output_data","title":"input_data_to_output_data  <code>instance-attribute</code>","text":"<pre><code>input_data_to_output_data: dict[\n    HashableNdarray, dict[str, Any]\n] = {}\n</code></pre> <p>The output samples or output statistics associated with the input data.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation.</p> <p>The functions are evaluable over the uncertain space and differentiable with respect to the design variables.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.second_order","title":"second_order  <code>property</code>","text":"<pre><code>second_order: bool\n</code></pre> <p>Whether to use a second order approximation.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an equality or inequality constraint to the optimization problem.</p> <p>An equality constraint is written as :math:<code>c(x)=a</code>, a positive inequality constraint is written as :math:<code>c(x)\\geq a</code> and a negative inequality constraint is written as :math:<code>c(x)\\leq a</code>.</p> <p>This constraint is in addition to those created by the formulation, e.g. consistency constraints in IDF.</p> <p>The strategy of repartition of the constraints is defined by the formulation.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name(s) of the outputs computed by :math:<code>c(x)</code>. If several names are given, a single discipline must provide all outputs.</p> <p> TYPE: <code>str | Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint.</p> <p> TYPE: <code>str</code> </p> <code>constraint_type</code> <p>The type of constraint.</p> <p> TYPE: <code>ConstraintType</code> DEFAULT: <code>INEQ</code> </p> <code>constraint_name</code> <p>The name of the constraint to be stored. If empty, the name of the constraint is generated from <code>output_name</code>, <code>constraint_type</code>, <code>value</code> and <code>positive</code>.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>value</code> <p>The value :math:<code>a</code>.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>positive</code> <p>Whether the inequality constraint is positive.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/taylor_polynomial.py</code> <pre><code>def add_constraint(  # noqa: D102\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0.0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    super().add_constraint(\n        output_name,\n        statistic_name,\n        constraint_type=constraint_type,\n        constraint_name=constraint_name,\n        value=value,\n        positive=positive,\n        **statistic_parameters,\n    )\n    if self.hessian_fd_problem is not None:\n        self.hessian_fd_problem.add_observable(\n            HessianFunction(\n                self._auxiliary_mdo_formulation.optimization_problem.observables[-1]\n            )\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: Sequence[str] = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> <p>Add an observable to the optimization problem.</p> <p>The repartition strategy of the observable is defined in the formulation class.</p> PARAMETER DESCRIPTION <code>output_names</code> <p>The name(s) of the output(s) to observe.</p> <p> TYPE: <code>Sequence[str]</code> </p> <code>statistic_name</code> <p>The name of the statistic to be applied to the observable.</p> <p> TYPE: <code>str</code> </p> <code>observable_name</code> <p>The name of the observable. If empty, the output name is used by default.</p> <p> TYPE: <code>Sequence[str]</code> DEFAULT: <code>''</code> </p> <code>discipline</code> <p>The discipline computing the observed outputs. If <code>None</code>, the discipline is detected from inner disciplines.</p> <p> TYPE: <code>Discipline | None</code> DEFAULT: <code>None</code> </p> <code>**statistic_parameters</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/taylor_polynomial.py</code> <pre><code>def add_observable(  # noqa: D102\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: Sequence[str] = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    super().add_observable(\n        output_names,\n        statistic_name,\n        observable_name=observable_name,\n        discipline=discipline,\n        **statistic_parameters,\n    )\n    if self.hessian_fd_problem is not None:\n        self.hessian_fd_problem.add_observable(\n            HessianFunction(\n                self._auxiliary_mdo_formulation.optimization_problem.observables[-1]\n            ),\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.get_top_level_disciplines","title":"get_top_level_disciplines","text":"<pre><code>get_top_level_disciplines() -&gt; list[Discipline]\n</code></pre> <p>Return the top level disciplines that are executed in the foreground.</p> <p>A formulation structures the optimization problem into multiple levels of disciplines. The top level disciplines map from the :attr:<code>.design_space</code> to the objective, constraint and observable spaces. They can be composed of both user disciplines and process disciplines added by the formulation, e.g. :class:<code>.MDOChain</code>. These process disciplines may also include both user disciplines and process disciplines, and so on.</p> RETURNS DESCRIPTION <code>list[Discipline]</code> <p>The top level disciplines.</p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def get_top_level_disciplines(self) -&gt; list[Discipline]:  # noqa: D102\n    return self._mdo_formulation.get_top_level_disciplines()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial/#gemseo_umdo.formulations.taylor_polynomial.TaylorPolynomial.update_top_level_disciplines","title":"update_top_level_disciplines","text":"<pre><code>update_top_level_disciplines(\n    design_values: RealArray,\n) -&gt; None\n</code></pre> <p>Update the default input values of the top-level disciplines.</p> PARAMETER DESCRIPTION <code>design_values</code> <p>The values of the design variables to update the default input values of the top-level disciplines.</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/formulations/base_umdo_formulation.py</code> <pre><code>def update_top_level_disciplines(self, design_values: RealArray) -&gt; None:\n    \"\"\"Update the default input values of the top-level disciplines.\n\n    Args:\n        design_values: The values of the design variables\n            to update the default input values of the top-level disciplines.\n    \"\"\"\n    design_values = split_array_to_dict_of_arrays(\n        design_values,\n        self.design_space.variable_sizes,\n        self.design_space.variable_names,\n    )\n    for formulation in [self._mdo_formulation, self._auxiliary_mdo_formulation]:\n        if formulation is None:\n            continue\n\n        all_top_level_disciplines = [formulation.get_top_level_disciplines()]\n        # TODO: remove this block and find a more generic way of handling this case.\n        if isinstance(formulation, BiLevel):\n            all_top_level_disciplines.extend(\n                scenario_adapter.scenario.formulation.get_top_level_disciplines()\n                for scenario_adapter in formulation.scenario_adapters\n            )\n\n        for top_level_disciplines in all_top_level_disciplines:\n            for discipline in top_level_disciplines:\n                input_grammar = discipline.io.input_grammar\n                to_value = input_grammar.data_converter.convert_array_to_value\n                input_grammar.defaults.update({\n                    name: to_value(name, value)\n                    for name, value in design_values.items()\n                    if name in input_grammar\n                })\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial_settings/","title":"Taylor polynomial settings","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial_settings/#gemseo_umdo.formulations.taylor_polynomial_settings","title":"taylor_polynomial_settings","text":"<p>Settings for the U-MDO formulation based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial_settings/#gemseo_umdo.formulations.taylor_polynomial_settings-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/taylor_polynomial_settings/#gemseo_umdo.formulations.taylor_polynomial_settings.TaylorPolynomial_Settings","title":"TaylorPolynomial_Settings","text":"<p>               Bases: <code>BaseUMDOFormulationSettings</code></p> <p>The settings for the U-MDO formulation based on Taylor polynomials.</p> PARAMETER DESCRIPTION <code>differentiation_method</code> <p>The type of method to compute the gradients.</p> <p> TYPE: <code>DifferentiationMethod</code> DEFAULT: <code>&lt;DifferentiationMethod.USER_GRAD: 'user'&gt;</code> </p> <code>second_order</code> <p>Whether to use second-order Taylor polynomials instead of first-order Taylor polynomials.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p>"},{"location":"reference/gemseo_umdo/formulations/_functions/","title":"functions","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/#gemseo_umdo.formulations._functions","title":"_functions","text":"<p>Functions to estimate statistics from a [BaseUMDOFormulation][gemseo_umdo.formulatio ns.base_umdo_formulation.BaseUMDOFormulation].</p> <p>The base function is a BaseStatisticFunction and derives from an MDOFunction. Most of the other _functions derive from BaseStatisticFunction and are associated with an BaseUMDOFormulation, e.g. Sampling. and TaylorPolynomial. The other modules are helpers.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function/","title":"Base statistic function","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function/#gemseo_umdo.formulations._functions.base_statistic_function","title":"base_statistic_function","text":"<p>A function to compute a statistic from a <code>BaseUMDOFormulation</code>.</p> <p>See Also: BaseUMDOFormulation.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function/#gemseo_umdo.formulations._functions.base_statistic_function-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function/#gemseo_umdo.formulations._functions.base_statistic_function.BaseStatisticFunction","title":"BaseStatisticFunction","text":"<pre><code>BaseStatisticFunction(\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>MDOFunction</code>, <code>Generic[UMDOFormulationT]</code></p> <p>A function to estimate a statistic from a U-MDO formulation.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/base_statistic_function.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        umdo_formulation: The U-MDO formulation\n            associated with the output of interest.\n        output_name: The name of the output of interest.\n        function_type: The type of function.\n        statistic_operator_name: The name of the statistic operator.\n        **statistic_options: The options of the statistic.\n    \"\"\"  # noqa: D205 D212 D415\n    self._output_name = output_name\n    self._output_jac_name = Database.get_gradient_name(output_name)\n    self._umdo_formulation = umdo_formulation\n    self._statistic_estimator = umdo_formulation._statistic_factory.create(\n        statistic_operator_name,\n        *self._statistic_estimator_parameters,\n        **statistic_options,\n    )\n    self._statistic_name = (\n        f\"{self._statistic_estimator.__class__.__name__}[{output_name}]\"\n    )\n    self._statistic_jac_name = Database.get_gradient_name(self._statistic_name)\n    super().__init__(\n        self._func, name=output_name, f_type=function_type, jac=self._jac\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function_for_sampling/","title":"Base statistic function for sampling","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function_for_sampling/#gemseo_umdo.formulations._functions.base_statistic_function_for_sampling","title":"base_statistic_function_for_sampling","text":"<p>A function to compute a statistic from <code>Sampling</code>.</p> <p>See also Sampling.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function_for_sampling/#gemseo_umdo.formulations._functions.base_statistic_function_for_sampling-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/base_statistic_function_for_sampling/#gemseo_umdo.formulations._functions.base_statistic_function_for_sampling.BaseStatisticFunctionForSampling","title":"BaseStatisticFunctionForSampling","text":"<pre><code>BaseStatisticFunctionForSampling(\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunction[UMDOFormulationT]</code></p> <p>A function to compute a statistic from <code>Sampling</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/base_statistic_function.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        umdo_formulation: The U-MDO formulation\n            associated with the output of interest.\n        output_name: The name of the output of interest.\n        function_type: The type of function.\n        statistic_operator_name: The name of the statistic operator.\n        **statistic_options: The options of the statistic.\n    \"\"\"  # noqa: D205 D212 D415\n    self._output_name = output_name\n    self._output_jac_name = Database.get_gradient_name(output_name)\n    self._umdo_formulation = umdo_formulation\n    self._statistic_estimator = umdo_formulation._statistic_factory.create(\n        statistic_operator_name,\n        *self._statistic_estimator_parameters,\n        **statistic_options,\n    )\n    self._statistic_name = (\n        f\"{self._statistic_estimator.__class__.__name__}[{output_name}]\"\n    )\n    self._statistic_jac_name = Database.get_gradient_name(self._statistic_name)\n    super().__init__(\n        self._func, name=output_name, f_type=function_type, jac=self._jac\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/hessian_function/","title":"Hessian function","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/hessian_function/#gemseo_umdo.formulations._functions.hessian_function","title":"hessian_function","text":"<p>A function approximating the Hessian matrix by finite differences.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/hessian_function/#gemseo_umdo.formulations._functions.hessian_function-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/hessian_function/#gemseo_umdo.formulations._functions.hessian_function.HessianFunction","title":"HessianFunction","text":"<pre><code>HessianFunction(func: MDOFunction)\n</code></pre> <p>               Bases: <code>MDOFunction</code></p> <p>A function approximating the Hessian matrix by finite differences.</p> <p>Take an original function and approximate its Hessian with finite differences applied to its analytical or approximated Jacobian.</p> PARAMETER DESCRIPTION <code>func</code> <p>The original function.</p> <p> TYPE: <code>MDOFunction</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/hessian_function.py</code> <pre><code>def __init__(self, func: MDOFunction) -&gt; None:\n    \"\"\"\n    Args:\n        func: The original function.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__jac = func.jac if func.has_jac else FirstOrderFD(func.func).f_gradient\n    grad_tag = Database.GRAD_TAG\n    super().__init__(\n        FirstOrderFD(self._compute_jac).f_gradient,\n        f\"{grad_tag}{grad_tag}{func.name}\",\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/","title":"Iterative estimation","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation","title":"iterative_estimation","text":"<p>A function updating the estimation of a statistic.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation","title":"IterativeEstimation","text":"<pre><code>IterativeEstimation(\n    output_name: str,\n    output_statistic_name: str,\n    statistic_estimator: BaseSamplingEstimator,\n    return_statistic_jacobian: bool = False,\n)\n</code></pre> <p>A functor to estimate a statistic iteratively.</p> <p>Call this functor to update the estimation of the statistic and access the last evaluation with :attr:<code>.last_evaluation</code>.</p> <p>The Sampling U-MDO formulation passes such functors to a DOELibrary as callback functions to update the statistics of the objective, constraints and observables.</p> PARAMETER DESCRIPTION <code>output_name</code> <p>The name of the output for which to estimate the statistic.</p> <p> TYPE: <code>str</code> </p> <code>output_statistic_name</code> <p>The name of the statistic of the output.</p> <p> TYPE: <code>str</code> </p> <code>statistic_estimator</code> <p>The function to update the estimation of the statistic.</p> <p> TYPE: <code>BaseSamplingEstimator</code> </p> <code>return_statistic_jacobian</code> <p>Whether to return the Jacobian of the statistic estimation.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/iterative_estimation.py</code> <pre><code>def __init__(\n    self,\n    output_name: str,\n    output_statistic_name: str,\n    statistic_estimator: BaseSamplingEstimator,\n    return_statistic_jacobian: bool = False,\n) -&gt; None:\n    \"\"\"\n    Args:\n        output_name: The name of the output for which to estimate the statistic.\n        output_statistic_name: The name of the statistic of the output.\n        statistic_estimator: The function to update the estimation of the statistic.\n        return_statistic_jacobian: Whether to return\n            the Jacobian of the statistic estimation.\n    \"\"\"  # noqa: D202 D205 D212 D415\n    self.output_name = output_name\n    self.output_statistic_name = output_statistic_name\n    self.last_estimation = array([])\n    self.statistic_estimator = statistic_estimator\n    self.return_statistic_jacobian = return_statistic_jacobian\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation.last_estimation","title":"last_estimation  <code>instance-attribute</code>","text":"<pre><code>last_estimation: RealArray = array([])\n</code></pre> <p>The last estimation of the statistic.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation.output_name","title":"output_name  <code>instance-attribute</code>","text":"<pre><code>output_name: str = output_name\n</code></pre> <p>The name of the output.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation.output_statistic_name","title":"output_statistic_name  <code>instance-attribute</code>","text":"<pre><code>output_statistic_name: str = output_statistic_name\n</code></pre> <p>The name of the statistic of the output.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation.return_statistic_jacobian","title":"return_statistic_jacobian  <code>instance-attribute</code>","text":"<pre><code>return_statistic_jacobian: bool = return_statistic_jacobian\n</code></pre> <p>Whether the functor returns the Jacobian of the statistic estimation.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/iterative_estimation/#gemseo_umdo.formulations._functions.iterative_estimation.IterativeEstimation.statistic_estimator","title":"statistic_estimator  <code>instance-attribute</code>","text":"<pre><code>statistic_estimator: BaseSamplingEstimator = (\n    statistic_estimator\n)\n</code></pre> <p>The function to update the estimation of the statistic.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_control_variate/","title":"Statistic function for control variate","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_control_variate/#gemseo_umdo.formulations._functions.statistic_function_for_control_variate","title":"statistic_function_for_control_variate","text":"<p>A function to compute a statistic from <code>ControlVariate</code>.</p> <p>See also ControlVariate.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_control_variate/#gemseo_umdo.formulations._functions.statistic_function_for_control_variate-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_control_variate/#gemseo_umdo.formulations._functions.statistic_function_for_control_variate.StatisticFunctionForControlVariate","title":"StatisticFunctionForControlVariate","text":"<pre><code>StatisticFunctionForControlVariate(\n    umdo_formulation: ControlVariateT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunction[ControlVariateT]</code></p> <p>A function to compute a statistic from <code>ControlVariate</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/statistic_function_for_control_variate.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: ControlVariateT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    super().__init__(\n        umdo_formulation,\n        output_name,\n        function_type,\n        statistic_operator_name,\n        **statistic_options,\n    )\n    self.__mc_problem = self._umdo_formulation.mdo_formulation.optimization_problem\n    formulation = self._umdo_formulation\n    self.__mean_input_value = formulation.uncertain_space.distribution.mean\n    self.__problem = formulation.auxiliary_mdo_formulation.optimization_problem\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_iterative_sampling/","title":"Statistic function for iterative sampling","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_iterative_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_iterative_sampling","title":"statistic_function_for_iterative_sampling","text":"<p>A function to compute a statistic from <code>Sampling</code>.</p> <p>See also Sampling.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_iterative_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_iterative_sampling-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_iterative_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_iterative_sampling.StatisticFunctionForIterativeSampling","title":"StatisticFunctionForIterativeSampling","text":"<pre><code>StatisticFunctionForIterativeSampling(\n    umdo_formulation: SamplingT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunctionForSampling[SamplingT]</code></p> <p>A function to compute a statistic from <code>Sampling</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/statistic_function_for_iterative_sampling.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: SamplingT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    super().__init__(\n        umdo_formulation,\n        output_name,\n        function_type,\n        statistic_operator_name,\n        **statistic_options,\n    )\n    self._umdo_formulation.callbacks.append(\n        IterativeEstimation(\n            output_name, self._statistic_name, self._statistic_estimator\n        )\n    )\n    self._umdo_formulation.jacobian_callbacks.append(\n        IterativeEstimation(\n            output_name,\n            self._statistic_jac_name,\n            self._statistic_estimator,\n            return_statistic_jacobian=True,\n        )\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_pce/","title":"Statistic function for pce","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_pce/#gemseo_umdo.formulations._functions.statistic_function_for_pce","title":"statistic_function_for_pce","text":"<p>A function to compute a statistic from <code>PCE</code>.</p> <p>See also PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_pce/#gemseo_umdo.formulations._functions.statistic_function_for_pce-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_pce/#gemseo_umdo.formulations._functions.statistic_function_for_pce.StatisticFunctionForPCE","title":"StatisticFunctionForPCE","text":"<pre><code>StatisticFunctionForPCE(\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>StatisticFunctionForSurrogate[PCET]</code></p> <p>A function to compute a statistic from <code>PCE</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/base_statistic_function.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        umdo_formulation: The U-MDO formulation\n            associated with the output of interest.\n        output_name: The name of the output of interest.\n        function_type: The type of function.\n        statistic_operator_name: The name of the statistic operator.\n        **statistic_options: The options of the statistic.\n    \"\"\"  # noqa: D205 D212 D415\n    self._output_name = output_name\n    self._output_jac_name = Database.get_gradient_name(output_name)\n    self._umdo_formulation = umdo_formulation\n    self._statistic_estimator = umdo_formulation._statistic_factory.create(\n        statistic_operator_name,\n        *self._statistic_estimator_parameters,\n        **statistic_options,\n    )\n    self._statistic_name = (\n        f\"{self._statistic_estimator.__class__.__name__}[{output_name}]\"\n    )\n    self._statistic_jac_name = Database.get_gradient_name(self._statistic_name)\n    super().__init__(\n        self._func, name=output_name, f_type=function_type, jac=self._jac\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_standard_sampling/","title":"Statistic function for standard sampling","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_standard_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_standard_sampling","title":"statistic_function_for_standard_sampling","text":"<p>A function to compute a statistic from <code>Sampling</code>.</p> <p>See also Sampling.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_standard_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_standard_sampling-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_standard_sampling/#gemseo_umdo.formulations._functions.statistic_function_for_standard_sampling.StatisticFunctionForStandardSampling","title":"StatisticFunctionForStandardSampling","text":"<pre><code>StatisticFunctionForStandardSampling(\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunctionForSampling[SamplingT]</code></p> <p>A function to compute a statistic from <code>Sampling</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/base_statistic_function.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        umdo_formulation: The U-MDO formulation\n            associated with the output of interest.\n        output_name: The name of the output of interest.\n        function_type: The type of function.\n        statistic_operator_name: The name of the statistic operator.\n        **statistic_options: The options of the statistic.\n    \"\"\"  # noqa: D205 D212 D415\n    self._output_name = output_name\n    self._output_jac_name = Database.get_gradient_name(output_name)\n    self._umdo_formulation = umdo_formulation\n    self._statistic_estimator = umdo_formulation._statistic_factory.create(\n        statistic_operator_name,\n        *self._statistic_estimator_parameters,\n        **statistic_options,\n    )\n    self._statistic_name = (\n        f\"{self._statistic_estimator.__class__.__name__}[{output_name}]\"\n    )\n    self._statistic_jac_name = Database.get_gradient_name(self._statistic_name)\n    super().__init__(\n        self._func, name=output_name, f_type=function_type, jac=self._jac\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_surrogate/","title":"Statistic function for surrogate","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_surrogate/#gemseo_umdo.formulations._functions.statistic_function_for_surrogate","title":"statistic_function_for_surrogate","text":"<p>A function to compute a statistic from <code>Surrogate</code>.</p> <p>See also Surrogate.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_surrogate/#gemseo_umdo.formulations._functions.statistic_function_for_surrogate-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_surrogate/#gemseo_umdo.formulations._functions.statistic_function_for_surrogate.StatisticFunctionForSurrogate","title":"StatisticFunctionForSurrogate","text":"<pre><code>StatisticFunctionForSurrogate(\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunction[SurrogateT]</code></p> <p>A function to compute a statistic from <code>Surrogate</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/base_statistic_function.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: UMDOFormulationT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        umdo_formulation: The U-MDO formulation\n            associated with the output of interest.\n        output_name: The name of the output of interest.\n        function_type: The type of function.\n        statistic_operator_name: The name of the statistic operator.\n        **statistic_options: The options of the statistic.\n    \"\"\"  # noqa: D205 D212 D415\n    self._output_name = output_name\n    self._output_jac_name = Database.get_gradient_name(output_name)\n    self._umdo_formulation = umdo_formulation\n    self._statistic_estimator = umdo_formulation._statistic_factory.create(\n        statistic_operator_name,\n        *self._statistic_estimator_parameters,\n        **statistic_options,\n    )\n    self._statistic_name = (\n        f\"{self._statistic_estimator.__class__.__name__}[{output_name}]\"\n    )\n    self._statistic_jac_name = Database.get_gradient_name(self._statistic_name)\n    super().__init__(\n        self._func, name=output_name, f_type=function_type, jac=self._jac\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_taylor_polynomial/","title":"Statistic function for taylor polynomial","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_taylor_polynomial/#gemseo_umdo.formulations._functions.statistic_function_for_taylor_polynomial","title":"statistic_function_for_taylor_polynomial","text":"<p>A function to compute a statistic from <code>TaylorPolynomial</code>.</p> <p>See also TaylorPolynomial.</p>"},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_taylor_polynomial/#gemseo_umdo.formulations._functions.statistic_function_for_taylor_polynomial-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_functions/statistic_function_for_taylor_polynomial/#gemseo_umdo.formulations._functions.statistic_function_for_taylor_polynomial.StatisticFunctionForTaylorPolynomial","title":"StatisticFunctionForTaylorPolynomial","text":"<pre><code>StatisticFunctionForTaylorPolynomial(\n    umdo_formulation: TaylorPolynomialT,\n    output_name: str,\n    function_type: FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any\n)\n</code></pre> <p>               Bases: <code>BaseStatisticFunction[TaylorPolynomialT]</code></p> <p>A function to compute a statistic from <code>TaylorPolynomial</code>.</p> PARAMETER DESCRIPTION <code>umdo_formulation</code> <p>The U-MDO formulation associated with the output of interest.</p> <p> TYPE: <code>UMDOFormulationT</code> </p> <code>output_name</code> <p>The name of the output of interest.</p> <p> TYPE: <code>str</code> </p> <code>function_type</code> <p>The type of function.</p> <p> TYPE: <code>FunctionType</code> </p> <code>statistic_operator_name</code> <p>The name of the statistic operator.</p> <p> TYPE: <code>str</code> </p> <code>**statistic_options</code> <p>The options of the statistic.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/formulations/_functions/statistic_function_for_taylor_polynomial.py</code> <pre><code>def __init__(\n    self,\n    umdo_formulation: TaylorPolynomialT,\n    output_name: str,\n    function_type: MDOFunction.FunctionType,\n    statistic_operator_name: str,\n    **statistic_options: Any,\n) -&gt; None:\n    super().__init__(\n        umdo_formulation,\n        output_name,\n        function_type,\n        statistic_operator_name,\n        **statistic_options,\n    )\n    formulation = self._umdo_formulation\n    self.__problem = formulation.auxiliary_mdo_formulation.optimization_problem\n    self.__get_gradient_name = self.__problem.database.get_gradient_name\n    self.__mean_input_value = formulation.uncertain_space.distribution.mean\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/","title":"statistics","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/#gemseo_umdo.formulations._statistics","title":"_statistics","text":"<p>Estimators of statistics associated with a U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/","title":"Base statistic estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator","title":"base_statistic_estimator","text":"<p>Base estimator of statistic associated with a U-MDO formulation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator.BaseStatisticEstimator","title":"BaseStatisticEstimator","text":"<p>The base statistic estimator for U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator.BaseStatisticEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator.BaseStatisticEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/base_statistic_estimator/#gemseo_umdo.formulations._statistics.base_statistic_estimator.BaseStatisticEstimator.estimate_statistic","title":"estimate_statistic  <code>abstractmethod</code>","text":"<pre><code>estimate_statistic(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>@abstractmethod\ndef estimate_statistic(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Estimate the statistic.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The estimation of the statistic.\n    \"\"\"\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/","title":"Control variate","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/#gemseo_umdo.formulations._statistics.control_variate","title":"control_variate","text":"<p>Estimators of statistics for U-MDO formulations based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/","title":"Base control variate estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator","title":"base_control_variate_estimator","text":"<p>Base statistic estimator for U-MDO formulation based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator.BaseControlVariateEstimator","title":"BaseControlVariateEstimator","text":"<pre><code>BaseControlVariateEstimator(\n    uncertain_space: ParameterSpace,\n)\n</code></pre> <p>               Bases: <code>BaseStatisticEstimator</code></p> <p>Base statistic estimator for a U-MDO formulation using control variates.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain space.\n    \"\"\"  # noqa: D205 D212 D415\n    self._u_mean = uncertain_space.distribution.mean\n    self._u_standard_deviation = uncertain_space.distribution.standard_deviation\n    self._uncertain_space = uncertain_space\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator.BaseControlVariateEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator.BaseControlVariateEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator/#gemseo_umdo.formulations._statistics.control_variate.base_control_variate_estimator.BaseControlVariateEstimator.estimate_statistic","title":"estimate_statistic  <code>abstractmethod</code>","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator.py</code> <pre><code>@abstractmethod\ndef estimate_statistic(\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    \"\"\"\n    Args:\n        samples: The output evaluations arranged in rows.\n        u_samples: The input evaluations arranged in rows.\n        mean: The output value at the mean input one.\n        jac: The Jacobian value at the mean input one.\n    \"\"\"  # noqa: D205 D212 D415\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/factory/#gemseo_umdo.formulations._statistics.control_variate.factory","title":"factory","text":"<p>A factory of statistic estimators for U-MDO formulations based on control variate.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/factory/#gemseo_umdo.formulations._statistics.control_variate.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/factory/#gemseo_umdo.formulations._statistics.control_variate.factory.ControlVariateEstimatorFactory","title":"ControlVariateEstimatorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>The factory of statistic estimators based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/","title":"Margin","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin","title":"margin","text":"<p>Estimator of a margin for U-MDO formulations based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin.Margin","title":"Margin","text":"<pre><code>Margin(\n    uncertain_space: ParameterSpace, factor: float = 2.0\n)\n</code></pre> <p>               Bases: <code>BaseControlVariateEstimator</code></p> <p>Estimator of a margin, i.e. mean + factor * deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>factor</code> <p>The factor related to the standard deviation.</p> <p> TYPE: <code>float</code> DEFAULT: <code>2.0</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/margin.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace, factor: float = 2.0) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The factor related to the standard deviation.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(uncertain_space)\n    self.__mean = Mean(uncertain_space)\n    self.__standard_deviation = StandardDeviation(uncertain_space)\n    self.__factor = factor\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin.Margin-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin.Margin.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/margin/#gemseo_umdo.formulations._statistics.control_variate.margin.Margin.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/margin.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    m = self.__mean.estimate_statistic(samples, u_samples, mean, jac)\n    s = self.__standard_deviation.estimate_statistic(samples, u_samples, mean, jac)\n    return m + self.__factor * s\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean","title":"mean","text":"<p>Estimator of the expectation for U-MDO formulations based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean.Mean","title":"Mean","text":"<pre><code>Mean(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>BaseControlVariateEstimator</code></p> <p>Estimator of the expectation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain space.\n    \"\"\"  # noqa: D205 D212 D415\n    self._u_mean = uncertain_space.distribution.mean\n    self._u_standard_deviation = uncertain_space.distribution.standard_deviation\n    self._uncertain_space = uncertain_space\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean.Mean.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/mean/#gemseo_umdo.formulations._statistics.control_variate.mean.Mean.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/mean.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    cv_samples = self._compute_control_variate_samples(u_samples, mean, jac)\n    alpha = self._compute_opposite_scaled_covariance(samples, cv_samples)\n    return samples.mean(0) + alpha * (cv_samples.mean(0) - mean)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/","title":"Probability","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability","title":"probability","text":"<p>Estimator of a probability for U-MDO formulations based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability.Probability","title":"Probability","text":"<pre><code>Probability(\n    uncertain_space: ParameterSpace,\n    threshold: float = 0.0,\n    greater: bool = True,\n    n_samples: int = 10000,\n)\n</code></pre> <p>               Bases: <code>BaseControlVariateEstimator</code></p> <p>Estimator of a probability.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>threshold</code> <p>The threshold against which the probability is estimated.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>greater</code> <p>Whether to compute the probability of exceeding the threshold.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>n_samples</code> <p>A high number of samples to approximate the statistic with the control variates.</p> <p> TYPE: <code>int</code> DEFAULT: <code>10000</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/probability.py</code> <pre><code>def __init__(\n    self,\n    uncertain_space: ParameterSpace,\n    threshold: float = 0.0,\n    greater: bool = True,\n    n_samples: int = 10000,\n) -&gt; None:\n    \"\"\"\n    Args:\n        threshold: The threshold against which the probability is estimated.\n        greater: Whether to compute the probability of exceeding the threshold.\n        n_samples: A high number of samples to approximate the statistic\n            with the control variates.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(uncertain_space)\n    self.__threshold = threshold\n    self.__compare = ge if greater else le\n    self.__n_samples = n_samples\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability.Probability-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability.Probability.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/probability/#gemseo_umdo.formulations._statistics.control_variate.probability.Probability.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/probability.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    cv_samples = self._compute_control_variate_samples(u_samples, mean, jac)\n    ref_cv_samples = (\n        mean + self._uncertain_space.compute_samples(self.__n_samples) @ jac.T\n    )\n    samples = self.__compare(samples, self.__threshold)\n    cv_samples = self.__compare(cv_samples, self.__threshold)\n    ref_cv_samples = self.__compare(ref_cv_samples, self.__threshold)\n    alpha = self._compute_opposite_scaled_covariance(samples, cv_samples)\n    return samples.mean(0) + alpha * (cv_samples.mean(0) - ref_cv_samples.mean(0))\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/","title":"Standard deviation","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation","title":"standard_deviation","text":"<p>Estimator of the standard deviation for control variate-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation.StandardDeviation","title":"StandardDeviation","text":"<pre><code>StandardDeviation(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>Variance</code></p> <p>Estimator of the standard deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain space.\n    \"\"\"  # noqa: D205 D212 D415\n    self._u_mean = uncertain_space.distribution.mean\n    self._u_standard_deviation = uncertain_space.distribution.standard_deviation\n    self._uncertain_space = uncertain_space\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation.StandardDeviation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation.StandardDeviation.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation/#gemseo_umdo.formulations._statistics.control_variate.standard_deviation.StandardDeviation.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/standard_deviation.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    return super().estimate_statistic(samples, u_samples, mean, jac) ** 0.5\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance","title":"variance","text":"<p>Estimators of the variance for U-MDO formulation based on control variates.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance.Variance","title":"Variance","text":"<pre><code>Variance(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>BaseControlVariateEstimator</code></p> <p>Estimator of the variance.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain space.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/base_control_variate_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain space.\n    \"\"\"  # noqa: D205 D212 D415\n    self._u_mean = uncertain_space.distribution.mean\n    self._u_standard_deviation = uncertain_space.distribution.standard_deviation\n    self._uncertain_space = uncertain_space\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance.Variance.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/control_variate/variance/#gemseo_umdo.formulations._statistics.control_variate.variance.Variance.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The output evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>u_samples</code> <p>The input evaluations arranged in rows.</p> <p> TYPE: <code>RealArray</code> </p> <code>mean</code> <p>The output value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean input one.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/control_variate/variance.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self,\n    samples: RealArray,\n    u_samples: RealArray,\n    mean: RealArray,\n    jac: RealArray,\n) -&gt; RealArray:\n    cv_samples = self._compute_control_variate_samples(u_samples, mean, jac)\n    diff2 = (samples - samples.mean()) ** 2\n    cv_diff2 = (cv_samples - cv_samples.mean()) ** 2\n    cv_var = diagonal(multi_dot([jac, diag(self._u_standard_deviation**2), jac.T]))\n    alpha = self._compute_opposite_scaled_covariance(diff2, cv_diff2)\n    return (diff2.mean(0) + alpha * (cv_diff2.mean(0) - cv_var)).ravel()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/","title":"Iterative sampling","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/#gemseo_umdo.formulations._statistics.iterative_sampling","title":"iterative_sampling","text":"<p>Iterative estimators of statistics for sampling-based U-MDO formulations.</p> <p>These estimators iteratively estimate statistics from an increasing dataset without storing any data in memory.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/","title":"Base central moment","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment","title":"base_central_moment","text":"<p>Iterative estimator of a moment for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment","title":"BaseCentralMoment","text":"<pre><code>BaseCentralMoment()\n</code></pre> <p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Base iterative estimator of a central moment, e.g. expectation or variance.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    self.shape = None\n    self.jac_shape = None\n    self._estimator = None\n    self._jac_estimator = None\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n        jac_value: The value of the Jacobian.\n    \"\"\"  # noqa: D205 D212\n    if self.jac_shape is None:\n        self.jac_shape = jac_value.shape\n        self._create_jac_estimator(jac_value.size)\n\n    self._jac_estimator.increment(jac_value.ravel())\n    return self._get_estimation_jacobian().reshape(self.jac_shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n    \"\"\"  # noqa: D205 D212\n    if self.shape is None:\n        self.shape = value.shape\n        self._create_estimator(value.size)\n\n    self._estimator.increment(value.ravel())\n    return self._get_estimation().reshape(self.shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment/#gemseo_umdo.formulations._statistics.iterative_sampling.base_central_moment.BaseCentralMoment.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    if self._jac_estimator is not None and self.jac_shape is not None:\n        self._create_jac_estimator(self._jac_estimator.getDimension())\n\n    self._create_estimator(self._estimator.getDimension())\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/","title":"Base sampling estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator","title":"base_sampling_estimator","text":"<p>Base statistic iterative estimator for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator","title":"BaseSamplingEstimator","text":"<pre><code>BaseSamplingEstimator()\n</code></pre> <p>               Bases: <code>BaseStatisticEstimator</code></p> <p>Base statistic iterative estimator for a U-MDO formulation using sampling.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    self.shape = None\n    self.jac_shape = None\n    self._estimator = None\n    self._jac_estimator = None\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n        jac_value: The value of the Jacobian.\n    \"\"\"  # noqa: D205 D212\n    if self.jac_shape is None:\n        self.jac_shape = jac_value.shape\n        self._create_jac_estimator(jac_value.size)\n\n    self._jac_estimator.increment(jac_value.ravel())\n    return self._get_estimation_jacobian().reshape(self.jac_shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n    \"\"\"  # noqa: D205 D212\n    if self.shape is None:\n        self.shape = value.shape\n        self._create_estimator(value.size)\n\n    self._estimator.increment(value.ravel())\n    return self._get_estimation().reshape(self.shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.iterative_sampling.base_sampling_estimator.BaseSamplingEstimator.reset","title":"reset  <code>abstractmethod</code>","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>@abstractmethod\ndef reset(self) -&gt; None:\n    \"\"\"Reset the estimator of the statistic.\"\"\"\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/factory/#gemseo_umdo.formulations._statistics.iterative_sampling.factory","title":"factory","text":"<p>A factory of iterative statistic estimators for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/factory/#gemseo_umdo.formulations._statistics.iterative_sampling.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/factory/#gemseo_umdo.formulations._statistics.iterative_sampling.factory.SamplingEstimatorFactory","title":"SamplingEstimatorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>The factory of iterative sampling estimators.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/","title":"Margin","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin","title":"margin","text":"<p>Iterative estimator of a margin for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin","title":"Margin","text":"<pre><code>Margin(factor: float = 2.0)\n</code></pre> <p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Iterative estimator of a margin, i.e. mean + factor * deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>factor</code> <p>The factor related to the standard deviation.</p> <p> TYPE: <code>float</code> DEFAULT: <code>2.0</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/margin.py</code> <pre><code>def __init__(self, factor: float = 2.0) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The factor related to the standard deviation.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    self.__mean = Mean()\n    self.__standard_deviation = StandardDeviation()\n    self.__factor = factor\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/margin.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    self.jac_shape = jac_value.shape\n    dmean_dx = self.__mean.compute_jacobian(value, jac_value)\n    dstd_dx = self.__standard_deviation.compute_jacobian(value, jac_value)\n    return dmean_dx + self.__factor * dstd_dx\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/margin.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    self.shape = value.shape\n    return self.__mean.estimate_statistic(\n        value\n    ) + self.__factor * self.__standard_deviation.estimate_statistic(value)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/margin/#gemseo_umdo.formulations._statistics.iterative_sampling.margin.Margin.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/margin.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    self.__mean.reset()\n    self.__standard_deviation.reset()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean","title":"mean","text":"<p>Iterative estimator of the expectation for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean","title":"Mean","text":"<pre><code>Mean()\n</code></pre> <p>               Bases: <code>BaseCentralMoment</code></p> <p>Iterative estimator of the expectation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    self.shape = None\n    self.jac_shape = None\n    self._estimator = None\n    self._jac_estimator = None\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n        jac_value: The value of the Jacobian.\n    \"\"\"  # noqa: D205 D212\n    if self.jac_shape is None:\n        self.jac_shape = jac_value.shape\n        self._create_jac_estimator(jac_value.size)\n\n    self._jac_estimator.increment(jac_value.ravel())\n    return self._get_estimation_jacobian().reshape(self.jac_shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n    \"\"\"  # noqa: D205 D212\n    if self.shape is None:\n        self.shape = value.shape\n        self._create_estimator(value.size)\n\n    self._estimator.increment(value.ravel())\n    return self._get_estimation().reshape(self.shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/mean/#gemseo_umdo.formulations._statistics.iterative_sampling.mean.Mean.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_central_moment.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    if self._jac_estimator is not None and self.jac_shape is not None:\n        self._create_jac_estimator(self._jac_estimator.getDimension())\n\n    self._create_estimator(self._estimator.getDimension())\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/","title":"Probability","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability","title":"probability","text":"<p>Iterative estimator of a probability for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability","title":"Probability","text":"<pre><code>Probability(threshold: float = 0.0, greater: bool = True)\n</code></pre> <p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Iterative estimator of a probability.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>threshold</code> <p>The threshold against which the probability is estimated.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>greater</code> <p>Whether to compute the probability of exceeding the threshold.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/probability.py</code> <pre><code>def __init__(\n    self,\n    threshold: float = 0.0,\n    greater: bool = True,\n) -&gt; None:\n    \"\"\"\n    Args:\n        threshold: The threshold against which the probability is estimated.\n        greater: Whether to compute the probability of exceeding the threshold.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    self.__threshold = threshold\n    self.__greater = greater\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n        jac_value: The value of the Jacobian.\n    \"\"\"  # noqa: D205 D212\n    if self.jac_shape is None:\n        self.jac_shape = jac_value.shape\n        self._create_jac_estimator(jac_value.size)\n\n    self._jac_estimator.increment(jac_value.ravel())\n    return self._get_estimation_jacobian().reshape(self.jac_shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/base_sampling_estimator.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        value: The value of the function output.\n    \"\"\"  # noqa: D205 D212\n    if self.shape is None:\n        self.shape = value.shape\n        self._create_estimator(value.size)\n\n    self._estimator.increment(value.ravel())\n    return self._get_estimation().reshape(self.shape)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/probability/#gemseo_umdo.formulations._statistics.iterative_sampling.probability.Probability.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/probability.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    self._create_estimator(self._estimator.getDimension())\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/","title":"Standard deviation","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation","title":"standard_deviation","text":"<p>Iterative estimator of a standard deviation for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation","title":"StandardDeviation","text":"<pre><code>StandardDeviation()\n</code></pre> <p>               Bases: <code>Variance</code></p> <p>Iterative estimator of the standard deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation.py</code> <pre><code>def __init__(self) -&gt; None:\n    super().__init__()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    self.estimate_statistic(value)\n    std = self._get_estimation()\n    std_zeros = where(std == 0)[0]\n    std[std == 0] = 1\n    jac = super().compute_jacobian(value, jac_value) / std[:, newaxis] / 2\n    jac[std_zeros] = 0\n    return jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    if self.shape is None:\n        self.__mean_jac._create_estimator(value.size)\n        self.__mean._create_estimator(value.size)\n        self.__prod_mean._create_estimator(value.size)\n\n    return super().estimate_statistic(value)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/standard_deviation/#gemseo_umdo.formulations._statistics.iterative_sampling.standard_deviation.StandardDeviation.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    super().reset()\n    self.__mean_jac.reset()\n    self.__mean.reset()\n    self.__prod_mean.reset()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance","title":"variance","text":"<p>Iterative estimator of the variance for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance","title":"Variance","text":"<pre><code>Variance()\n</code></pre> <p>               Bases: <code>BaseCentralMoment</code></p> <p>Iterative estimator of the variance.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def __init__(self) -&gt; None:\n    super().__init__()\n    self.__mean_jac = Mean()\n    self.__mean = Mean()\n    self.__prod_mean = Mean()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance.jac_shape","title":"jac_shape  <code>instance-attribute</code>","text":"<pre><code>jac_shape: tuple[int, int] | None = None\n</code></pre> <p>The shape of the Jacobian, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance.shape","title":"shape  <code>instance-attribute</code>","text":"<pre><code>shape: tuple[int] | None = None\n</code></pre> <p>The shape of the output of interest, if known.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    value: RealArray, jac_value: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_value</code> <p>The value of the Jacobian.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def compute_jacobian(self, value: RealArray, jac_value: RealArray) -&gt; RealArray:\n    self.jac_shape = jac_value.shape\n    n = self.__mean._estimator.getIterationNumber() + 1\n    alpha = n / (n - 1) if n &gt; 1 else 1\n    return (\n        2\n        * (\n            self.__prod_mean.estimate_statistic(value[:, newaxis] * jac_value)\n            - (\n                self.__mean.estimate_statistic(value)[:, newaxis]\n                * self.__mean_jac.estimate_statistic(jac_value)\n            )\n        )\n        * alpha\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(value: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>value</code> <p>The value of the function output.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def estimate_statistic(self, value: RealArray) -&gt; RealArray:\n    if self.shape is None:\n        self.__mean_jac._create_estimator(value.size)\n        self.__mean._create_estimator(value.size)\n        self.__prod_mean._create_estimator(value.size)\n\n    return super().estimate_statistic(value)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/iterative_sampling/variance/#gemseo_umdo.formulations._statistics.iterative_sampling.variance.Variance.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the estimator of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/iterative_sampling/variance.py</code> <pre><code>def reset(self) -&gt; None:  # noqa: D102\n    super().reset()\n    self.__mean_jac.reset()\n    self.__mean.reset()\n    self.__prod_mean.reset()\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/","title":"Pce","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/#gemseo_umdo.formulations._statistics.pce","title":"pce","text":"<p>Estimators of statistics for U-MDO formulations based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/","title":"Base pce estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator","title":"base_pce_estimator","text":"<p>Base statistic estimator for a U-MDO formulations based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator","title":"BasePCEEstimator","text":"<p>               Bases: <code>BaseStatisticEstimator</code></p> <p>Base statistic estimator for a U-MDO formulation using PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.ARG_NAMES","title":"ARG_NAMES  <code>class-attribute</code>","text":"<pre><code>ARG_NAMES: tuple[str] = ()\n</code></pre> <p>The names of the arguments to be used for the estimator.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.MEAN_ARG_NAME","title":"MEAN_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MEAN_ARG_NAME: Final[str] = 'mean'\n</code></pre> <p>The name of the mean argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.STD_ARG_NAME","title":"STD_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STD_ARG_NAME: Final[str] = 'std'\n</code></pre> <p>The name of the standard deviation argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.VAR_ARG_NAME","title":"VAR_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>VAR_ARG_NAME: Final[str] = 'var'\n</code></pre> <p>The name of the variance argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/base_pce_estimator/#gemseo_umdo.formulations._statistics.pce.base_pce_estimator.BasePCEEstimator.estimate_statistic","title":"estimate_statistic  <code>abstractmethod</code>","text":"<pre><code>estimate_statistic(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>@abstractmethod\ndef estimate_statistic(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Estimate the statistic.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The estimation of the statistic.\n    \"\"\"\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/factory/#gemseo_umdo.formulations._statistics.pce.factory","title":"factory","text":"<p>A factory of statistic estimators for a U-MDO formulations using PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/factory/#gemseo_umdo.formulations._statistics.pce.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/factory/#gemseo_umdo.formulations._statistics.pce.factory.PCEEstimatorFactory","title":"PCEEstimatorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>The factory of statistic estimators based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/","title":"Margin","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin","title":"margin","text":"<p>Estimators of a margin for a U-MDO formulation based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin","title":"Margin","text":"<pre><code>Margin(factor: float = 2.0)\n</code></pre> <p>               Bases: <code>BasePCEEstimator</code></p> <p>Estimator of a margin, i.e. mean + factor * deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>factor</code> <p>The factor related to the standard deviation.</p> <p> TYPE: <code>float</code> DEFAULT: <code>2.0</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/margin.py</code> <pre><code>def __init__(self, factor: float = 2.0) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The factor related to the standard deviation.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__factor = factor\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.ARG_NAMES","title":"ARG_NAMES  <code>class-attribute</code>","text":"<pre><code>ARG_NAMES: tuple[str] = (MEAN_ARG_NAME, STD_ARG_NAME)\n</code></pre> <p>The names of the arguments to be used for the estimator.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.MEAN_ARG_NAME","title":"MEAN_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MEAN_ARG_NAME: Final[str] = 'mean'\n</code></pre> <p>The name of the mean argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.STD_ARG_NAME","title":"STD_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STD_ARG_NAME: Final[str] = 'std'\n</code></pre> <p>The name of the standard deviation argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.VAR_ARG_NAME","title":"VAR_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>VAR_ARG_NAME: Final[str] = 'var'\n</code></pre> <p>The name of the variance argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    mean_jac: RealArray, standard_deviation_jac: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>mean_jac</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> <code>standard_deviation_jac</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/margin.py</code> <pre><code>def compute_jacobian(\n    self, mean_jac: RealArray, standard_deviation_jac: RealArray\n) -&gt; RealArray:\n    return mean_jac + self.__factor * standard_deviation_jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/margin/#gemseo_umdo.formulations._statistics.pce.margin.Margin.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    mean: RealArray, standard_deviation: RealArray\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>mean</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> <code>standard_deviation</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/margin.py</code> <pre><code>def estimate_statistic(\n    self, mean: RealArray, standard_deviation: RealArray\n) -&gt; RealArray:\n    return mean + self.__factor * standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean","title":"mean","text":"<p>Estimator of the expectation for a U-MDO formulations based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean","title":"Mean","text":"<p>               Bases: <code>BasePCEEstimator</code></p> <p>Estimator of the expectation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.ARG_NAMES","title":"ARG_NAMES  <code>class-attribute</code>","text":"<pre><code>ARG_NAMES: tuple[str] = (MEAN_ARG_NAME,)\n</code></pre> <p>The names of the arguments to be used for the estimator.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.MEAN_ARG_NAME","title":"MEAN_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MEAN_ARG_NAME: Final[str] = 'mean'\n</code></pre> <p>The name of the mean argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.STD_ARG_NAME","title":"STD_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STD_ARG_NAME: Final[str] = 'std'\n</code></pre> <p>The name of the standard deviation argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.VAR_ARG_NAME","title":"VAR_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>VAR_ARG_NAME: Final[str] = 'var'\n</code></pre> <p>The name of the variance argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(mean_jac: RealArray) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>mean_jac</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/mean.py</code> <pre><code>def compute_jacobian(self, mean_jac: RealArray) -&gt; RealArray:\n    return mean_jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/mean/#gemseo_umdo.formulations._statistics.pce.mean.Mean.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(mean: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>mean</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/mean.py</code> <pre><code>def estimate_statistic(self, mean: RealArray) -&gt; RealArray:\n    return mean\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/","title":"Standard deviation","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation","title":"standard_deviation","text":"<p>Estimator of the standard deviation for a U-MDO formulations based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation","title":"StandardDeviation","text":"<p>               Bases: <code>BasePCEEstimator</code></p> <p>Estimator of the standard deviation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.ARG_NAMES","title":"ARG_NAMES  <code>class-attribute</code>","text":"<pre><code>ARG_NAMES: tuple[str] = (STD_ARG_NAME,)\n</code></pre> <p>The names of the arguments to be used for the estimator.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.MEAN_ARG_NAME","title":"MEAN_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MEAN_ARG_NAME: Final[str] = 'mean'\n</code></pre> <p>The name of the mean argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.STD_ARG_NAME","title":"STD_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STD_ARG_NAME: Final[str] = 'std'\n</code></pre> <p>The name of the standard deviation argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.VAR_ARG_NAME","title":"VAR_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>VAR_ARG_NAME: Final[str] = 'var'\n</code></pre> <p>The name of the variance argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    standard_deviation_jac: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>standard_deviation_jac</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/standard_deviation.py</code> <pre><code>def compute_jacobian(self, standard_deviation_jac: RealArray) -&gt; RealArray:\n    return standard_deviation_jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/standard_deviation/#gemseo_umdo.formulations._statistics.pce.standard_deviation.StandardDeviation.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    standard_deviation: RealArray,\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>standard_deviation</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/standard_deviation.py</code> <pre><code>def estimate_statistic(self, standard_deviation: RealArray) -&gt; RealArray:\n    return standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance","title":"variance","text":"<p>Estimator of the variance for a U-MDO formulations based on PCE.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance","title":"Variance","text":"<p>               Bases: <code>BasePCEEstimator</code></p> <p>Estimator of the variance.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.ARG_NAMES","title":"ARG_NAMES  <code>class-attribute</code>","text":"<pre><code>ARG_NAMES: tuple[str] = (VAR_ARG_NAME,)\n</code></pre> <p>The names of the arguments to be used for the estimator.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.MEAN_ARG_NAME","title":"MEAN_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MEAN_ARG_NAME: Final[str] = 'mean'\n</code></pre> <p>The name of the mean argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.STD_ARG_NAME","title":"STD_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>STD_ARG_NAME: Final[str] = 'std'\n</code></pre> <p>The name of the standard deviation argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.VAR_ARG_NAME","title":"VAR_ARG_NAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>VAR_ARG_NAME: Final[str] = 'var'\n</code></pre> <p>The name of the variance argument.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(variance_jac: RealArray) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>variance_jac</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/variance.py</code> <pre><code>def compute_jacobian(self, variance_jac: RealArray) -&gt; RealArray:\n    return variance_jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/pce/variance/#gemseo_umdo.formulations._statistics.pce.variance.Variance.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(variance: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>variance</code> <p>The description is missing.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/pce/variance.py</code> <pre><code>def estimate_statistic(self, variance: RealArray) -&gt; RealArray:\n    return variance\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/","title":"Sampling","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/#gemseo_umdo.formulations._statistics.sampling","title":"sampling","text":"<p>Estimators of statistics for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/","title":"Base sampling estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator","title":"base_sampling_estimator","text":"<p>Base statistic estimator for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator.BaseSamplingEstimator","title":"BaseSamplingEstimator","text":"<p>               Bases: <code>BaseStatisticEstimator</code></p> <p>Base statistic estimator for a U-MDO formulation using sampling.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator.BaseSamplingEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator.BaseSamplingEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        samples: The samples to estimate the statistic.\n        jac_samples: The samples to estimate the Jacobian of the statistic.\n    \"\"\"  # noqa: D205 D212\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator/#gemseo_umdo.formulations._statistics.sampling.base_sampling_estimator.BaseSamplingEstimator.estimate_statistic","title":"estimate_statistic  <code>abstractmethod</code>","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator.py</code> <pre><code>@abstractmethod\ndef estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        samples: The samples to estimate the statistic.\n    \"\"\"  # noqa: D205 D212\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/factory/#gemseo_umdo.formulations._statistics.sampling.factory","title":"factory","text":"<p>A factory of statistic estimators for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/factory/#gemseo_umdo.formulations._statistics.sampling.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/factory/#gemseo_umdo.formulations._statistics.sampling.factory.SamplingEstimatorFactory","title":"SamplingEstimatorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>The factory of sampling-based statistic estimators.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/","title":"Margin","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin","title":"margin","text":"<p>Estimator of a margin for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin.Margin","title":"Margin","text":"<pre><code>Margin(factor: float = 2.0)\n</code></pre> <p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Estimator of a margin, i.e. mean + factor * deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>factor</code> <p>The factor related to the standard deviation.</p> <p> TYPE: <code>float</code> DEFAULT: <code>2.0</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/margin.py</code> <pre><code>def __init__(self, factor: float = 2.0) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The factor related to the standard deviation.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    self.__mean = Mean()\n    self.__standard_deviation = StandardDeviation()\n    self.__factor = factor\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin.Margin-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin.Margin.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/margin.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    mean_jac = self.__mean.compute_jacobian(samples, jac_samples)\n    standard_deviation_jac = self.__standard_deviation.compute_jacobian(\n        samples, jac_samples\n    )\n    return mean_jac + self.__factor * standard_deviation_jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/margin/#gemseo_umdo.formulations._statistics.sampling.margin.Margin.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/margin.py</code> <pre><code>def estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    mean = self.__mean.estimate_statistic(samples)\n    standard_deviation = self.__standard_deviation.estimate_statistic(samples)\n    return mean + self.__factor * standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean","title":"mean","text":"<p>Estimator of the expectation for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean.Mean","title":"Mean","text":"<p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Estimator of the expectation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean.Mean.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/mean.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    return jac_samples.mean(0)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/mean/#gemseo_umdo.formulations._statistics.sampling.mean.Mean.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/mean.py</code> <pre><code>def estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    return samples.mean(0)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/","title":"Probability","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability","title":"probability","text":"<p>Estimator of a probability for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability.Probability","title":"Probability","text":"<pre><code>Probability(threshold: float = 0.0, greater: bool = True)\n</code></pre> <p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Estimator of a probability.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>threshold</code> <p>The threshold against which the probability is estimated.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>greater</code> <p>Whether to compute the probability of exceeding the threshold.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/probability.py</code> <pre><code>def __init__(self, threshold: float = 0.0, greater: bool = True) -&gt; None:\n    \"\"\"\n    Args:\n        threshold: The threshold against which the probability is estimated.\n        greater: Whether to compute the probability of exceeding the threshold.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    self.__threshold = threshold\n    self.__compare = ge if greater else le\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability.Probability-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability.Probability.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/base_sampling_estimator.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    \"\"\"\n    Args:\n        samples: The samples to estimate the statistic.\n        jac_samples: The samples to estimate the Jacobian of the statistic.\n    \"\"\"  # noqa: D205 D212\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/probability/#gemseo_umdo.formulations._statistics.sampling.probability.Probability.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/probability.py</code> <pre><code>def estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    return self.__compare(samples, self.__threshold).mean(0)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/","title":"Standard deviation","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation","title":"standard_deviation","text":"<p>Estimator of the standard deviation for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation.StandardDeviation","title":"StandardDeviation","text":"<p>               Bases: <code>Variance</code></p> <p>Estimator of the standard deviation.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation.StandardDeviation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation.StandardDeviation.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/standard_deviation.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    std = self.estimate_statistic(samples)\n    std_zeros = where(std == 0)[0]\n    std[std == 0] = 1\n    jac = super().compute_jacobian(samples, jac_samples) / std[:, newaxis] / 2\n    jac[std_zeros] = 0\n    return jac\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/standard_deviation/#gemseo_umdo.formulations._statistics.sampling.standard_deviation.StandardDeviation.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/standard_deviation.py</code> <pre><code>def estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    return super().estimate_statistic(samples) ** 0.5\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance","title":"variance","text":"<p>Estimator of the variance for sampling-based U-MDO formulations.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance.Variance","title":"Variance","text":"<p>               Bases: <code>BaseSamplingEstimator</code></p> <p>Estimator of the variance.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance.Variance.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(\n    samples: RealArray, jac_samples: RealArray\n) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac_samples</code> <p>The samples to estimate the Jacobian of the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/variance.py</code> <pre><code>def compute_jacobian(self, samples: RealArray, jac_samples: RealArray) -&gt; RealArray:\n    n = len(samples)\n    return (\n        2\n        * n\n        / (n - 1)\n        * (\n            (samples[..., newaxis] * jac_samples).mean(0)\n            - jac_samples.mean(0) * samples.mean(0)[..., newaxis]\n        )\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/sampling/variance/#gemseo_umdo.formulations._statistics.sampling.variance.Variance.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(samples: RealArray) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>samples</code> <p>The samples to estimate the statistic.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/sampling/variance.py</code> <pre><code>def estimate_statistic(self, samples: RealArray) -&gt; RealArray:\n    return samples.var(0, ddof=1)\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/","title":"Taylor polynomial","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/#gemseo_umdo.formulations._statistics.taylor_polynomial","title":"taylor_polynomial","text":"<p>Estimators of statistics for U-MDO formulations based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/","title":"Base taylor polynomial estimator","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator","title":"base_taylor_polynomial_estimator","text":"<p>Base statistic estimator for U-MDO formulations based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator.BaseTaylorPolynomialEstimator","title":"BaseTaylorPolynomialEstimator","text":"<pre><code>BaseTaylorPolynomialEstimator(\n    uncertain_space: ParameterSpace,\n)\n</code></pre> <p>               Bases: <code>BaseStatisticEstimator</code></p> <p>Base statistic estimator for a U-MDO formulation using Taylor polynomials.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n    \"\"\"  # noqa: D205 D212 D415\n    self._standard_deviations = uncertain_space.distribution.standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator.BaseTaylorPolynomialEstimator-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator.BaseTaylorPolynomialEstimator.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator/#gemseo_umdo.formulations._statistics.taylor_polynomial.base_taylor_polynomial_estimator.BaseTaylorPolynomialEstimator.estimate_statistic","title":"estimate_statistic  <code>abstractmethod</code>","text":"<pre><code>estimate_statistic(\n    func: RealArray, jac: RealArray, hess: RealArray | None\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>func</code> <p>The output value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>hess</code> <p>The Hessian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray | None</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator.py</code> <pre><code>@abstractmethod\ndef estimate_statistic(\n    self, func: RealArray, jac: RealArray, hess: RealArray | None\n) -&gt; RealArray:\n    \"\"\"\n    Args:\n        func: The output value at the mean value of the uncertain variables.\n        jac: The Jacobian value at the mean value of the uncertain variables.\n        hess: The Hessian value at the mean value of the uncertain variables.\n    \"\"\"  # noqa: D205 D212 D415 E112\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/factory/#gemseo_umdo.formulations._statistics.taylor_polynomial.factory","title":"factory","text":"<p>A factory of statistic estimators for U-MDO formulations using Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/factory/#gemseo_umdo.formulations._statistics.taylor_polynomial.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/factory/#gemseo_umdo.formulations._statistics.taylor_polynomial.factory.TaylorPolynomialEstimatorFactory","title":"TaylorPolynomialEstimatorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>The factory of statistic estimators based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/","title":"Margin","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin","title":"margin","text":"<p>Estimators of a margin for U-MDO formulation based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin.Margin","title":"Margin","text":"<pre><code>Margin(\n    uncertain_space: ParameterSpace, factor: float = 2.0\n)\n</code></pre> <p>               Bases: <code>BaseTaylorPolynomialEstimator</code></p> <p>Estimator of a margin, i.e. mean + factor * deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>factor</code> <p>The factor related to the standard deviation.</p> <p> TYPE: <code>float</code> DEFAULT: <code>2.0</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace, factor: float = 2.0) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The factor related to the standard deviation.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(uncertain_space)\n    self.__mean = Mean(uncertain_space)\n    self.__standard_deviation = StandardDeviation(uncertain_space)\n    self.__factor = factor\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin.Margin-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin.Margin.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin/#gemseo_umdo.formulations._statistics.taylor_polynomial.margin.Margin.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>func</code> <p>The output value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>hess</code> <p>The Hessian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/margin.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self, func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray:\n    mean = self.__mean.estimate_statistic(func, jac, hess)\n    std = self.__standard_deviation.estimate_statistic(func, jac, hess)\n    return mean + self.__factor * std\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean","title":"mean","text":"<p>Estimator of the expectation for U-MDO formulations based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean.Mean","title":"Mean","text":"<pre><code>Mean(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>BaseTaylorPolynomialEstimator</code></p> <p>Estimator of the expectation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n    \"\"\"  # noqa: D205 D212 D415\n    self._standard_deviations = uncertain_space.distribution.standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean.Mean.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean/#gemseo_umdo.formulations._statistics.taylor_polynomial.mean.Mean.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    func: RealArray, jac: RealArray, hess: RealArray | None\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>func</code> <p>The output value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>hess</code> <p>The Hessian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray | None</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/mean.py</code> <pre><code>def estimate_statistic(  # noqa: D102\n    self, func: RealArray, jac: RealArray, hess: RealArray | None\n) -&gt; RealArray:\n    if hess is None:\n        return func\n\n    std = self._standard_deviations\n    return func + 0.5 * array([\n        multi_dot([std, sub_hess, std]) for sub_hess in hess\n    ])\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/","title":"Standard deviation","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation","title":"standard_deviation","text":"<p>Estimator of the standard deviation for U-MDO formulations based on Taylor.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation.StandardDeviation","title":"StandardDeviation","text":"<pre><code>StandardDeviation(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>Variance</code></p> <p>Estimator of the standard deviation.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n    \"\"\"  # noqa: D205 D212 D415\n    self._standard_deviations = uncertain_space.distribution.standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation.StandardDeviation-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation.StandardDeviation.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation/#gemseo_umdo.formulations._statistics.taylor_polynomial.standard_deviation.StandardDeviation.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>func</code> <p>The output value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>hess</code> <p>The Hessian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/standard_deviation.py</code> <pre><code>def estimate_statistic(\n    self, func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray:\n    \"\"\"\n    Args:\n        func: The output value at the mean value of the uncertain variables.\n        jac: The Jacobian value at the mean value of the uncertain variables.\n        hess: The Hessian value at the mean value of the uncertain variables.\n    \"\"\"  # noqa: D205 D212 D415\n    return super().estimate_statistic(func, jac, hess) ** 0.5\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance","title":"variance","text":"<p>Estimator of the variance for U-MDO formulations based on Taylor polynomials.</p>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance.Variance","title":"Variance","text":"<pre><code>Variance(uncertain_space: ParameterSpace)\n</code></pre> <p>               Bases: <code>BaseTaylorPolynomialEstimator</code></p> <p>Estimator of the variance.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/base_taylor_polynomial_estimator.py</code> <pre><code>def __init__(self, uncertain_space: ParameterSpace) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n    \"\"\"  # noqa: D205 D212 D415\n    self._standard_deviations = uncertain_space.distribution.standard_deviation\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance.Variance.compute_jacobian","title":"compute_jacobian","text":"<pre><code>compute_jacobian(*args: Any, **kwargs: Any) -&gt; RealArray\n</code></pre> <p>Compute the Jacobian of the statistic estimation.</p> PARAMETER DESCRIPTION <code>*args</code> <p>The mandatory arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>The optional arguments.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The Jacobian of the statistic estimation.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/base_statistic_estimator.py</code> <pre><code>def compute_jacobian(self, *args: Any, **kwargs: Any) -&gt; RealArray:  # noqa: D102\n    \"\"\"Compute the Jacobian of the statistic estimation.\n\n    Args:\n        *args: The mandatory arguments.\n        **kwargs: The optional arguments.\n\n    Returns:\n        The Jacobian of the statistic estimation.\n    \"\"\"\n    raise NotImplementedError\n</code></pre>"},{"location":"reference/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance/#gemseo_umdo.formulations._statistics.taylor_polynomial.variance.Variance.estimate_statistic","title":"estimate_statistic","text":"<pre><code>estimate_statistic(\n    func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray\n</code></pre> <p>Estimate the statistic.</p> PARAMETER DESCRIPTION <code>func</code> <p>The output value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>jac</code> <p>The Jacobian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> <code>hess</code> <p>The Hessian value at the mean value of the uncertain variables.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/formulations/_statistics/taylor_polynomial/variance.py</code> <pre><code>def estimate_statistic(\n    self, func: RealArray, jac: RealArray, hess: RealArray\n) -&gt; RealArray:\n    \"\"\"\n    Args:\n        func: The output value at the mean value of the uncertain variables.\n        jac: The Jacobian value at the mean value of the uncertain variables.\n        hess: The Hessian value at the mean value of the uncertain variables.\n    \"\"\"  # noqa: D205 D212 D415\n    return diagonal(multi_dot([jac, diag(self._standard_deviations**2), jac.T]))\n</code></pre>"},{"location":"reference/gemseo_umdo/problems/","title":"Problems","text":""},{"location":"reference/gemseo_umdo/problems/#gemseo_umdo.problems","title":"problems","text":"<p>The problems to illustrate the features.</p>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/","title":"Uopt as umdo scenario","text":""},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario","title":"uopt_as_umdo_scenario","text":"<p>Make a monodisciplinary optimization problem under uncertainty multidisciplinary.</p> <p>GEMSEO proposes features to make a monodisciplinary optimization problem multidisciplinary. Here is an extension to MDO under uncertainty. Please read the GEMSEO's documentation to get more information about the basics of this technique.</p> <p>References</p> <p>Aziz Alaoui, Contributions to multidisciplinary design optimization under uncertainty, with applications to aircraft design. General Mathematics [math.GM]. Universit\u00e9 de Toulouse, 2025. English. \u27e8NNT : 2025TLSEI001\u27e9. \u27e8tel-05059696\u27e9.</p>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario","title":"UOptAsUMDOScenario","text":"<pre><code>UOptAsUMDOScenario(\n    discipline: Discipline,\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: (\n        BaseFormulationSettings | None\n    ) = None,\n    maximize_objective: bool = False,\n    coupling_equations: tuple[\n        Iterable[Discipline, ...],\n        Callable[[RealArray], RealArray],\n        Callable[[RealArray], RealArray],\n    ] = (),\n    link_discipline_class: type[\n        BaseLinkDiscipline\n    ] = LinearLinkDiscipline,\n    **formulation_settings: Any\n)\n</code></pre> <p>               Bases: <code>UMDOScenario</code></p> <p>An optimization scenario under uncertainty made multidisciplinary.</p> PARAMETER DESCRIPTION <code>discipline</code> <p>The discipline     computing the objective, constraints and observables     from the design variables. design_space: The design space     including the design variables \\(z_0,z_1,\\ldots,z_N\\)     which will be replaced by \\(x_0,x_1,\\ldots,x_N\\) respectively     in the U-MDO problem. coupling_equations: The objects     to evaluate and solve the coupling equations,     namely the disciplines \\(h_1,\\ldots,h_N\\),     the function \\(c\\)     and the Jacobian function \\(\\nabla c(x)\\).     If empty,     the \\(i\\)-th discipline is linear. link_discipline_class: The class of the link discipline.</p> <p> TYPE: <code>Discipline</code> </p> <code>objective_name</code> <p>The description is missing.</p> <p> TYPE: <code>str</code> </p> <code>design_space</code> <p>The description is missing.</p> <p> TYPE: <code>DesignSpace</code> </p> <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_estimation_settings</code> <p>The settings of the statistics' estimation technique.</p> <p> TYPE: <code>BaseUMDOFormulationSettings</code> </p> <code>objective_statistic_parameters</code> <p>The parameters of the statistics to be applied to the objective, e.g. <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>uncertain_design_variables</code> <p>This argument facilitates the definition of uncertain design variables in two ways. The first way consists of passing a dictionary of the form <code>{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}</code> which defines the uncertain design variables as <code>x1 = dv_x1 + u1</code> and <code>x2 = dv_x2 * (1 + u2)</code>. Here <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables made uncertain by the random variables <code>\"u_1\"</code> and <code>\"u_2\"</code> which typically have zero mean. <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables actually used in <code>disciplines</code> while the names <code>\"dv_x1\"</code> and <code>dv_x2</code> are generated by the scenario. More generally, the first element of the tuple is assumed to be either the class name or the SHORT_NAME of a BaseNoiser (feel free to create new noising disciplines). The second way of defining these uncertain design variables consists of passing a set of more complex expressions of the form <code>{\"x\": \"{} + u\", ...}</code> where <code>\"x\"</code> is the name of the design variable actually used in the equations, <code>\"u\"</code> is the name of the uncertain variable defined in the <code>uncertain_space</code> and <code>\"{}\"</code> is the optimization variable. Leave <code>\"{}\"</code> as is; it will be automatically replaced by <code>\"dv_x\"</code>. This more complex format assumes variables of dimension 1. If <code>None</code>, do not consider other variable relations than those defined by <code>disciplines</code>.</p> <p> TYPE: <code>Mapping[str, str | tuple[str, str]]</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>name</code> <p>The description is missing.</p> <p> TYPE: <code>str</code> DEFAULT: <code>''</code> </p> <code>formulation_settings_model</code> <p>The description is missing.</p> <p> TYPE: <code>BaseFormulationSettings | None</code> DEFAULT: <code>None</code> </p> <code>maximize_objective</code> <p>Whether to maximize the statistic of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>coupling_equations</code> <p>The description is missing.</p> <p> TYPE: <code>tuple[Iterable[Discipline, ...], Callable[[RealArray], RealArray], Callable[[RealArray], RealArray]]</code> DEFAULT: <code>()</code> </p> <code>link_discipline_class</code> <p>The description is missing.</p> <p> TYPE: <code>type[BaseLinkDiscipline]</code> DEFAULT: <code>LinearLinkDiscipline</code> </p> <code>**formulation_settings</code> <p>The description is missing.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/problems/uopt_as_umdo_scenario.py</code> <pre><code>def __init__(\n    self,\n    discipline: Discipline,\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: BaseFormulationSettings | None = None,\n    maximize_objective: bool = False,\n    coupling_equations: tuple[\n        Iterable[Discipline, ...],\n        Callable[[RealArray], RealArray],\n        Callable[[RealArray], RealArray],\n    ] = (),\n    link_discipline_class: type[BaseLinkDiscipline] = LinearLinkDiscipline,\n    **formulation_settings: Any,\n) -&gt; None:\n    r\"\"\"\n    Args:\n        discipline: The discipline\n            computing the objective, constraints and observables\n            from the design variables.\n        design_space: The design space\n            including the design variables $z_0,z_1,\\ldots,z_N$\n            which will be replaced by $x_0,x_1,\\ldots,x_N$ respectively\n            in the U-MDO problem.\n        coupling_equations: The objects\n            to evaluate and solve the coupling equations,\n            namely the disciplines $h_1,\\ldots,h_N$,\n            the function $c$\n            and the Jacobian function $\\nabla c(x)$.\n            If empty,\n            the $i$-th discipline is linear.\n        link_discipline_class: The class of the link discipline.\n\n    Note:\n        There is no naming convention\n        for the input and output variables of ``discipline``.\n        So,\n        you can use $a,b,c$ in ``design_space`` instead of $z_0,z_1,z_2$.\n    \"\"\"  # noqa: D205, D212, E501\n    disciplines = create_disciplines(\n        discipline, design_space, coupling_equations, link_discipline_class\n    )\n    super().__init__(\n        disciplines,\n        objective_name,\n        design_space,\n        uncertain_space,\n        objective_statistic_name,\n        statistic_estimation_settings=statistic_estimation_settings,\n        objective_statistic_parameters=objective_statistic_parameters,\n        uncertain_design_variables=uncertain_design_variables,\n        name=name,\n        maximize_objective=maximize_objective,\n        formulation_settings_model=formulation_settings_model,\n        **formulation_settings,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the available statistics.</p>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation over the uncertain space.</p>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_constraint(\n        output_name,\n        statistic_name,\n        constraint_type=constraint_type,\n        constraint_name=constraint_name,\n        value=value,\n        positive=positive,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/problems/uopt_as_umdo_scenario/#gemseo_umdo.problems.uopt_as_umdo_scenario.UOptAsUMDOScenario.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_observable(\n        output_names,\n        statistic_name,\n        observable_name=observable_name,\n        discipline=discipline,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/","title":"Scenarios","text":""},{"location":"reference/gemseo_umdo/scenarios/#gemseo_umdo.scenarios","title":"scenarios","text":"<p>Scenarios to address multidisciplinary design problems under uncertainty.</p>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/","title":"Base u scenario","text":""},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario","title":"base_u_scenario","text":"<p>Scenarios to address multidisciplinary design problems under uncertainty.</p>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario","title":"BaseUScenario","text":"<pre><code>BaseUScenario(\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: (\n        BaseFormulationSettings | None\n    ) = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any\n)\n</code></pre> <p>Base scenario for multidisciplinary design problems under uncertainty.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_estimation_settings</code> <p>The settings of the statistics' estimation technique.</p> <p> TYPE: <code>BaseUMDOFormulationSettings</code> </p> <code>objective_statistic_parameters</code> <p>The parameters of the statistics to be applied to the objective, e.g. <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>uncertain_design_variables</code> <p>This argument facilitates the definition of uncertain design variables in two ways. The first way consists of passing a dictionary of the form <code>{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}</code> which defines the uncertain design variables as <code>x1 = dv_x1 + u1</code> and <code>x2 = dv_x2 * (1 + u2)</code>. Here <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables made uncertain by the random variables <code>\"u_1\"</code> and <code>\"u_2\"</code> which typically have zero mean. <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables actually used in <code>disciplines</code> while the names <code>\"dv_x1\"</code> and <code>dv_x2</code> are generated by the scenario. More generally, the first element of the tuple is assumed to be either the class name or the SHORT_NAME of a BaseNoiser (feel free to create new noising disciplines). The second way of defining these uncertain design variables consists of passing a set of more complex expressions of the form <code>{\"x\": \"{} + u\", ...}</code> where <code>\"x\"</code> is the name of the design variable actually used in the equations, <code>\"u\"</code> is the name of the uncertain variable defined in the <code>uncertain_space</code> and <code>\"{}\"</code> is the optimization variable. Leave <code>\"{}\"</code> as is; it will be automatically replaced by <code>\"dv_x\"</code>. This more complex format assumes variables of dimension 1. If <code>None</code>, do not consider other variable relations than those defined by <code>disciplines</code>.</p> <p> TYPE: <code>Mapping[str, str | tuple[str, str]]</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>maximize_objective</code> <p>Whether to maximize the statistic of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def __init__(\n    self,\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: BaseFormulationSettings | None = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n        objective_statistic_name: The name of the statistic\n            to be applied to the objective, e.g. \"margin\".\n        statistic_estimation_settings: The settings\n            of the statistics' estimation technique.\n        objective_statistic_parameters: The parameters of the statistics\n            to be applied to the objective,\n            e.g. `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n        uncertain_design_variables: This argument facilitates\n            the definition of uncertain design variables in two ways.\n            The first way consists of passing a dictionary\n            of the form `{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}`\n            which defines the uncertain design variables as\n            `x1 = dv_x1 + u1` and `x2 = dv_x2 * (1 + u2)`.\n            Here `\"x1\"` and `\"x2\"` are the names of the design variables\n            made uncertain by the random variables `\"u_1\"` and `\"u_2\"`\n            which typically have zero mean.\n            `\"x1\"` and `\"x2\"` are the names of the design variables\n            actually used in `disciplines`\n            while the names `\"dv_x1\"` and `dv_x2` are generated by the scenario.\n            More generally,\n            the first element of the tuple is assumed\n            to be either the class name or the\n            [SHORT_NAME][gemseo_umdo.disciplines.base_noiser.BaseNoiser.SHORT_NAME]\n            of a\n            [BaseNoiser][gemseo_umdo.disciplines.base_noiser.BaseNoiser]\n            (feel free to create new noising disciplines).\n            The second way of defining these uncertain design variables\n            consists of passing a set of more complex expressions\n            of the form `{\"x\": \"{} + u\", ...}`\n            where `\"x\"` is the name of the design variable\n            actually used in the equations,\n            `\"u\"` is the name of the uncertain variable\n            defined in the `uncertain_space`\n            and `\"{}\"` is the optimization variable.\n            Leave `\"{}\"` as is; it will be automatically replaced by `\"dv_x\"`.\n            This more complex format assumes variables of dimension 1.\n            If `None`,\n            do not consider other variable relations\n            than those defined by `disciplines`.\n        maximize_objective: Whether to maximize the statistic of the objective.\n    \"\"\"  # noqa: D205 D212 D415\n    disciplines = list(disciplines)\n    if uncertain_design_variables:\n        noising_discipline_chain = create_noising_discipline_chain(\n            design_space, uncertain_design_variables\n        )\n        disciplines.insert(0, noising_discipline_chain)\n\n    if formulation_settings_model is None:\n        formulation_name = formulation_settings.pop(\"formulation_name\")\n    else:\n        formulation_name = formulation_settings_model._TARGET_CLASS_NAME\n\n    mdo_formulation_class = MDOFormulationFactory().get_class(formulation_name)\n    formulation_settings_model = create_model(\n        mdo_formulation_class.Settings,\n        formulation_settings_model,\n        **formulation_settings,\n    )\n\n    # Create the design space associated with the optimization problem\n    # generated by the MDO formulation\n    mdo_formulation_design_space = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        design_space,\n        settings_model=formulation_settings_model,\n    ).design_space\n\n    # Create the MDO formulation\n    # whose functions are evaluable over the uncertain space\n    # and differentiable with respect to the design variables.\n    formulation_settings_model_copy = formulation_settings_model.copy()\n    formulation_settings_model_copy.differentiated_input_names_substitute = (\n        mdo_formulation_design_space.variable_names\n    )\n    mdo_formulation = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        uncertain_space,\n        settings_model=formulation_settings_model_copy,\n    )\n\n    super().__init__(\n        disciplines,\n        objective_name,\n        mdo_formulation_design_space,\n        name=name,\n        mdo_formulation=mdo_formulation,\n        objective_statistic_name=objective_statistic_name,\n        objective_statistic_parameters=objective_statistic_parameters,\n        uncertain_space=uncertain_space,\n        maximize_objective=maximize_objective,\n        mdo_formulation_settings=formulation_settings,\n        formulation_settings_model=statistic_estimation_settings,\n    )\n\n    self.formulation_name = self.formulation.name\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the available statistics.</p>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation over the uncertain space.</p>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_constraint(\n        output_name,\n        statistic_name,\n        constraint_type=constraint_type,\n        constraint_name=constraint_name,\n        value=value,\n        positive=positive,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario.BaseUScenario.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_observable(\n        output_names,\n        statistic_name,\n        observable_name=observable_name,\n        discipline=discipline,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/base_u_scenario/#gemseo_umdo.scenarios.base_u_scenario-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/","title":"Udoe scenario","text":""},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario","title":"udoe_scenario","text":"<p>Scenario for multidisciplinary design sampling problems under uncertainty.</p>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario","title":"UDOEScenario","text":"<pre><code>UDOEScenario(\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: (\n        BaseFormulationSettings | None\n    ) = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any\n)\n</code></pre> <p>               Bases: <code>BaseUScenario</code>, <code>DOEScenario</code></p> <p>A DOE-based scenario for multidisciplinary design under uncertainty.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_estimation_settings</code> <p>The settings of the statistics' estimation technique.</p> <p> TYPE: <code>BaseUMDOFormulationSettings</code> </p> <code>objective_statistic_parameters</code> <p>The parameters of the statistics to be applied to the objective, e.g. <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>uncertain_design_variables</code> <p>This argument facilitates the definition of uncertain design variables in two ways. The first way consists of passing a dictionary of the form <code>{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}</code> which defines the uncertain design variables as <code>x1 = dv_x1 + u1</code> and <code>x2 = dv_x2 * (1 + u2)</code>. Here <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables made uncertain by the random variables <code>\"u_1\"</code> and <code>\"u_2\"</code> which typically have zero mean. <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables actually used in <code>disciplines</code> while the names <code>\"dv_x1\"</code> and <code>dv_x2</code> are generated by the scenario. More generally, the first element of the tuple is assumed to be either the class name or the SHORT_NAME of a BaseNoiser (feel free to create new noising disciplines). The second way of defining these uncertain design variables consists of passing a set of more complex expressions of the form <code>{\"x\": \"{} + u\", ...}</code> where <code>\"x\"</code> is the name of the design variable actually used in the equations, <code>\"u\"</code> is the name of the uncertain variable defined in the <code>uncertain_space</code> and <code>\"{}\"</code> is the optimization variable. Leave <code>\"{}\"</code> as is; it will be automatically replaced by <code>\"dv_x\"</code>. This more complex format assumes variables of dimension 1. If <code>None</code>, do not consider other variable relations than those defined by <code>disciplines</code>.</p> <p> TYPE: <code>Mapping[str, str | tuple[str, str]]</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>maximize_objective</code> <p>Whether to maximize the statistic of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def __init__(\n    self,\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: BaseFormulationSettings | None = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n        objective_statistic_name: The name of the statistic\n            to be applied to the objective, e.g. \"margin\".\n        statistic_estimation_settings: The settings\n            of the statistics' estimation technique.\n        objective_statistic_parameters: The parameters of the statistics\n            to be applied to the objective,\n            e.g. `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n        uncertain_design_variables: This argument facilitates\n            the definition of uncertain design variables in two ways.\n            The first way consists of passing a dictionary\n            of the form `{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}`\n            which defines the uncertain design variables as\n            `x1 = dv_x1 + u1` and `x2 = dv_x2 * (1 + u2)`.\n            Here `\"x1\"` and `\"x2\"` are the names of the design variables\n            made uncertain by the random variables `\"u_1\"` and `\"u_2\"`\n            which typically have zero mean.\n            `\"x1\"` and `\"x2\"` are the names of the design variables\n            actually used in `disciplines`\n            while the names `\"dv_x1\"` and `dv_x2` are generated by the scenario.\n            More generally,\n            the first element of the tuple is assumed\n            to be either the class name or the\n            [SHORT_NAME][gemseo_umdo.disciplines.base_noiser.BaseNoiser.SHORT_NAME]\n            of a\n            [BaseNoiser][gemseo_umdo.disciplines.base_noiser.BaseNoiser]\n            (feel free to create new noising disciplines).\n            The second way of defining these uncertain design variables\n            consists of passing a set of more complex expressions\n            of the form `{\"x\": \"{} + u\", ...}`\n            where `\"x\"` is the name of the design variable\n            actually used in the equations,\n            `\"u\"` is the name of the uncertain variable\n            defined in the `uncertain_space`\n            and `\"{}\"` is the optimization variable.\n            Leave `\"{}\"` as is; it will be automatically replaced by `\"dv_x\"`.\n            This more complex format assumes variables of dimension 1.\n            If `None`,\n            do not consider other variable relations\n            than those defined by `disciplines`.\n        maximize_objective: Whether to maximize the statistic of the objective.\n    \"\"\"  # noqa: D205 D212 D415\n    disciplines = list(disciplines)\n    if uncertain_design_variables:\n        noising_discipline_chain = create_noising_discipline_chain(\n            design_space, uncertain_design_variables\n        )\n        disciplines.insert(0, noising_discipline_chain)\n\n    if formulation_settings_model is None:\n        formulation_name = formulation_settings.pop(\"formulation_name\")\n    else:\n        formulation_name = formulation_settings_model._TARGET_CLASS_NAME\n\n    mdo_formulation_class = MDOFormulationFactory().get_class(formulation_name)\n    formulation_settings_model = create_model(\n        mdo_formulation_class.Settings,\n        formulation_settings_model,\n        **formulation_settings,\n    )\n\n    # Create the design space associated with the optimization problem\n    # generated by the MDO formulation\n    mdo_formulation_design_space = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        design_space,\n        settings_model=formulation_settings_model,\n    ).design_space\n\n    # Create the MDO formulation\n    # whose functions are evaluable over the uncertain space\n    # and differentiable with respect to the design variables.\n    formulation_settings_model_copy = formulation_settings_model.copy()\n    formulation_settings_model_copy.differentiated_input_names_substitute = (\n        mdo_formulation_design_space.variable_names\n    )\n    mdo_formulation = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        uncertain_space,\n        settings_model=formulation_settings_model_copy,\n    )\n\n    super().__init__(\n        disciplines,\n        objective_name,\n        mdo_formulation_design_space,\n        name=name,\n        mdo_formulation=mdo_formulation,\n        objective_statistic_name=objective_statistic_name,\n        objective_statistic_parameters=objective_statistic_parameters,\n        uncertain_space=uncertain_space,\n        maximize_objective=maximize_objective,\n        mdo_formulation_settings=formulation_settings,\n        formulation_settings_model=statistic_estimation_settings,\n    )\n\n    self.formulation_name = self.formulation.name\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the available statistics.</p>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation over the uncertain space.</p>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_constraint(\n        output_name,\n        statistic_name,\n        constraint_type=constraint_type,\n        constraint_name=constraint_name,\n        value=value,\n        positive=positive,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/udoe_scenario/#gemseo_umdo.scenarios.udoe_scenario.UDOEScenario.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_observable(\n        output_names,\n        statistic_name,\n        observable_name=observable_name,\n        discipline=discipline,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/","title":"Umdo scenario","text":""},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario","title":"umdo_scenario","text":"<p>Scenario for multidisciplinary design optimization problems under uncertainty.</p>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario","title":"UMDOScenario","text":"<pre><code>UMDOScenario(\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: (\n        BaseFormulationSettings | None\n    ) = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any\n)\n</code></pre> <p>               Bases: <code>BaseUScenario</code>, <code>MDOScenario</code></p> <p>An optimizer-based scenario for multidisciplinary design under uncertainty.</p> PARAMETER DESCRIPTION <code>uncertain_space</code> <p>The uncertain variables with their probability distributions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>objective_statistic_name</code> <p>The name of the statistic to be applied to the objective, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_estimation_settings</code> <p>The settings of the statistics' estimation technique.</p> <p> TYPE: <code>BaseUMDOFormulationSettings</code> </p> <code>objective_statistic_parameters</code> <p>The parameters of the statistics to be applied to the objective, e.g. <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>StrKeyMapping</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>uncertain_design_variables</code> <p>This argument facilitates the definition of uncertain design variables in two ways. The first way consists of passing a dictionary of the form <code>{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}</code> which defines the uncertain design variables as <code>x1 = dv_x1 + u1</code> and <code>x2 = dv_x2 * (1 + u2)</code>. Here <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables made uncertain by the random variables <code>\"u_1\"</code> and <code>\"u_2\"</code> which typically have zero mean. <code>\"x1\"</code> and <code>\"x2\"</code> are the names of the design variables actually used in <code>disciplines</code> while the names <code>\"dv_x1\"</code> and <code>dv_x2</code> are generated by the scenario. More generally, the first element of the tuple is assumed to be either the class name or the SHORT_NAME of a BaseNoiser (feel free to create new noising disciplines). The second way of defining these uncertain design variables consists of passing a set of more complex expressions of the form <code>{\"x\": \"{} + u\", ...}</code> where <code>\"x\"</code> is the name of the design variable actually used in the equations, <code>\"u\"</code> is the name of the uncertain variable defined in the <code>uncertain_space</code> and <code>\"{}\"</code> is the optimization variable. Leave <code>\"{}\"</code> as is; it will be automatically replaced by <code>\"dv_x\"</code>. This more complex format assumes variables of dimension 1. If <code>None</code>, do not consider other variable relations than those defined by <code>disciplines</code>.</p> <p> TYPE: <code>Mapping[str, str | tuple[str, str]]</code> DEFAULT: <code>READ_ONLY_EMPTY_DICT</code> </p> <code>maximize_objective</code> <p>Whether to maximize the statistic of the objective.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def __init__(\n    self,\n    disciplines: Sequence[Discipline | BaseScenario],\n    objective_name: str,\n    design_space: DesignSpace,\n    uncertain_space: ParameterSpace,\n    objective_statistic_name: str,\n    statistic_estimation_settings: BaseUMDOFormulationSettings,\n    objective_statistic_parameters: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n    uncertain_design_variables: Mapping[\n        str, str | tuple[str, str]\n    ] = READ_ONLY_EMPTY_DICT,\n    name: str = \"\",\n    formulation_settings_model: BaseFormulationSettings | None = None,\n    maximize_objective: bool = False,\n    **formulation_settings: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        uncertain_space: The uncertain variables\n            with their probability distributions.\n        objective_statistic_name: The name of the statistic\n            to be applied to the objective, e.g. \"margin\".\n        statistic_estimation_settings: The settings\n            of the statistics' estimation technique.\n        objective_statistic_parameters: The parameters of the statistics\n            to be applied to the objective,\n            e.g. `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n        uncertain_design_variables: This argument facilitates\n            the definition of uncertain design variables in two ways.\n            The first way consists of passing a dictionary\n            of the form `{\"x1\": (\"+\", \"u1\"), \"x2\": (\"*\", \"u2\"), ...}`\n            which defines the uncertain design variables as\n            `x1 = dv_x1 + u1` and `x2 = dv_x2 * (1 + u2)`.\n            Here `\"x1\"` and `\"x2\"` are the names of the design variables\n            made uncertain by the random variables `\"u_1\"` and `\"u_2\"`\n            which typically have zero mean.\n            `\"x1\"` and `\"x2\"` are the names of the design variables\n            actually used in `disciplines`\n            while the names `\"dv_x1\"` and `dv_x2` are generated by the scenario.\n            More generally,\n            the first element of the tuple is assumed\n            to be either the class name or the\n            [SHORT_NAME][gemseo_umdo.disciplines.base_noiser.BaseNoiser.SHORT_NAME]\n            of a\n            [BaseNoiser][gemseo_umdo.disciplines.base_noiser.BaseNoiser]\n            (feel free to create new noising disciplines).\n            The second way of defining these uncertain design variables\n            consists of passing a set of more complex expressions\n            of the form `{\"x\": \"{} + u\", ...}`\n            where `\"x\"` is the name of the design variable\n            actually used in the equations,\n            `\"u\"` is the name of the uncertain variable\n            defined in the `uncertain_space`\n            and `\"{}\"` is the optimization variable.\n            Leave `\"{}\"` as is; it will be automatically replaced by `\"dv_x\"`.\n            This more complex format assumes variables of dimension 1.\n            If `None`,\n            do not consider other variable relations\n            than those defined by `disciplines`.\n        maximize_objective: Whether to maximize the statistic of the objective.\n    \"\"\"  # noqa: D205 D212 D415\n    disciplines = list(disciplines)\n    if uncertain_design_variables:\n        noising_discipline_chain = create_noising_discipline_chain(\n            design_space, uncertain_design_variables\n        )\n        disciplines.insert(0, noising_discipline_chain)\n\n    if formulation_settings_model is None:\n        formulation_name = formulation_settings.pop(\"formulation_name\")\n    else:\n        formulation_name = formulation_settings_model._TARGET_CLASS_NAME\n\n    mdo_formulation_class = MDOFormulationFactory().get_class(formulation_name)\n    formulation_settings_model = create_model(\n        mdo_formulation_class.Settings,\n        formulation_settings_model,\n        **formulation_settings,\n    )\n\n    # Create the design space associated with the optimization problem\n    # generated by the MDO formulation\n    mdo_formulation_design_space = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        design_space,\n        settings_model=formulation_settings_model,\n    ).design_space\n\n    # Create the MDO formulation\n    # whose functions are evaluable over the uncertain space\n    # and differentiable with respect to the design variables.\n    formulation_settings_model_copy = formulation_settings_model.copy()\n    formulation_settings_model_copy.differentiated_input_names_substitute = (\n        mdo_formulation_design_space.variable_names\n    )\n    mdo_formulation = mdo_formulation_class(\n        disciplines,\n        objective_name,\n        uncertain_space,\n        settings_model=formulation_settings_model_copy,\n    )\n\n    super().__init__(\n        disciplines,\n        objective_name,\n        mdo_formulation_design_space,\n        name=name,\n        mdo_formulation=mdo_formulation,\n        objective_statistic_name=objective_statistic_name,\n        objective_statistic_parameters=objective_statistic_parameters,\n        uncertain_space=uncertain_space,\n        maximize_objective=maximize_objective,\n        mdo_formulation_settings=formulation_settings,\n        formulation_settings_model=statistic_estimation_settings,\n    )\n\n    self.formulation_name = self.formulation.name\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario.available_statistics","title":"available_statistics  <code>property</code>","text":"<pre><code>available_statistics: list[str]\n</code></pre> <p>The names of the available statistics.</p>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario.mdo_formulation","title":"mdo_formulation  <code>property</code>","text":"<pre><code>mdo_formulation: BaseMDOFormulation\n</code></pre> <p>The MDO formulation over the uncertain space.</p>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario.uncertain_space","title":"uncertain_space  <code>property</code>","text":"<pre><code>uncertain_space: ParameterSpace\n</code></pre> <p>The uncertain variable space.</p>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario.add_constraint","title":"add_constraint","text":"<pre><code>add_constraint(\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: ConstraintType = INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_constraint(\n    self,\n    output_name: str | Sequence[str],\n    statistic_name: str,\n    constraint_type: MDOFunction.ConstraintType = MDOFunction.ConstraintType.INEQ,\n    constraint_name: str = \"\",\n    value: float = 0,\n    positive: bool = False,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_constraint(\n        output_name,\n        statistic_name,\n        constraint_type=constraint_type,\n        constraint_name=constraint_name,\n        value=value,\n        positive=positive,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/scenarios/umdo_scenario/#gemseo_umdo.scenarios.umdo_scenario.UMDOScenario.add_observable","title":"add_observable","text":"<pre><code>add_observable(\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any\n) -&gt; None\n</code></pre> PARAMETER DESCRIPTION <code>statistic_name</code> <p>The name of the statistic to be applied to the constraint, e.g. \"margin\".</p> <p> TYPE: <code>str</code> </p> <code>statistic_parameters</code> <p>The parameters of the statistics to be applied to the constraint, <code>{\"factor\": 2.}</code> when <code>objective_statistic=\"margin\"</code>.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/scenarios/base_u_scenario.py</code> <pre><code>def add_observable(\n    self,\n    output_names: Sequence[str],\n    statistic_name: str,\n    observable_name: str = \"\",\n    discipline: Discipline | None = None,\n    **statistic_parameters: Any,\n) -&gt; None:\n    \"\"\"\n    Args:\n        statistic_name: The name of the statistic\n            to be applied to the constraint, e.g. \"margin\".\n        statistic_parameters: The parameters of the statistics\n            to be applied to the constraint,\n            `{\"factor\": 2.}` when `objective_statistic=\"margin\"`.\n    \"\"\"  # noqa: D205 D212 D415\n    self.formulation.add_observable(\n        output_names,\n        statistic_name,\n        observable_name=observable_name,\n        discipline=discipline,\n        **statistic_parameters,\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/","title":"Statistics","text":""},{"location":"reference/gemseo_umdo/statistics/#gemseo_umdo.statistics","title":"statistics","text":"<p>Tools for the estimation of statistics.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/","title":"Multilevel","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/#gemseo_umdo.statistics.multilevel","title":"multilevel","text":"<p>Multilevel Monte Carlo (MLMC) algorithms.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/","title":"Base pilot","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot","title":"base_pilot","text":"<p>The base pilot for multilevel algorithms.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot.BasePilot","title":"BasePilot","text":"<pre><code>BasePilot(sampling_ratios: RealArray, costs: RealArray)\n</code></pre> <p>The base pilot for multilevel algorithms.</p> <p>A pilot is associated with a statistic, e.g. mean. The method compute_next_level_and_statistic() returns a multilevel estimation of the statistic based on the current samples and the next level \\(\\ell^*\\) of the telescopic sum to sample in order to improve this estimation.</p> <p>This level \\(\\ell^*\\) maximizes the criterion</p> \\[\\frac{\\mathcal{V}_\\ell} {r_\\ell n_\\ell^2(\\mathcal{C}_\\ell+\\mathcal{C}_{\\ell-1})}\\] <p>where \\(\\mathcal{C}_{\\ell}\\) is the unit evaluation cost of the model \\(f_\\ell\\) (with \\(\\mathcal{C}_{-1}=0\\)), \\(n_\\ell\\) is the current number of evaluations of \\(f_\\ell\\) and \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) would be increased by choosing the level \\(\\ell\\). Regarding \\(\\mathcal{V}_\\ell\\), it represents the variance of the \\(\\ell\\)-th term of the telescopic sum characteristic of the MLMC techniques. For instance, \\(\\mathcal{V}_\\ell=\\mathbb{E}[Y_\\ell-Y_{\\ell}]\\) in the case of the expectation.</p> <p>References</p> <p>El Amri et al., Algorithm 1, Multilevel Surrogate-based Control Variates, 2024, https://doi.org/10.48550/arXiv.2306.10800.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def __init__(self, sampling_ratios: RealArray, costs: RealArray) -&gt; None:\n    r\"\"\"\n    Args:\n        sampling_ratios: The sampling ratios $r_0,\\ldots,r_L$;\n            the sampling ratio $r_\\ell$ is\n            the factor by which $n_\\ell$ is increased\n            between two sampling steps on the level $ell$.\n        costs: The unit sampling costs of each level of the telescopic sum.\n            Namely,\n            $(\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}$\n            with $\\mathcal{C}_{-1}=0$.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__costs = costs\n    self.__r_l = sampling_ratios\n    self.V_l = array([nan] * len(self.__r_l))\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot.BasePilot-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot.BasePilot.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot.BasePilot-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/base_pilot/#gemseo_umdo.statistics.multilevel.base_pilot.BasePilot.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/","title":"Mlmc","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/#gemseo_umdo.statistics.multilevel.mlmc","title":"mlmc","text":"<p>Multilevel Monte Carlo (MLMC) algorithm.</p> <p>The goal of the MLMC algorithm is to estimate a statistic \\(\\theta\\) (ex: mean, variance) of the output of a simulator \\(f\\) whose input \\(\\mathbf{X}\\) is random: that is, a statistic \\(\\theta\\) of \\(Y=f(\\mathbf{X})\\).</p> <p>Let \\((f_\\ell)_{\\ell = 0}^L\\) be a sequence of model levels with increasing accuracy and computational cost, such that \\(f_L = f\\). The MLMC algorithm uses all these models to estimate the statistic \\(\\theta_L\\) (a.k.a. \\(\\theta\\)) of the random output variable \\(f_L(\\mathbf{X})\\) where \\(\\mathbf{X}\\) is a random input vector.</p> <p>We denote by \\(Y_\\ell=f_\\ell(\\mathbf{X})\\) the random output variable associated with the model level \\(f_\\ell\\) and by \\((\\theta_\\ell)_{\\ell = 0}^L\\) the sequence of statistics increasingly close to \\(\\theta_L\\) where \\(\\theta_\\ell\\) is the statistic of \\(Y_\\ell\\).</p> <p>The statistical measure \\(\\theta_L\\) can be expressed as a telescoping sum \\(\\theta_L = \\sum \\limits_{\\ell = 0}^{L} T_\\ell\\), where \\(T_\\ell = \\theta_\\ell - \\theta_{\\ell-1}\\), and by convention \\(\\theta_{-1} = 0\\).</p> <p>Let \\(\\hat{\\theta}_{\\ell,n_\\ell}^{\\mathrm{MC},(\\ell)}\\) and \\(\\hat{\\theta}_{\\ell-1,n_\\ell}^{\\mathrm{MC},(\\ell)}\\) be respectively the Monte Carlo (MC) estimators of \\(\\theta_\\ell\\) and \\(\\theta_{\\ell-1}\\) using the same \\(n_{\\ell}\\)-sample.</p> <p>Then, the MLMC estimator \\(\\hat{\\theta}_L^{\\mathrm{ML}}\\) of \\(\\theta_L\\) may be expressed as:</p> \\[\\hat{\\theta}_L^{\\mathrm{MLMC}} = \\sum \\limits_{\\ell = 0}^{L} \\hat{T}_{\\ell,n_\\ell}^{\\mathrm{MC}} = \\sum \\limits_{\\ell = 0}^{L} \\hat{\\theta}_{\\ell,n_\\ell}^{\\mathrm{MC},(\\ell)} - \\hat{\\theta}_{\\ell-1,n_\\ell}^{\\mathrm{MC},(\\ell)}. \\]"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/","title":"Level","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level","title":"level","text":"<p>A level \\(\\ell\\) for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level","title":"Level  <code>dataclass</code>","text":"<pre><code>Level(\n    model: MDOFunction,\n    cost: float | None = None,\n    n_cost_estimation_samples: int = 1,\n    n_initial_samples: int = 10,\n    sampling_ratio: float = 2.0,\n)\n</code></pre> <p>A level \\(\\ell\\) for the MLMC algorithm.</p> PARAMETER DESCRIPTION <code>model</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>cost</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>None</code> </p> <code>n_cost_estimation_samples</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>1</code> </p> <code>n_initial_samples</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>10</code> </p> <code>sampling_ratio</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>2.0</code> </p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level.cost","title":"cost  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>cost: float | None = None\n</code></pre> <p>The cost \\(\\mathcal{C}_\\ell\\) to evaluate \\(f_\\ell\\), if known.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level.model","title":"model  <code>instance-attribute</code>","text":"<pre><code>model: MDOFunction\n</code></pre> <p>The model \\(f_\\ell\\) to sample.</p> <p>This model can be set from any callable taking a NumPy array of float numbers as input and outputting either a float number or a NumPy array of float numbers.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level.n_cost_estimation_samples","title":"n_cost_estimation_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>n_cost_estimation_samples: int = 1\n</code></pre> <p>The number of \\(f_\\ell\\) calls to estimate \\(\\mathcal{C}_\\ell\\).</p> <p>It will be used only if <code>cost</code> is <code>None</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level.n_initial_samples","title":"n_initial_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>n_initial_samples: int = 10\n</code></pre> <p>The number of samples \\(n_\\ell\\) at the first iteration of the algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/level/#gemseo_umdo.statistics.multilevel.mlmc.level.Level.sampling_ratio","title":"sampling_ratio  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sampling_ratio: float = 2.0\n</code></pre> <p>The number \\(r_\\ell\\) by which \\(n_\\ell\\) is increased.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/","title":"Mlmc","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc","title":"mlmc","text":"<p>A generic algorithm for multilevel Monte Carlo (MLMC) sampling.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC","title":"MLMC","text":"<pre><code>MLMC(\n    levels: Iterable[Level],\n    uncertain_space: ParameterSpace,\n    n_samples: float,\n    pilot_statistic_name: str = \"Mean\",\n    seed: int = SEED,\n)\n</code></pre> <p>Multilevel Monte Carlo (MLMC) algorithm.</p> <p>This algorithm aims at sampling the different model levels in an adaptive way, with many evaluations for the coarsest model and a few evaluations for the finest one.</p> <p>This adaptive sampling is guided by a BasePilot.</p> <p>This algorithm depends on the execution cost ratio between two consecutive levels, that can be estimated from the models, and on the sampling size ratio between two sampling steps on the same level.</p> <p>At a given iteration, the algorithm</p> <ol> <li>considers a level \\(\\ell^*\\) and a sample size \\(n_{\\ell^*}\\)</li> <li>samples the models involved in the statistic \\(T_{\\ell^*}\\)    of the telescoping sum (TS) \\(\\theta_L = \\sum_{\\ell=0}^L T_\\ell\\),</li> <li>computes the new level \\(\\ell^*\\) to sample    and the corresponding sample size \\(n_{\\ell^*}\\).</li> </ol> PARAMETER DESCRIPTION <code>levels</code> <p>The levels defined in terms of model, evaluation cost and initial number of calls.</p> <p> TYPE: <code>Iterable[Level]</code> </p> <code>uncertain_space</code> <p>The uncertain space on which to sample the functions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>n_samples</code> <p>The sampling budget expressed as the number of model evaluations equivalent to evaluations of the finest model. This number is not necessarily an integer; for instance, if \\(f_L\\) is twice as expensive as \\(f_{L-1}\\), then <code>n_samples=1.5</code> can correspond to 1 evaluation of \\(f_L\\) and 1 evaluation of \\(f_{L-1}\\).</p> <p> TYPE: <code>float</code> </p> <code>pilot_statistic_name</code> <p>The name of the statistic used to drive the algorithm.</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Mean'</code> </p> <code>seed</code> <p>The initial random seed for reproducibility. Then, the seed is incremented at each level of the telescopic sum and at each algorithm iteration.</p> <p> TYPE: <code>int</code> DEFAULT: <code>SEED</code> </p> RAISES DESCRIPTION <code>ValueError</code> <p>When the minimum cost is greater than the maximum cost.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/mlmc.py</code> <pre><code>def __init__(\n    self,\n    levels: Iterable[Level],\n    uncertain_space: ParameterSpace,\n    n_samples: float,\n    pilot_statistic_name: str = \"Mean\",\n    seed: int = SEED,\n) -&gt; None:\n    r\"\"\"\n    Args:\n        levels: The levels\n            defined in terms of model, evaluation cost and initial number of calls.\n        uncertain_space: The uncertain space on which to sample the functions.\n        n_samples: The sampling budget expressed as\n            the number of model evaluations\n            equivalent to evaluations of the finest model.\n            This number is not necessarily an integer;\n            for instance,\n            if $f_L$ is twice as expensive as $f_{L-1}$,\n            then `n_samples=1.5` can correspond to\n            1 evaluation of $f_L$ and 1 evaluation of $f_{L-1}$.\n        pilot_statistic_name: The name of the statistic used to drive the algorithm.\n        seed: The initial random seed for reproducibility.\n            Then,\n            the seed is incremented at each level of the telescopic sum\n            and at each algorithm iteration.\n\n    Raises:\n        ValueError: When the minimum cost is greater than the maximum cost.\n    \"\"\"  # noqa: D205 D212 D415\n    self._algorithm_name = \"MLMC\"\n\n    # Initialize the seed.\n    self.__seed = seed\n\n    # Set the models f_0, f_1, ..., f_L.\n    self.__f_l = [level.model for level in levels]\n    for l, f_l in enumerate(self.__f_l):  # noqa: E741\n        f_l.name = f\"f[{l}]\"\n\n    # Set the number of levels.\n    self._n_levels = len(self.__f_l)\n\n    # Set the unit sampling costs of each level of the telescopic sum (TS).\n    C_l = array(  # noqa: N806\n        [level.cost if level.cost is not None else nan for level in levels]\n    )\n    self.__C_l = C_l = C_l / C_l[-1]  # noqa: N806\n    self.__total_execution_times = array([0] * self._n_levels)\n    self.__costs = array([C_l[0], *(C_l[1:] + C_l[:-1]).tolist()])\n\n    # Set the sampling ratios r_l of each level of the TS.\n    self.__r_l = array([level.sampling_ratio for level in levels])\n\n    # Set the Monte Carlo samplers of each level of the TS.\n    self._samplers = tuple(\n        MonteCarloSampler(uncertain_space) for _ in range(self._n_levels)\n    )\n    self._add_functions_to_samplers()\n\n    # Set the numbers of samples to be added at each level of the TS.\n    self.__delta_n_l = [level.n_initial_samples for level in levels]\n\n    # Initialize the history of numbers of samples added at each level of the TS.\n    self.__n_samples_history = [self.__delta_n_l.copy()]\n\n    # Initialize the numbers of samples of each level of the TS.\n    self.__n_l = array(self.__n_samples_history[0], dtype=\"int64\")\n\n    self.__minimum_budget = sum(\n        nl * cost for nl, cost in zip(self.__n_samples_history[0], self.__costs)\n    )\n    self.__total_budget = n_samples\n    self.__current_budget = self.__total_budget\n    self.__budget_history = []\n    self.__use_empirical_C_l = isnan(self.__minimum_budget)\n    if not self.__use_empirical_C_l and self.__minimum_budget &gt; n_samples:\n        msg = (\n            f\"The minimum budget {self.__minimum_budget} is greater \"\n            f\"than the total budget {n_samples}.\"\n        )\n        raise ValueError(msg)\n\n    # Set the estimator of the pilot statistic and initialize its estimation.\n    self.__pilot_statistic_estimation = array([])\n    self.__pilot_statistic_estimator = self._PILOT_FACTORY().create(\n        pilot_statistic_name,\n        sampling_ratios=self.__r_l,\n        costs=self.__costs,\n    )\n    self._pilot_statistic_estimator_parameters = []\n    self.__V_l = 0\n    LOGGER.info(\"%s\", self)\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.budget_history","title":"budget_history  <code>property</code>","text":"<pre><code>budget_history: RealArray\n</code></pre> <p>The history of the budget.</p> <p><code>algo.budget_history[i]</code> is the budget at iteration <code>i+1</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.level_costs","title":"level_costs  <code>property</code>","text":"<pre><code>level_costs: RealArray\n</code></pre> <p>The evaluation costs of the different levels.</p> <p><code>algo.level_costs[l]</code> is the cost of one evaluation of the <code>l</code>-th level.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.model_costs","title":"model_costs  <code>property</code>","text":"<pre><code>model_costs: RealArray\n</code></pre> <p>The evaluation costs of the different models.</p> <p><code>algo.model_costs[l]</code> is the cost of one evaluation of the <code>l</code>-th model.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.n_total_samples","title":"n_total_samples  <code>property</code>","text":"<pre><code>n_total_samples: NDArray[int]\n</code></pre> <p>The total numbers of samples per level.</p> <p><code>algo.n_total_samples[l]</code> is the total number of samples at level <code>l</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.pilot_statistic_estimation","title":"pilot_statistic_estimation  <code>property</code>","text":"<pre><code>pilot_statistic_estimation: RealArray\n</code></pre> <p>The estimation of the pilot statistic.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.sampling_history","title":"sampling_history  <code>property</code>","text":"<pre><code>sampling_history: NDArray[int]\n</code></pre> <p>The history of the numbers of samples of each level of the telescopic sum.</p> <p><code>algo.sampling_size_history[i, l]</code> is the number of samples at iteration <code>i+1</code> and level <code>l</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.execute","title":"execute","text":"<pre><code>execute() -&gt; None\n</code></pre> <p>Execute the algorithm.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/mlmc.py</code> <pre><code>def execute(self) -&gt; None:\n    \"\"\"Execute the algorithm.\"\"\"\n    # The current version of the algorithm samples only one level at a time,\n    # except at the first iteration where it samples them all.\n    levels_to_be_sampled = list(range(self._n_levels))\n\n    # Initialize the iteration of the algorithm.\n    is_last_iteration = False\n    iteration = 0\n\n    # As long as there is budget left\n    LOGGER.info(\"Start sampling with a total budget of %s\", self.__total_budget)\n    while self.__current_budget &gt;= 0:\n        iteration += 1\n        if is_last_iteration:\n            LOGGER.info(\"   Iteration #%s (last iteration)\", iteration)\n        else:\n            LOGGER.info(\"   Iteration #%s\", iteration)\n\n        # Append the budget to the budget history.\n        self.__budget_history.append(self.__current_budget)\n\n        # Sample the selected levels of the TS.\n        levels_to_samples = self.__compute_samples(*levels_to_be_sampled)\n\n        # Select the next level l_star of the TS to be sampled\n        # and estimate the statistic.\n        (\n            l_star,\n            self.__pilot_statistic_estimation,\n        ) = self.__pilot_statistic_estimator.compute_next_level_and_statistic(\n            levels_to_be_sampled,\n            self.__n_l,\n            levels_to_samples,\n            *self._pilot_statistic_estimator_parameters,\n        )\n\n        # Stop the algorithm if it is the last iteration.\n        if is_last_iteration:\n            break\n\n        # The current version of the algorithm samples only one level at a time.\n        levels_to_be_sampled = [l_star]\n\n        # Define the corresponding sample size.\n        delta_n_l_star = math.floor((self.__r_l[l_star] - 1) * self.__n_l[l_star])\n        n_l_star = self.__n_l[l_star] + delta_n_l_star\n        LOGGER.info(\"      Find the next level to sample\")\n        LOGGER.info(\"         l_star = %s\", l_star)\n        LOGGER.info(\"         d_n_l_star = %s\", delta_n_l_star)\n        LOGGER.info(\"         n_l_star = %s\", n_l_star)\n\n        # If the new sampling stage is too expensive, reduce the number of samples.\n        posterior_budget = (\n            self.__current_budget - delta_n_l_star * self.__costs[l_star]\n        )\n        if posterior_budget &lt; 0:\n            LOGGER.info(\"         Maximum budget exceeded by %s\", -posterior_budget)\n            LOGGER.info(\n                \"         Decrease d_n_l_star to respect the maximum budget\"\n            )\n\n            # There is a budget to do at most one iteration.\n            is_last_iteration = True\n\n            # Update the numbers of additional samples at level l_star\n            # to achieve a positive or zero budget.\n            delta_n_l_star = int(\n                delta_n_l_star + posterior_budget / self.__costs[l_star]\n            )\n            n_l_star = self.__n_l[l_star] + delta_n_l_star\n            LOGGER.info(\"         d_n_l_star = %s\", delta_n_l_star)\n            LOGGER.info(\"         n_l_star = %s\", n_l_star)\n            # Stop the algorithm if one can no longer sample l_star.\n            if delta_n_l_star == 0:\n                LOGGER.info(\n                    \"Stop the algorithm as sampling l_star is too expensive.\"\n                )\n                break\n\n        # Update the history of number of samples of each level\n        # (0 for all the levels, but l_star).\n        self.__delta_n_l = zeros(self._n_levels)\n        self.__delta_n_l[l_star] = delta_n_l_star\n        self.__n_l[l_star] += delta_n_l_star\n        self.__n_samples_history.extend([self.__delta_n_l.copy()])\n\n    LOGGER.info(\"Sampling completed\")\n    LOGGER.info(\"Results\")\n    LOGGER.info(\"   Pilot statistic = %s\", self.pilot_statistic_estimation)\n    LOGGER.info(\"   Total cost = %s\", sum(self.__n_l * self.__costs))\n    LOGGER.info(\"   Cost allocation\")\n    levels_to_total_costs = self.__n_l * self.__costs\n    levels_to_total_costs = levels_to_total_costs / sum(levels_to_total_costs)\n    for level, total_cost in enumerate(levels_to_total_costs):\n        LOGGER.info(\"      Level %s: %s\", level, f\"{total_cost:.1%}\")\n\n    LOGGER.info(\"   n_l\")\n    for level in range(self._n_levels):\n        LOGGER.info(\"       n_%s = %s\", level, self.__n_l[level])\n\n    LOGGER.info(\"   V_l\")\n    self.__V_l = self.__pilot_statistic_estimator.V_l\n    for level in range(self._n_levels):\n        LOGGER.info(\"       V_%s = %s\", level, f\"{self.__V_l[level]:.2e}\")\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/mlmc/#gemseo_umdo.statistics.multilevel.mlmc.mlmc.MLMC.plot_evaluation_history","title":"plot_evaluation_history","text":"<pre><code>plot_evaluation_history(\n    show: bool = True,\n    file_path: str | Path | None = None,\n    log_n_evaluations: bool = True,\n    log_budget: bool = False,\n) -&gt; None\n</code></pre> <p>Plot the history of the model evaluations in terms of sample size and budget.</p> PARAMETER DESCRIPTION <code>show</code> <p>Whether to display the graph.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>file_path</code> <p>The file path to save the graph.</p> <p> TYPE: <code>str | Path | None</code> DEFAULT: <code>None</code> </p> <code>log_n_evaluations</code> <p>Whether to use a log-scale for the number of evaluations.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>log_budget</code> <p>Whether to use a log-scale for the budget.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/mlmc.py</code> <pre><code>def plot_evaluation_history(\n    self,\n    show: bool = True,\n    file_path: str | Path | None = None,\n    log_n_evaluations: bool = True,\n    log_budget: bool = False,\n) -&gt; None:\n    \"\"\"Plot the history of the model evaluations in terms of sample size and budget.\n\n    Args:\n        show: Whether to display the graph.\n        file_path: The file path to save the graph.\n        log_n_evaluations: Whether to use a log-scale for the number of evaluations.\n        log_budget: Whether to use a log-scale for the budget.\n    \"\"\"\n    fig, (ax1, ax2) = plt.subplots(ncols=2)\n    iterations = [i + 1 for i, _ in enumerate(self.__n_samples_history)]\n    ax1.plot(\n        iterations,\n        cumsum(array(self.__n_samples_history), axis=0),\n        label=[rf\"$f_{level}$\" for level in range(self._n_levels)],\n        marker=\".\",\n    )\n    if log_n_evaluations:\n        ax1.set_yscale(\"log\")\n\n    ax1.set_xlabel(\"Iteration\")\n    ax1.set_ylabel(\"Cumulated number of evaluations\")\n    ax1.legend(title=\"Simulators\")\n    ax1.grid(which=\"both\")\n    data = (array(self.__n_samples_history) * self.__costs).T\n    ax2.bar(iterations, data[0], label=r\"$f_0$\")\n    for index, row in enumerate(data[1:]):\n        ax2.bar(\n            iterations,\n            row,\n            bottom=data[0 : index + 1].sum(0),\n            label=rf\"$f_{index + 1}$\",\n        )\n\n    if log_budget:\n        ax2.set_yscale(\"log\")\n\n    ax2.set_xlabel(\"Iteration\")\n    ax2.set_ylabel(\"Cost\")\n    ax2.legend(title=\"Simulators\")\n    ax2.grid(which=\"both\")\n    ax2.set_axisbelow(True)\n    save_show_figure(fig, show, file_path, fig_size=(10, 3))\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/","title":"Pilots","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/#gemseo_umdo.statistics.multilevel.mlmc.pilots","title":"pilots","text":"<p>A set of pilots for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/","title":"Base mlmc pilot","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot","title":"base_mlmc_pilot","text":"<p>The base pilot class for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot","title":"BaseMLMCPilot","text":"<pre><code>BaseMLMCPilot(sampling_ratios: RealArray, costs: RealArray)\n</code></pre> <p>               Bases: <code>BasePilot</code></p> <p>The base pilot class for the MLMC algorithm.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def __init__(self, sampling_ratios: RealArray, costs: RealArray) -&gt; None:\n    r\"\"\"\n    Args:\n        sampling_ratios: The sampling ratios $r_0,\\ldots,r_L$;\n            the sampling ratio $r_\\ell$ is\n            the factor by which $n_\\ell$ is increased\n            between two sampling steps on the level $ell$.\n        costs: The unit sampling costs of each level of the telescopic sum.\n            Namely,\n            $(\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}$\n            with $\\mathcal{C}_{-1}=0$.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__costs = costs\n    self.__r_l = sampling_ratios\n    self.V_l = array([nan] * len(self.__r_l))\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/base_mlmc_pilot/#gemseo_umdo.statistics.multilevel.mlmc.pilots.base_mlmc_pilot.BaseMLMCPilot.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc.pilots.factory","title":"factory","text":"<p>A factory of pilots for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc.pilots.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc.pilots.factory.MLMCPilotFactory","title":"MLMCPilotFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory of pilots for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean","title":"mean","text":"<p>The mean-based pilot for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean.Mean","title":"Mean","text":"<pre><code>Mean(sampling_ratios: RealArray, costs: RealArray)\n</code></pre> <p>               Bases: <code>BaseMLMCPilot</code></p> <p>The mean-based pilot for the MLMC algorithm.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean.py</code> <pre><code>def __init__(  # noqa: D107\n    self, sampling_ratios: RealArray, costs: RealArray\n) -&gt; None:\n    super().__init__(sampling_ratios, costs)\n    self.__delta = [array([]) for _ in range(len(sampling_ratios))]\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean.Mean-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean.Mean.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc.pilots.mean.Mean.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/","title":"Variance","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance","title":"variance","text":"<p>The variance-based pilot for the MLMC algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance.Variance","title":"Variance","text":"<pre><code>Variance(sampling_ratios: RealArray, costs: RealArray)\n</code></pre> <p>               Bases: <code>BaseMLMCPilot</code></p> <p>The variance-based pilot for the MLMC algorithm.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance.py</code> <pre><code>def __init__(  # noqa: D107\n    self, sampling_ratios: RealArray, costs: RealArray\n) -&gt; None:\n    super().__init__(sampling_ratios, costs)\n    n_levels = len(sampling_ratios)\n    self.__delta = [array([]) for _ in range(n_levels)]\n    self.__sigma = [array([]) for _ in range(n_levels)]\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance.Variance-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance.Variance.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance.Variance-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc/pilots/variance/#gemseo_umdo.statistics.multilevel.mlmc.pilots.variance.Variance.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/","title":"Mlmc mlcv","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv","title":"mlmc_mlcv","text":"<p>Multilevel Monte Carlo with multilevel control variate (MLMC-MLCV) algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/","title":"Level","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level","title":"level","text":"<p>A level \\(\\ell\\) for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level","title":"Level  <code>dataclass</code>","text":"<pre><code>Level(\n    model: MDOFunction,\n    surrogate_model: tuple[MDOFunction, float],\n    difference_surrogate_model: tuple[\n        MDOFunction, float\n    ] = (),\n    cost: float | None = None,\n    n_cost_estimation_samples: int = 1,\n    n_initial_samples: int = 10,\n    sampling_ratio: float = 2.0,\n)\n</code></pre> <p>A level \\(\\ell\\) for the MLMC-MLCV algorithm.</p> PARAMETER DESCRIPTION <code>model</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>surrogate_model</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>difference_surrogate_model</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>()</code> </p> <code>cost</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>None</code> </p> <code>n_cost_estimation_samples</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>1</code> </p> <code>n_initial_samples</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>10</code> </p> <code>sampling_ratio</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>2.0</code> </p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.cost","title":"cost  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>cost: float | None = None\n</code></pre> <p>The cost \\(\\mathcal{C}_\\ell\\) to evaluate \\(f_\\ell\\), if known.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.difference_surrogate_model","title":"difference_surrogate_model  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>difference_surrogate_model: tuple[MDOFunction, float] = ()\n</code></pre> <p>The surrogate model \\(h_\\ell\\) approximating \\(f_\\ell-f_{\\ell-1}\\).</p> <p>More precisely, \\(h_\\ell\\) and its statistic for the MLMCMLCV algorithm.</p> <p>Empty at level \\(\\ell=0\\).</p> <p>The surrogate model can be set from any callable taking a NumPy array of float numbers as input and outputting either a float number or a NumPy array of float numbers.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.model","title":"model  <code>instance-attribute</code>","text":"<pre><code>model: MDOFunction\n</code></pre> <p>The model \\(f_\\ell\\) to sample.</p> <p>This model can be set from any callable taking a NumPy array of float numbers as input and outputting either a float number or a NumPy array of float numbers.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.n_cost_estimation_samples","title":"n_cost_estimation_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>n_cost_estimation_samples: int = 1\n</code></pre> <p>The number of \\(f_\\ell\\) calls to estimate \\(\\mathcal{C}_\\ell\\).</p> <p>It will be used only if <code>cost</code> is <code>None</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.n_initial_samples","title":"n_initial_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>n_initial_samples: int = 10\n</code></pre> <p>The number of samples \\(n_\\ell\\) at the first iteration of the algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.sampling_ratio","title":"sampling_ratio  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sampling_ratio: float = 2.0\n</code></pre> <p>The factor \\(r_\\ell\\) by which \\(n_\\ell\\) is increased.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/level/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.level.Level.surrogate_model","title":"surrogate_model  <code>instance-attribute</code>","text":"<pre><code>surrogate_model: tuple[MDOFunction, float]\n</code></pre> <p>The surrogate model \\(g_\\ell\\) approximating \\(f_\\ell\\).</p> <p>More precisely, \\(g_\\ell\\) and its statistic for the MLMCMLCV algorithm.</p> <p>The surrogate model can be set from any callable taking a NumPy array of float numbers as input and outputting either a float number or a NumPy array of float numbers.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/","title":"Mlmc mlcv","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv","title":"mlmc_mlcv","text":"<p>Multilevel Monte Carlo with multilevel control variates (MLMC-MLCV).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV","title":"MLMCMLCV","text":"<pre><code>MLMCMLCV(\n    levels: Sequence[Level],\n    uncertain_space: ParameterSpace,\n    n_samples: float,\n    pilot: str = \"Mean\",\n    variant: Variant = MLMC_MLCV,\n    seed: int = SEED,\n)\n</code></pre> <p>               Bases: <code>MLMC</code></p> <p>Multilevel Monte Carlo with multilevel control variates (MLMC-MLCV).</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels defined in terms of model, evaluation cost and initial number of calls.</p> <p> TYPE: <code>Iterable[Level]</code> </p> <code>uncertain_space</code> <p>The uncertain space on which to sample the functions.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>n_samples</code> <p>The sampling budget expressed as the number of model evaluations equivalent to evaluations of the finest model. This number is not necessarily an integer; for instance, if \\(f_L\\) is twice as expensive as \\(f_{L-1}\\), then <code>n_samples=1.5</code> can correspond to 1 evaluation of \\(f_L\\) and 1 evaluation of \\(f_{L-1}\\).</p> <p> TYPE: <code>float</code> </p> <code>pilot_statistic_name</code> <p>The name of the statistic used to drive the algorithm.</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Mean'</code> </p> <code>seed</code> <p>The initial random seed for reproducibility. Then, the seed is incremented at each level of the telescopic sum and at each algorithm iteration.</p> <p> TYPE: <code>int</code> DEFAULT: <code>SEED</code> </p> RAISES DESCRIPTION <code>ValueError</code> <p>When the minimum cost is greater than the maximum cost.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv.py</code> <pre><code>def __init__(  # noqa: D107\n    self,\n    levels: Sequence[Level],\n    uncertain_space: ParameterSpace,\n    n_samples: float,\n    pilot: str = \"Mean\",\n    variant: Variant = Variant.MLMC_MLCV,\n    seed: int = SEED,\n) -&gt; None:\n    self.__g_l = tuple(level.surrogate_model[0] for level in levels)\n    for l, g_l in enumerate(self.__g_l):  # noqa: E741\n        g_l.name = f\"g[{l}]\"\n\n    self.__h_l = tuple(\n        level.difference_surrogate_model[0]\n        for l, level in enumerate(levels)  # noqa: E741\n        if l != 0\n    )\n    for l, h_l in enumerate(self.__h_l):  # noqa: E741\n        h_l.name = f\"h[{l + 1}]\"\n    self.__variant = variant\n    super().__init__(\n        levels,\n        uncertain_space,\n        n_samples,\n        pilot_statistic_name=pilot,\n        seed=seed,\n    )\n\n    self._algorithm_name = variant.value\n    self._pilot_statistic_estimator_parameters = [\n        array([level.surrogate_model[1] for level in levels]),\n        array([\n            level.difference_surrogate_model[1]\n            for l, level in enumerate(levels)  # noqa: E741\n            if l != 0\n        ]),\n        variant,\n    ]\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.budget_history","title":"budget_history  <code>property</code>","text":"<pre><code>budget_history: RealArray\n</code></pre> <p>The history of the budget.</p> <p><code>algo.budget_history[i]</code> is the budget at iteration <code>i+1</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.level_costs","title":"level_costs  <code>property</code>","text":"<pre><code>level_costs: RealArray\n</code></pre> <p>The evaluation costs of the different levels.</p> <p><code>algo.level_costs[l]</code> is the cost of one evaluation of the <code>l</code>-th level.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.model_costs","title":"model_costs  <code>property</code>","text":"<pre><code>model_costs: RealArray\n</code></pre> <p>The evaluation costs of the different models.</p> <p><code>algo.model_costs[l]</code> is the cost of one evaluation of the <code>l</code>-th model.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.n_total_samples","title":"n_total_samples  <code>property</code>","text":"<pre><code>n_total_samples: NDArray[int]\n</code></pre> <p>The total numbers of samples per level.</p> <p><code>algo.n_total_samples[l]</code> is the total number of samples at level <code>l</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.pilot_statistic_estimation","title":"pilot_statistic_estimation  <code>property</code>","text":"<pre><code>pilot_statistic_estimation: RealArray\n</code></pre> <p>The estimation of the pilot statistic.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.sampling_history","title":"sampling_history  <code>property</code>","text":"<pre><code>sampling_history: NDArray[int]\n</code></pre> <p>The history of the numbers of samples of each level of the telescopic sum.</p> <p><code>algo.sampling_size_history[i, l]</code> is the number of samples at iteration <code>i+1</code> and level <code>l</code>.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.Variant","title":"Variant","text":"<p>               Bases: <code>StrEnum</code></p> <p>A variant of the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.execute","title":"execute","text":"<pre><code>execute() -&gt; None\n</code></pre> <p>Execute the algorithm.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/mlmc.py</code> <pre><code>def execute(self) -&gt; None:\n    \"\"\"Execute the algorithm.\"\"\"\n    # The current version of the algorithm samples only one level at a time,\n    # except at the first iteration where it samples them all.\n    levels_to_be_sampled = list(range(self._n_levels))\n\n    # Initialize the iteration of the algorithm.\n    is_last_iteration = False\n    iteration = 0\n\n    # As long as there is budget left\n    LOGGER.info(\"Start sampling with a total budget of %s\", self.__total_budget)\n    while self.__current_budget &gt;= 0:\n        iteration += 1\n        if is_last_iteration:\n            LOGGER.info(\"   Iteration #%s (last iteration)\", iteration)\n        else:\n            LOGGER.info(\"   Iteration #%s\", iteration)\n\n        # Append the budget to the budget history.\n        self.__budget_history.append(self.__current_budget)\n\n        # Sample the selected levels of the TS.\n        levels_to_samples = self.__compute_samples(*levels_to_be_sampled)\n\n        # Select the next level l_star of the TS to be sampled\n        # and estimate the statistic.\n        (\n            l_star,\n            self.__pilot_statistic_estimation,\n        ) = self.__pilot_statistic_estimator.compute_next_level_and_statistic(\n            levels_to_be_sampled,\n            self.__n_l,\n            levels_to_samples,\n            *self._pilot_statistic_estimator_parameters,\n        )\n\n        # Stop the algorithm if it is the last iteration.\n        if is_last_iteration:\n            break\n\n        # The current version of the algorithm samples only one level at a time.\n        levels_to_be_sampled = [l_star]\n\n        # Define the corresponding sample size.\n        delta_n_l_star = math.floor((self.__r_l[l_star] - 1) * self.__n_l[l_star])\n        n_l_star = self.__n_l[l_star] + delta_n_l_star\n        LOGGER.info(\"      Find the next level to sample\")\n        LOGGER.info(\"         l_star = %s\", l_star)\n        LOGGER.info(\"         d_n_l_star = %s\", delta_n_l_star)\n        LOGGER.info(\"         n_l_star = %s\", n_l_star)\n\n        # If the new sampling stage is too expensive, reduce the number of samples.\n        posterior_budget = (\n            self.__current_budget - delta_n_l_star * self.__costs[l_star]\n        )\n        if posterior_budget &lt; 0:\n            LOGGER.info(\"         Maximum budget exceeded by %s\", -posterior_budget)\n            LOGGER.info(\n                \"         Decrease d_n_l_star to respect the maximum budget\"\n            )\n\n            # There is a budget to do at most one iteration.\n            is_last_iteration = True\n\n            # Update the numbers of additional samples at level l_star\n            # to achieve a positive or zero budget.\n            delta_n_l_star = int(\n                delta_n_l_star + posterior_budget / self.__costs[l_star]\n            )\n            n_l_star = self.__n_l[l_star] + delta_n_l_star\n            LOGGER.info(\"         d_n_l_star = %s\", delta_n_l_star)\n            LOGGER.info(\"         n_l_star = %s\", n_l_star)\n            # Stop the algorithm if one can no longer sample l_star.\n            if delta_n_l_star == 0:\n                LOGGER.info(\n                    \"Stop the algorithm as sampling l_star is too expensive.\"\n                )\n                break\n\n        # Update the history of number of samples of each level\n        # (0 for all the levels, but l_star).\n        self.__delta_n_l = zeros(self._n_levels)\n        self.__delta_n_l[l_star] = delta_n_l_star\n        self.__n_l[l_star] += delta_n_l_star\n        self.__n_samples_history.extend([self.__delta_n_l.copy()])\n\n    LOGGER.info(\"Sampling completed\")\n    LOGGER.info(\"Results\")\n    LOGGER.info(\"   Pilot statistic = %s\", self.pilot_statistic_estimation)\n    LOGGER.info(\"   Total cost = %s\", sum(self.__n_l * self.__costs))\n    LOGGER.info(\"   Cost allocation\")\n    levels_to_total_costs = self.__n_l * self.__costs\n    levels_to_total_costs = levels_to_total_costs / sum(levels_to_total_costs)\n    for level, total_cost in enumerate(levels_to_total_costs):\n        LOGGER.info(\"      Level %s: %s\", level, f\"{total_cost:.1%}\")\n\n    LOGGER.info(\"   n_l\")\n    for level in range(self._n_levels):\n        LOGGER.info(\"       n_%s = %s\", level, self.__n_l[level])\n\n    LOGGER.info(\"   V_l\")\n    self.__V_l = self.__pilot_statistic_estimator.V_l\n    for level in range(self._n_levels):\n        LOGGER.info(\"       V_%s = %s\", level, f\"{self.__V_l[level]:.2e}\")\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.get_surrogate_positions","title":"get_surrogate_positions  <code>classmethod</code>","text":"<pre><code>get_surrogate_positions(\n    level: int, n_levels: int, variant: Variant\n) -&gt; slice\n</code></pre> <p>Return the positions of the surrogate models for given level and variant.</p> <p>These are their positions in a sequence starting to count at 0. So, the position of \\(g_\\ell\\) is \\(\\ell\\) for \\(\\ell\\in\\{0,\\ldots,L\\}\\) while the position of \\(h_\\ell\\) is \\(\\ell-1\\) for \\(\\ell\\in\\{1,\\ldots,L\\}\\).</p> PARAMETER DESCRIPTION <code>level</code> <p>The level of the telescopic sum.</p> <p> TYPE: <code>int</code> </p> <code>n_levels</code> <p>The number of levels.</p> <p> TYPE: <code>int</code> </p> <code>variant</code> <p>The variant of the algorithm.</p> <p> TYPE: <code>Variant</code> </p> RETURNS DESCRIPTION <code>slice</code> <p>The positions of the surrogate models.</p> <p>References</p> <p>El Amri et al., Table 1, Multilevel Surrogate-based Control Variates, 2024, https://doi.org/10.48550/arXiv.2306.10800.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv.py</code> <pre><code>@classmethod\ndef get_surrogate_positions(\n    cls, level: int, n_levels: int, variant: Variant\n) -&gt; slice:\n    r\"\"\"Return the positions of the surrogate models for given level and variant.\n\n    These are their positions in a sequence starting to count at 0.\n    So,\n    the position of $g_\\ell$ is $\\ell$\n    for $\\ell\\in\\{0,\\ldots,L\\}$\n    while\n    the position of $h_\\ell$ is $\\ell-1$\n    for $\\ell\\in\\{1,\\ldots,L\\}$.\n\n    Args:\n        level: The level of the telescopic sum.\n        n_levels: The number of levels.\n        variant: The variant of the algorithm.\n\n    Returns:\n        The positions of the surrogate models.\n\n    !!! quote \"References\"\n        El Amri et al., Table 1,\n        *Multilevel Surrogate-based Control Variates*,\n        2024,\n        [https://doi.org/10.48550/arXiv.2306.10800](https://doi.org/10.48550/arXiv.2306.10800).\n    \"\"\"\n    if level == 0:\n        if variant == cls.Variant.MLMC_MLCV:\n            return slice(0, n_levels)\n\n        if variant == cls.Variant.MLMC_CV:\n            return slice(0, 1)\n\n        if variant == cls.Variant.MLMC_MLCV_0:\n            return slice(0, 2)\n\n        return slice(0, 1)\n\n    if variant == cls.Variant.MLMC_MLCV:\n        return slice(0, n_levels - 1)\n\n    if variant == cls.Variant.MLMC_CV:\n        return slice(level - 1, level)\n\n    if variant == cls.Variant.MLMC_MLCV_0:\n        return slice(0, 1)\n\n    return slice(0, 0)\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/mlmc_mlcv/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.mlmc_mlcv.MLMCMLCV.plot_evaluation_history","title":"plot_evaluation_history","text":"<pre><code>plot_evaluation_history(\n    show: bool = True,\n    file_path: str | Path | None = None,\n    log_n_evaluations: bool = True,\n    log_budget: bool = False,\n) -&gt; None\n</code></pre> <p>Plot the history of the model evaluations in terms of sample size and budget.</p> PARAMETER DESCRIPTION <code>show</code> <p>Whether to display the graph.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>file_path</code> <p>The file path to save the graph.</p> <p> TYPE: <code>str | Path | None</code> DEFAULT: <code>None</code> </p> <code>log_n_evaluations</code> <p>Whether to use a log-scale for the number of evaluations.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>log_budget</code> <p>Whether to use a log-scale for the budget.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc/mlmc.py</code> <pre><code>def plot_evaluation_history(\n    self,\n    show: bool = True,\n    file_path: str | Path | None = None,\n    log_n_evaluations: bool = True,\n    log_budget: bool = False,\n) -&gt; None:\n    \"\"\"Plot the history of the model evaluations in terms of sample size and budget.\n\n    Args:\n        show: Whether to display the graph.\n        file_path: The file path to save the graph.\n        log_n_evaluations: Whether to use a log-scale for the number of evaluations.\n        log_budget: Whether to use a log-scale for the budget.\n    \"\"\"\n    fig, (ax1, ax2) = plt.subplots(ncols=2)\n    iterations = [i + 1 for i, _ in enumerate(self.__n_samples_history)]\n    ax1.plot(\n        iterations,\n        cumsum(array(self.__n_samples_history), axis=0),\n        label=[rf\"$f_{level}$\" for level in range(self._n_levels)],\n        marker=\".\",\n    )\n    if log_n_evaluations:\n        ax1.set_yscale(\"log\")\n\n    ax1.set_xlabel(\"Iteration\")\n    ax1.set_ylabel(\"Cumulated number of evaluations\")\n    ax1.legend(title=\"Simulators\")\n    ax1.grid(which=\"both\")\n    data = (array(self.__n_samples_history) * self.__costs).T\n    ax2.bar(iterations, data[0], label=r\"$f_0$\")\n    for index, row in enumerate(data[1:]):\n        ax2.bar(\n            iterations,\n            row,\n            bottom=data[0 : index + 1].sum(0),\n            label=rf\"$f_{index + 1}$\",\n        )\n\n    if log_budget:\n        ax2.set_yscale(\"log\")\n\n    ax2.set_xlabel(\"Iteration\")\n    ax2.set_ylabel(\"Cost\")\n    ax2.legend(title=\"Simulators\")\n    ax2.grid(which=\"both\")\n    ax2.set_axisbelow(True)\n    save_show_figure(fig, show, file_path, fig_size=(10, 3))\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/","title":"Pilots","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots","title":"pilots","text":"<p>A set of pilots for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/","title":"Base mlmc mlcv pilot","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot","title":"base_mlmc_mlcv_pilot","text":"<p>The base pilot class for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot","title":"BaseMLMCMLCVPilot","text":"<pre><code>BaseMLMCMLCVPilot(\n    sampling_ratios: RealArray, costs: RealArray\n)\n</code></pre> <p>               Bases: <code>BasePilot</code></p> <p>The base pilot class for the MLMC-MLCV algorithm.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def __init__(self, sampling_ratios: RealArray, costs: RealArray) -&gt; None:\n    r\"\"\"\n    Args:\n        sampling_ratios: The sampling ratios $r_0,\\ldots,r_L$;\n            the sampling ratio $r_\\ell$ is\n            the factor by which $n_\\ell$ is increased\n            between two sampling steps on the level $ell$.\n        costs: The unit sampling costs of each level of the telescopic sum.\n            Namely,\n            $(\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}$\n            with $\\mathcal{C}_{-1}=0$.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__costs = costs\n    self.__r_l = sampling_ratios\n    self.V_l = array([nan] * len(self.__r_l))\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/base_mlmc_mlcv_pilot/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.base_mlmc_mlcv_pilot.BaseMLMCMLCVPilot.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/factory/","title":"Factory","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.factory","title":"factory","text":"<p>A factory of pilots for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.factory-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/factory/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.factory.MLMCMLCVPilotFactory","title":"MLMCMLCVPilotFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory of pilots for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/","title":"Mean","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean","title":"mean","text":"<p>The mean-based pilot for the MLMC-MLCV algorithm.</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean.Mean","title":"Mean","text":"<pre><code>Mean(sampling_ratios: RealArray, costs: RealArray)\n</code></pre> <p>               Bases: <code>BaseMLMCMLCVPilot</code></p> <p>The mean-based pilot for the MLMC-MLCV algorithm.</p> PARAMETER DESCRIPTION <code>sampling_ratios</code> <p>The sampling ratios \\(r_0,\\ldots,r_L\\); the sampling ratio \\(r_\\ell\\) is the factor by which \\(n_\\ell\\) is increased between two sampling steps on the level \\(ell\\).</p> <p> TYPE: <code>RealArray</code> </p> <code>costs</code> <p>The unit sampling costs of each level of the telescopic sum. Namely, \\((\\mathcal{C}_{\\ell-1}+\\mathcal{C}_\\ell)_{\\ell\\in\\{0,\\ldots,L\\}}\\) with \\(\\mathcal{C}_{-1}=0\\).</p> <p> TYPE: <code>RealArray</code> </p> Source code in <code>src/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean.py</code> <pre><code>def __init__(  # noqa: D107\n    self, sampling_ratios: RealArray, costs: RealArray\n) -&gt; None:\n    super().__init__(sampling_ratios, costs)\n    self.__delta = [array([]) for _ in range(len(sampling_ratios))]\n</code></pre>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean.Mean-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean.Mean.V_l","title":"V_l  <code>instance-attribute</code>","text":"<pre><code>V_l: RealArray = array([nan] * len(__r_l))\n</code></pre> <p>The terms variances \\(\\mathcal{V}_0,\\ldots,\\mathcal{V}_L\\).</p>"},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean.Mean-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/statistics/multilevel/mlmc_mlcv/pilots/mean/#gemseo_umdo.statistics.multilevel.mlmc_mlcv.pilots.mean.Mean.compute_next_level_and_statistic","title":"compute_next_level_and_statistic","text":"<pre><code>compute_next_level_and_statistic(\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any\n) -&gt; tuple[int, RealArray]\n</code></pre> <p>Compute the next level \\(\\ell^*\\) to sample and estimate the statistic.</p> PARAMETER DESCRIPTION <code>levels</code> <p>The levels that have just been sampled.</p> <p> TYPE: <code>Iterable[int]</code> </p> <code>total_n_samples</code> <p>The total number of samples of each level.</p> <p> TYPE: <code>NDArray[int]</code> </p> <code>samples</code> <p>The samples of the different quantities of each level.</p> <p> TYPE: <code>Sequence[RealArray]</code> </p> <code>*pilot_parameters</code> <p>The parameters of the pilot.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> RETURNS DESCRIPTION <code>tuple[int, RealArray]</code> <p>The next level \\(\\ell^*\\) to sample and an estimation of the statistic.</p> Source code in <code>src/gemseo_umdo/statistics/multilevel/base_pilot.py</code> <pre><code>def compute_next_level_and_statistic(\n    self,\n    levels: Iterable[int],\n    total_n_samples: NDArray[int],\n    samples: Sequence[RealArray],\n    *pilot_parameters: Any,\n) -&gt; tuple[int, RealArray]:\n    r\"\"\"Compute the next level $\\ell^*$ to sample and estimate the statistic.\n\n    Args:\n        levels: The levels that have just been sampled.\n        total_n_samples: The total number of samples of each level.\n        samples: The samples of the different quantities of each level.\n        *pilot_parameters: The parameters of the pilot.\n\n    Returns:\n        The next level $\\ell^*$ to sample and an estimation of the statistic.\n    \"\"\"\n    self.V_l = self._compute_V_l(levels, samples, *pilot_parameters)\n    # WARNING: do not replace \"/ total_n_samples / total_n_samples\"\n    #          by \"/ total_n_samples**2\"\n    #          to avoid numerical division issue due to an excessively big number.\n    return (\n        argmax(\n            self.V_l / self.__r_l / total_n_samples / total_n_samples / self.__costs\n        ),\n        self._compute_statistic(),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/","title":"Use cases","text":""},{"location":"reference/gemseo_umdo/use_cases/#gemseo_umdo.use_cases","title":"use_cases","text":"<p>Some use cases for uncertainty quantification and robust optimization.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/","title":"Beam model","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/#gemseo_umdo.use_cases.beam_model","title":"beam_model","text":"<p>The beam model.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space/","title":"Advanced uncertain space","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space/#gemseo_umdo.use_cases.beam_model.advanced_uncertain_space","title":"advanced_uncertain_space","text":"<p>The advanced uncertain space for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space/#gemseo_umdo.use_cases.beam_model.advanced_uncertain_space-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space/#gemseo_umdo.use_cases.beam_model.advanced_uncertain_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space/#gemseo_umdo.use_cases.beam_model.advanced_uncertain_space.AdvancedBeamUncertainSpace","title":"AdvancedBeamUncertainSpace","text":"<pre><code>AdvancedBeamUncertainSpace(\n    nominal_values: Mapping[str, float] | None = None,\n    **dispersions: float\n)\n</code></pre> <p>               Bases: <code>ParameterSpace</code></p> <p>The advanced uncertain space for the beam use case.</p> PARAMETER DESCRIPTION <code>nominal_values</code> <p>The nominal values of some uncertain variables. For missing ones, use the default values of the variables available in <code>gemseo_umdo.use_cases.beam_model.core.variables</code>.</p> <p> TYPE: <code>Mapping[str, float] | None</code> DEFAULT: <code>None</code> </p> <code>**dispersions</code> <p>The dispersions around the nominal values.</p> <p> TYPE: <code>float</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/advanced_uncertain_space.py</code> <pre><code>def __init__(\n    self, nominal_values: Mapping[str, float] | None = None, **dispersions: float\n) -&gt; None:\n    \"\"\"\n    Args:\n        nominal_values: The nominal values of some uncertain variables.\n            For missing ones,\n            use the default values of the variables available in\n            `gemseo_umdo.use_cases.beam_model.core.variables`.\n        **dispersions: The dispersions around the nominal values.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    variables = [\n        b,\n        h,\n        t,\n        L,\n        alpha,\n        beta,\n        dy,\n        dz,\n        E,\n        Variable(\"Rd\", 180.0),\n        Variable(\"Ry\", 600.0),\n    ]\n    self.__nominal_values = {\n        variable.name: variable.value for variable in variables\n    }\n    if nominal_values is not None:\n        self.__nominal_values.update(nominal_values)\n\n    for variable in variables[:4]:\n        name = variable.name\n        nominal_value = variable.value\n        delta = dispersions.get(name, self.__DEFAULT_DISPERSION)\n        self.add_random_variable(\n            name,\n            \"OTUniformDistribution\",\n            minimum=nominal_value - delta,\n            maximum=nominal_value + delta,\n        )\n\n    for variable in variables[4:]:\n        self.__add_truncated_normal(variable.name, **dispersions)\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/constraints/","title":"Constraints","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/constraints/#gemseo_umdo.use_cases.beam_model.constraints","title":"constraints","text":"<p>The discipline computing the constraints for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/constraints/#gemseo_umdo.use_cases.beam_model.constraints-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/constraints/#gemseo_umdo.use_cases.beam_model.constraints-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/constraints/#gemseo_umdo.use_cases.beam_model.constraints.BeamConstraints","title":"BeamConstraints","text":"<pre><code>BeamConstraints()\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The discipline computing the constraints of the beam problem.</p> <p>More particularly, the left-hand sides of</p> <ul> <li>the stress constraints \\(\\sigma_{\\mathrm{VM}}/\\sigma_{\\mathrm{all}} \\leq 1\\),</li> <li>the displacements constraints \\(\\Delta/\\Delta_{\\mathrm{min}} \\geq 1\\).</li> </ul> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/constraints.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    self.input_grammar.update_from_names([\n        self.__DISPL,\n        self.__SIGMA_VM,\n        sigma_all.name,\n    ])\n    self.output_grammar.update_from_names([self.__C_DISPL, self.__C_STRESS])\n    self.default_input_data = {\n        sigma_all.name: array([sigma_all.value]),\n        self.__SIGMA_VM: array([300.0]),\n        self.__DISPL: array([100.0]),\n    }\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/design_space/","title":"Design space","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/design_space/#gemseo_umdo.use_cases.beam_model.design_space","title":"design_space","text":"<p>The design space for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/design_space/#gemseo_umdo.use_cases.beam_model.design_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/design_space/#gemseo_umdo.use_cases.beam_model.design_space.BeamDesignSpace","title":"BeamDesignSpace","text":"<pre><code>BeamDesignSpace()\n</code></pre> <p>               Bases: <code>DesignSpace</code></p> <p>The design space for the beam use case.</p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/design_space.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    for variable in BeamDesignVariables:\n        self.add_variable(\n            variable.value.name,\n            lower_bound=variable.value.l_b,\n            upper_bound=variable.value.u_b,\n            value=variable.value.value,\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/discipline/","title":"Discipline","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/discipline/#gemseo_umdo.use_cases.beam_model.discipline","title":"discipline","text":"<p>The discipline for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/discipline/#gemseo_umdo.use_cases.beam_model.discipline-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/discipline/#gemseo_umdo.use_cases.beam_model.discipline-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/discipline/#gemseo_umdo.use_cases.beam_model.discipline.Beam","title":"Beam","text":"<pre><code>Beam(n_y: int = 3, n_z: int = 3)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The beam discipline.</p> See Also <p>BeamModel for more information about the beam model.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>n_y</code> <p>The number of discretization points in the y-direction.</p> <p> TYPE: <code>int</code> DEFAULT: <code>3</code> </p> <code>n_z</code> <p>The number of discretization points in the z-direction.</p> <p> TYPE: <code>int</code> DEFAULT: <code>3</code> </p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/discipline.py</code> <pre><code>def __init__(self, n_y: int = 3, n_z: int = 3) -&gt; None:\n    \"\"\"\n    Args:\n        n_y: The number of discretization points in the y-direction.\n        n_z: The number of discretization points in the z-direction.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    input_variables = [b, h, t, L, E, alpha, beta, dy, dz, rho, F, nu]\n    self.input_grammar.update_from_names([\n        variable.name for variable in input_variables\n    ])\n    self.output_grammar.update_from_names([\n        f.name for f in fields(BeamModelOutputData)\n    ])\n    self.default_input_data = {\n        variable.name: array([variable.value]) for variable in input_variables\n    }\n    self.__beam_model = BeamModel(n_y, n_z)\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/uncertain_space/","title":"Uncertain space","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/uncertain_space/#gemseo_umdo.use_cases.beam_model.uncertain_space","title":"uncertain_space","text":"<p>The uncertain space for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/uncertain_space/#gemseo_umdo.use_cases.beam_model.uncertain_space-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/uncertain_space/#gemseo_umdo.use_cases.beam_model.uncertain_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/uncertain_space/#gemseo_umdo.use_cases.beam_model.uncertain_space.BeamUncertainSpace","title":"BeamUncertainSpace","text":"<pre><code>BeamUncertainSpace(uniform: bool = True, **deltas: float)\n</code></pre> <p>               Bases: <code>ParameterSpace</code></p> <p>The advanced uncertain space for the beam use case.</p> <p>\\(F\\), \\(E\\) and \\(\\sigma_{\\text{all}}\\) are random variables with nominal values -200000, 73500 and 300 and deviation values 10%, 5% and 5%.</p> <p>Their probability distribution are centered in these values denoted \\(\\mu_F\\), \\(\\mu_E\\) and \\(\\mu_{\\sigma_{\\text{all}}}\\).</p> <p>Precisely, a uniform distribution is defined by the minimum \\(\\mu (1 - \\delta)\\) and the maximum \\(\\mu (1 + \\delta)\\) and a Gaussian distribution is defined by the mean \\(\\mu\\) and the standard deviation \\(|\\mu|\\delta/3\\), where \\(\\delta\\) is an aforementioned deviation value.</p> PARAMETER DESCRIPTION <code>uniform</code> <p>If <code>True</code>, use uniform distributions; otherwise, use Gaussian ones.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>**deltas</code> <p>The percentage variations \\(\\delta\\) around the nominal values of the random variables.</p> <p> TYPE: <code>float</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/uncertain_space.py</code> <pre><code>def __init__(self, uniform: bool = True, **deltas: float) -&gt; None:\n    r\"\"\"\n    Args:\n        uniform: If `True`, use uniform distributions;\n            otherwise, use Gaussian ones.\n        **deltas: The percentage variations $\\delta$ around the nominal values\n            of the random variables.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__()\n    for variable in [F, E, sigma_all]:\n        nominal = variable.value\n        name = variable.name\n        delta = deltas.pop(name, self.__DEFAULT_DELTA[name]) / 100\n        if uniform:\n            minimum, maximum = sorted([\n                nominal * (1 - delta),\n                nominal * (1 + delta),\n            ])\n            self.add_random_variable(\n                name,\n                \"OTUniformDistribution\",\n                minimum=minimum,\n                maximum=maximum,\n            )\n        else:\n            self.add_random_variable(\n                name,\n                \"OTNormalDistribution\",\n                mu=nominal,\n                sigma=abs(nominal) * delta / 3,\n            )\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/","title":"Core","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/#gemseo_umdo.use_cases.beam_model.core","title":"core","text":"<p>The GEMSEO-free version of the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/","title":"Design space","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space","title":"design_space","text":"<p>The GEMSEO-free version of the design space for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.BeamDesignVariables","title":"BeamDesignVariables","text":"<p>               Bases: <code>Enum</code></p> <p>The design variables for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.BeamDesignVariables-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.BeamDesignVariables.h","title":"h  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>h = DesignVariable(name, 500, 800, value)\n</code></pre> <p>The height of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.BeamDesignVariables.t","title":"t  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>t = DesignVariable(name, 2, 10, value)\n</code></pre> <p>The thickness of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable","title":"DesignVariable","text":"<p>               Bases: <code>NamedTuple</code></p> <p>A design variable.</p> PARAMETER DESCRIPTION <code>name</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('str')</code> DEFAULT: <code>None</code> </p> <code>l_b</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>None</code> </p> <code>u_b</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>None</code> </p> <code>value</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>None</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable.l_b","title":"l_b  <code>instance-attribute</code>","text":"<pre><code>l_b: float\n</code></pre> <p>The lower bound of the design variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>The name of the design variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable.u_b","title":"u_b  <code>instance-attribute</code>","text":"<pre><code>u_b: float\n</code></pre> <p>The upper bound of the design variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/design_space/#gemseo_umdo.use_cases.beam_model.core.design_space.DesignVariable.value","title":"value  <code>instance-attribute</code>","text":"<pre><code>value: float\n</code></pre> <p>The current value of the design variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/model/","title":"Model","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/model/#gemseo_umdo.use_cases.beam_model.core.model","title":"model","text":"<p>The GEMSEO-free version of the model for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/model/#gemseo_umdo.use_cases.beam_model.core.model-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/model/#gemseo_umdo.use_cases.beam_model.core.model-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/model/#gemseo_umdo.use_cases.beam_model.core.model.BeamModel","title":"BeamModel","text":"<pre><code>BeamModel(n_y: int = 3, n_z: int = 3)\n</code></pre> <p>The beam model.</p> <p>We consider an horizontal beam with length \\(L\\), width \\(b\\) and height \\(h\\). This beam is hollow and made of a material with a Young's modulus \\(E\\), a Poisson's ratio \\(\\nu\\) and a thickness \\(t\\). One of its ends is fixed at \\(x=0\\) (the \"root\") while the other  at \\(x=L\\) (the \"tip\") is free. The \\(y\\)-axis is horizontal and perpendicular to the beam, the \\(z\\) is vertical and the center of the root is at the origin \\((0, 0, 0)\\).</p> <p>A force \\(\\vec{F}\\) of amplitude \\(F\\) is applied to the beam at \\((L, dy, dz)\\) with an angle \\(\\alpha\\) w.r.t. \\(-\\vec{e}_y\\) in the xz-plane and an angle \\(\\beta\\) w.r.t. \\(-\\vec{e}_y\\) in the yz-plane, where \\(\\vec{e}_y\\) is the unit vector along the \\(y\\)-axis.</p> <p>From these settings, the model computes the weight of the beam \\(w=2 \\rho L (b + h -2t)\\) and several quantities on a regular \\(yz\\)-grid:</p> <ul> <li>the strain energy vector \\(\\vec{U}=(U_x,U_y,U_z)\\) at the tip,</li> <li>the normal stress \\(\\sigma\\) at the root,</li> <li>the torsional stress \\(\\tau\\) at the root,</li> <li>the displacement \\(\\delta\\) at the tip,</li> <li>the von Mises stress \\(\\sigma_{\\text{VM}}\\) at the root.</li> </ul> <p>The equations are:</p> <ul> <li>Force components<ul> <li>\\(F_x=F\\sin(\\alpha)\\)</li> <li>\\(F_y=F\\cos(\\alpha)\\sin(\\beta)\\)</li> <li>\\(F_z=F\\cos(\\alpha)\\cos(\\beta)\\)</li> </ul> </li> <li>Inertia<ul> <li>\\(I_x=(2tb^2h^2)/(b + h)\\)</li> <li>\\(I_y=(bh^3-(b-2t)(h-2t)^3)/12\\)</li> <li>\\(I_z=(hb^3-(h-2t)(b-2t)^3)/12\\)</li> </ul> </li> <li>Strain energy<ul> <li>\\(U_x = E^{-1} \\{ \\frac{ F_x L }{ 2t (b+h-2t) } +   zL (F_x dZ - F_z L/2) I_y^{-1} - yL (F_y L/2 - F_x dY) I_z^{-1} \\}\\)</li> <li>\\(U_y = E^{-1} \\{ (F_y L^3/3 - F_x dY L^2/2)I_z^{-1} -   zL \\frac{ F_zdY-F_ydZ }{ 2 (1+\\nu) I_x } \\}\\)</li> <li>\\(U_z = E^{-1} \\{ (F_z L^3/3 - F_xdZ L^2/2) I_y^{-1} +   yL \\frac{ F_zdY-F_ydZ }{ 2 (1+\\nu) I_x } \\}\\)</li> </ul> </li> <li>Displacements<ul> <li>\\(\\delta=\\sqrt{U_x^2+U_y^2+U_z^2}\\)</li> </ul> </li> <li>Torsional stress<ul> <li>\\(\\tau_x=(F_zdY-F_ydZ)/(2bht)\\)</li> <li>\\(\\tau_y= - (0.5|z|(b-t)+(b-t)^2(1-4y^2/(b-t)^2))F_y\\text{sign}(z)/(8I_z)\\)</li> <li>\\(\\tau_z=(0.5|y|(h-t)+(h-t)^2(1-4z^2/(h-t)^2))F_z\\text{sign}(y)/(8I_y)\\)</li> <li>\\(\\tau = \\tau_x + \\tau_y + \\tau_z\\)</li> </ul> </li> <li>Stress<ul> <li>\\(\\sigma = F_x/(2t(b+h-2t)) + y (F_xdY-F_yL)/I_z + z (F_xdZ-F_zL)/I_y\\)</li> </ul> </li> <li>von Mises stress<ul> <li>\\(\\sigma_{\\text{VM}} = \\sqrt{\\sigma^2 + 3\\tau^2}\\)</li> </ul> </li> </ul> PARAMETER DESCRIPTION <code>n_y</code> <p>The number of discretization points in the y-direction.</p> <p> TYPE: <code>int</code> DEFAULT: <code>3</code> </p> <code>n_z</code> <p>The number of discretization points in the z-direction.</p> <p> TYPE: <code>int</code> DEFAULT: <code>3</code> </p> Source code in <code>src/gemseo_umdo/use_cases/beam_model/core/model.py</code> <pre><code>def __init__(self, n_y: int = 3, n_z: int = 3) -&gt; None:\n    \"\"\"\n    Args:\n        n_y: The number of discretization points in the y-direction.\n        n_z: The number of discretization points in the z-direction.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__n_y = n_y\n    self.__n_z = n_z\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/","title":"Output data","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data","title":"output_data","text":"<p>The GEMSEO-free version of the output data for the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData","title":"BeamModelOutputData  <code>dataclass</code>","text":"<pre><code>BeamModelOutputData(\n    Ux: RealArray,\n    Uy: RealArray,\n    Uz: RealArray,\n    sigma: RealArray,\n    tau: RealArray,\n    displ: RealArray,\n    sigma_vm: RealArray,\n    w: float,\n    yz_grid: RealArray,\n)\n</code></pre> <p>Output data of the beam model.</p> PARAMETER DESCRIPTION <code>Ux</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>Uy</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>Uz</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>sigma</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>tau</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>displ</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>sigma_vm</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>w</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>yz_grid</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.Ux","title":"Ux  <code>instance-attribute</code>","text":"<pre><code>Ux: RealArray\n</code></pre> <p>The strain energy along the \\(x\\)-axis.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.Uy","title":"Uy  <code>instance-attribute</code>","text":"<pre><code>Uy: RealArray\n</code></pre> <p>The strain energy along the \\(y\\)-axis.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.Uz","title":"Uz  <code>instance-attribute</code>","text":"<pre><code>Uz: RealArray\n</code></pre> <p>The strain energy along the \\(z\\)-axis.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.displ","title":"displ  <code>instance-attribute</code>","text":"<pre><code>displ: RealArray\n</code></pre> <p>The displacements at the tip section points.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.sigma","title":"sigma  <code>instance-attribute</code>","text":"<pre><code>sigma: RealArray\n</code></pre> <p>The normal stress at the root section points.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.sigma_vm","title":"sigma_vm  <code>instance-attribute</code>","text":"<pre><code>sigma_vm: RealArray\n</code></pre> <p>The von Mises stress at the root section points.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.tau","title":"tau  <code>instance-attribute</code>","text":"<pre><code>tau: RealArray\n</code></pre> <p>The torsional stress at the root section points.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.w","title":"w  <code>instance-attribute</code>","text":"<pre><code>w: float\n</code></pre> <p>The weight of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/output_data/#gemseo_umdo.use_cases.beam_model.core.output_data.BeamModelOutputData.yz_grid","title":"yz_grid  <code>instance-attribute</code>","text":"<pre><code>yz_grid: RealArray\n</code></pre> <p>The \\(yz\\)-grid coordinates.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/","title":"Variables","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables","title":"variables","text":"<p>Some variables of the GEMSEO-free version of the beam use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.E","title":"E  <code>module-attribute</code>","text":"<pre><code>E = Variable('E', 73500.0)\n</code></pre> <p>The Young's modulus of the material.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.F","title":"F  <code>module-attribute</code>","text":"<pre><code>F = Variable('F', -200000.0)\n</code></pre> <p>The load applied to a point at the tip of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.L","title":"L  <code>module-attribute</code>","text":"<pre><code>L = Variable('L', 5000.0)\n</code></pre> <p>The length of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.alpha","title":"alpha  <code>module-attribute</code>","text":"<pre><code>alpha = Variable('alpha', 0.0)\n</code></pre> <p>The angle between \\(-\\vec{e}_z\\) and \\(\\vec{F}\\) in \\(xy\\)-plane.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.b","title":"b  <code>module-attribute</code>","text":"<pre><code>b = Variable('b', 500.0)\n</code></pre> <p>The width of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.beta","title":"beta  <code>module-attribute</code>","text":"<pre><code>beta = Variable('beta', 0.0)\n</code></pre> <p>The angle between \\(-\\vec{e}_z\\) and \\(\\vec{F}\\) in \\(yz\\)-plane.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.dy","title":"dy  <code>module-attribute</code>","text":"<pre><code>dy = Variable('dy', 0.0)\n</code></pre> <p>The \\(y\\)-coordinate of the point where the force is applied.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.dz","title":"dz  <code>module-attribute</code>","text":"<pre><code>dz = Variable('dz', 0.0)\n</code></pre> <p>The \\(z\\)-coordinate of the point where the force is applied.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.h","title":"h  <code>module-attribute</code>","text":"<pre><code>h = Variable('h', 800.0)\n</code></pre> <p>The height of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.nu","title":"nu  <code>module-attribute</code>","text":"<pre><code>nu = Variable('nu', 0.33)\n</code></pre> <p>The Poisson's ratio.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.rho","title":"rho  <code>module-attribute</code>","text":"<pre><code>rho = Variable('rho', 2.8e-06)\n</code></pre> <p>The density of the material.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.sigma_all","title":"sigma_all  <code>module-attribute</code>","text":"<pre><code>sigma_all = Variable('sigma_all', 300.0)\n</code></pre> <p>A constant used by the stress constraints.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.t","title":"t  <code>module-attribute</code>","text":"<pre><code>t = Variable('t', 2.5)\n</code></pre> <p>The thickness of the beam.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.Variable","title":"Variable","text":"<p>               Bases: <code>NamedTuple</code></p> <p>A variable of the beam use case.</p> PARAMETER DESCRIPTION <code>name</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('str')</code> DEFAULT: <code>None</code> </p> <code>value</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float | None')</code> DEFAULT: <code>None</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.Variable-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.Variable.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>The name of the variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/beam_model/core/variables/#gemseo_umdo.use_cases.beam_model.core.variables.Variable.value","title":"value  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>value: float | None = None\n</code></pre> <p>The default value of the variable.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/","title":"Heat equation","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/#gemseo_umdo.use_cases.heat_equation","title":"heat_equation","text":"<p>The heat equation use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/","title":"Configuration","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration","title":"configuration","text":"<p>A configuration for the heat equation model.</p> <p>HeatEquationConfiguration is used by HeatEquationModel; read its docstring for more details.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration","title":"HeatEquationConfiguration  <code>dataclass</code>","text":"<pre><code>HeatEquationConfiguration(\n    mesh_size: int = 100,\n    n_modes: int = 21,\n    final_time: float = 0.5,\n    nu_bounds: tuple[float, float] = (0.001, 0.009),\n    rod_length: float = 1.0,\n)\n</code></pre> <p>A configuration for the heat equation model.</p> PARAMETER DESCRIPTION <code>mesh_size</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>100</code> </p> <code>n_modes</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>21</code> </p> <code>final_time</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>0.5</code> </p> <code>nu_bounds</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>(0.001, 0.009)</code> </p> <code>rod_length</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>1.0</code> </p> ATTRIBUTE DESCRIPTION <code>expectation</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>cost</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p> <code>mesh</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.cost","title":"cost  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>cost: int = field(init=False)\n</code></pre> <p>The evaluation cost of the HeatEquationModel.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.expectation","title":"expectation  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>expectation: float = field(init=False)\n</code></pre> <p>The theoretical expectation of the integral of the temperature along the rod.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.final_time","title":"final_time  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>final_time: float = 0.5\n</code></pre> <p>The time of interest, denoted \\(t_f\\).</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.mesh","title":"mesh  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>mesh: RealArray = field(init=False)\n</code></pre> <p>The mesh for the HeatEquationModel.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.mesh_size","title":"mesh_size  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>mesh_size: int = 100\n</code></pre> <p>The number of equispaced spatial nodes.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.n_modes","title":"n_modes  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>n_modes: int = 21\n</code></pre> <p>The number of modes of the truncated Fourier expansion.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.nu_bounds","title":"nu_bounds  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>nu_bounds: tuple[float, float] = (0.001, 0.009)\n</code></pre> <p>The bounds of the thermal diffusivity.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/configuration/#gemseo_umdo.use_cases.heat_equation.configuration.HeatEquationConfiguration.rod_length","title":"rod_length  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>rod_length: float = 1.0\n</code></pre> <p>The length of the rod.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/","title":"Discipline","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/#gemseo_umdo.use_cases.heat_equation.discipline","title":"discipline","text":"<p>The heat equation discipline.</p> <p>This discipline wraps the HeatEquationModel; read its docstring for more details.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/#gemseo_umdo.use_cases.heat_equation.discipline-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/#gemseo_umdo.use_cases.heat_equation.discipline.HeatEquation","title":"HeatEquation","text":"<pre><code>HeatEquation(\n    mesh_size: int = 100,\n    n_modes: int = 21,\n    final_time: float = 0.5,\n    nu_bounds: tuple[float, float] = (0.001, 0.009),\n    rod_length: float = 1.0,\n)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The discipline computing the temperature averaged over the rod at final time.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>mesh_size</code> <p>The number of equispaced spatial nodes.</p> <p> TYPE: <code>int</code> DEFAULT: <code>100</code> </p> <code>n_modes</code> <p>The number of modes of the truncated Fourier expansion.</p> <p> TYPE: <code>int</code> DEFAULT: <code>21</code> </p> <code>final_time</code> <p>The time of interest.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.5</code> </p> <code>nu_bounds</code> <p>The bounds of the thermal diffusivity.</p> <p> TYPE: <code>tuple[float, float]</code> DEFAULT: <code>(0.001, 0.009)</code> </p> <code>rod_length</code> <p>The length of the rod.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.0</code> </p> Source code in <code>src/gemseo_umdo/use_cases/heat_equation/discipline.py</code> <pre><code>def __init__(\n    self,\n    mesh_size: int = 100,\n    n_modes: int = 21,\n    final_time: float = 0.5,\n    nu_bounds: tuple[float, float] = (0.001, 0.009),\n    rod_length: float = 1.0,\n) -&gt; None:\n    \"\"\"\n    Args:\n        mesh_size: The number of equispaced spatial nodes.\n        n_modes: The number of modes of the truncated Fourier expansion.\n        final_time: The time of interest.\n        nu_bounds: The bounds of the thermal diffusivity.\n        rod_length: The length of the rod.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(name=f\"{self.__class__.__name__}({mesh_size})\")\n    self.input_grammar.update_from_names([f\"X_{i}\" for i in range(1, 8)])\n    self.output_grammar.update_from_names([\"u\", \"u_mesh\"])\n    self.__heat_equation_model = HeatEquationModel(\n        mesh_size=mesh_size,\n        n_modes=n_modes,\n        final_time=final_time,\n        nu_bounds=nu_bounds,\n        rod_length=rod_length,\n    )\n    self.default_input_data = {\n        \"X_1\": array([0.0]),\n        \"X_2\": array([0.0]),\n        \"X_3\": array([0.0]),\n        \"X_4\": array([0.005]),\n        \"X_5\": array([0.0]),\n        \"X_6\": array([0.0]),\n        \"X_7\": array([0.0]),\n    }\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/#gemseo_umdo.use_cases.heat_equation.discipline.HeatEquation-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/discipline/#gemseo_umdo.use_cases.heat_equation.discipline.HeatEquation.configuration","title":"configuration  <code>property</code>","text":"<pre><code>configuration: HeatEquationConfiguration\n</code></pre> <p>The configuration.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/","title":"Model","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model","title":"model","text":"<p>The heat equation model.</p> <p>This model solves the 1D transient equation, a.k.a. heat equation. It describes the temperature evolution \\(u\\) in a \\(L\\)-length rod from the initial time 0 to the final time \\(T\\) with a thermal diffusivity \\(\\nu(\\mathbf{X})\\) depending on a random vector \\(\\mathbf{X}\\). The heat equation is</p> \\[\\frac{\\partial u(x,t;\\mathbf{X})}{\\partial t}    - \\nu(\\mathbf{X})\\frac{\\partial^2 u(x,t;\\mathbf{X})}{\\partial x^2} = 0\\] <p>with the boundary condition \\(u(0,t;\\mathbf{X})=u(L,t;\\mathbf{X})=0\\) where \\(x\\in\\mathcal{D}=[0,L]\\) and \\(t\\in[0,T]\\).</p> <p>To obtain an analytical solution, Geraci et al. (2015) chose \\(L=1\\) and the uncertain initial condition:</p> \\[u(x,0;\\mathbf{X}) =    \\mathcal{G}(\\mathbf{X})\\mathcal{F}_1(x)    +\\mathcal{I}(\\mathbf{X})\\mathcal{F}_2(x) \\] <p>where</p> <ul> <li>\\(\\mathcal{F}_1(x)=\\sin(\\pi x)\\),</li> <li>\\(\\mathcal{F}_2(x)=\\sin(2\\pi x)+\\sin(3\\pi x)           +50\\left(\\sin(9\\pi x)+\\sin(21\\pi x)\\right)\\),</li> <li>\\(\\mathcal{I}(\\mathbf{X})=3.5          \\left(\\sin(X_1)+7\\sin^2(X_2)+0.1X_3^4\\sin(X_1)\\right)\\),</li> <li>\\(\\mathcal{G}(\\mathbf{X})=50\\prod_{i=5}^7(4|X_i|-1)\\).</li> </ul> <p>This uncertainty on the initial condition is modelled by the random variables \\(X_1,\\ldots X_7\\) that are independent and distributed as:</p> <ul> <li>\\(X_i\\sim\\mathcal{U}(-\\pi,\\pi)\\), for \\(i\\in\\{1,2,3\\}\\),</li> <li>\\(\\nu(\\mathbf{X})=X_4\\sim\\mathcal{U}(\\nu_{\\min},\\nu_{\\max})\\),</li> <li>\\(X_i\\sim\\mathcal{U}(-1,1)\\), for \\(i\\in\\{5,6,7\\}\\).</li> </ul> <p>Then, Geraci et al. (2015) consider the integral of the temperature along the rod</p> \\[\\mathcal{M}(\\mathbf{X}) = \\int_{\\mathcal{D}}u(x,T;\\mathbf{X})dx\\] <p>and are interested in the estimation of its HeatEquationConfiguration:</p> \\[\\mathbb{E}[\\mathcal{M}(\\mathbf{X})] = 50H_1+\\frac{49}{4}(H_3+50H_9+50H_{21})\\] <p>where \\(H_k=\\frac{2}{k^3\\pi^3T} \\frac{\\exp(-\\nu_{\\min}k^2\\pi^2T)-\\exp(-\\nu_{\\max}k^2\\pi^2T)}{\\nu_{\\max}-\\nu_{\\min}}\\).</p> <p>The HeatEquationModel computes the temperature at final time from instances of the random variables <code>\"X_1\"</code>, ..., <code>\"X_7\"</code> defined over the HeatEquationUncertainSpace. The temperature <code>\"u_mesh\"</code> is computed at each mesh node while the temperature <code>\"u\"</code> is an integral over the rod.</p> See Also <p>Geraci et al., A multifidelity control variate approach for the multilevel Monte Carlo technique, Center for Turbulence Research, Annual Research Briefs, 2015.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel","title":"HeatEquationModel","text":"<pre><code>HeatEquationModel(\n    mesh_size: int = 100,\n    n_modes: int = 21,\n    final_time: float = 0.5,\n    nu_bounds: tuple[float, float] = (0.001, 0.009),\n    rod_length: float = 1.0,\n)\n</code></pre> <p>The discipline computing the temperature averaged over the rod at final time.</p> <p>This discipline can also compute a first-order polynomial centered at the mean input value.</p> PARAMETER DESCRIPTION <code>mesh_size</code> <p>The number of equispaced spatial nodes.</p> <p> TYPE: <code>int</code> DEFAULT: <code>100</code> </p> <code>n_modes</code> <p>The number of modes of the truncated Fourier expansion.</p> <p> TYPE: <code>int</code> DEFAULT: <code>21</code> </p> <code>final_time</code> <p>The time of interest.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.5</code> </p> <code>nu_bounds</code> <p>The bounds of the thermal diffusivity.</p> <p> TYPE: <code>tuple[float, float]</code> DEFAULT: <code>(0.001, 0.009)</code> </p> <code>rod_length</code> <p>The length of the rod.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.0</code> </p> Source code in <code>src/gemseo_umdo/use_cases/heat_equation/model.py</code> <pre><code>def __init__(\n    self,\n    mesh_size: int = 100,\n    n_modes: int = 21,\n    final_time: float = 0.5,\n    nu_bounds: tuple[float, float] = (0.001, 0.009),\n    rod_length: float = 1.0,\n) -&gt; None:\n    \"\"\"\n    Args:\n        mesh_size: The number of equispaced spatial nodes.\n        n_modes: The number of modes of the truncated Fourier expansion.\n        final_time: The time of interest.\n        nu_bounds: The bounds of the thermal diffusivity.\n        rod_length: The length of the rod.\n    \"\"\"  # noqa: D205 D212 D415\n    self.configuration = HeatEquationConfiguration(\n        mesh_size, n_modes, final_time, nu_bounds, rod_length\n    )\n    self.__nu_delta = nu_bounds[1] - nu_bounds[0]\n    self.__modes = linspace(1, n_modes, n_modes)\n    xx, nn = meshgrid(self.configuration.mesh, self.__modes, copy=False)\n    self.__sinus = sin(xx * nn * pi)[:, :, newaxis]\n    self.__default_input_value = array([0.0, 0.0, 0.0, 0.005, 0.0, 0.0, 0.0])\n    pi_mesh = pi * self.configuration.mesh\n    self.__F1 = sin(pi_mesh)  # noqa: N806\n    self.__F2 = (  # noqa: N806\n        sin(2 * pi_mesh)\n        + sin(3 * pi_mesh)\n        + 50 * (sin(9 * pi_mesh) + sin(21 * pi_mesh))\n    )\n    self.__term1 = self.__term2 = self.__term3 = self.__f_at_mu_X = 0\n    self.__compute_taylor_materials()\n    self.taylor_mean = self.__f_at_mu_X + 600 * self.__term1\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel.configuration","title":"configuration  <code>instance-attribute</code>","text":"<pre><code>configuration: HeatEquationConfiguration = (\n    HeatEquationConfiguration(\n        mesh_size,\n        n_modes,\n        final_time,\n        nu_bounds,\n        rod_length,\n    )\n)\n</code></pre> <p>The configuration of the heat equation problem.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel.taylor_mean","title":"taylor_mean  <code>instance-attribute</code>","text":"<pre><code>taylor_mean: float = __f_at_mu_X + 600 * __term1\n</code></pre> <p>The expectation of the output of the first-order Taylor polynomial.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/model/#gemseo_umdo.use_cases.heat_equation.model.HeatEquationModel.compute_taylor","title":"compute_taylor","text":"<pre><code>compute_taylor(input_samples: RealArray) -&gt; RealArray\n</code></pre> <p>Evaluate the first-order Taylor polynomial.</p> PARAMETER DESCRIPTION <code>input_samples</code> <p>The input samples shaped as <code>(sample_size, input_dimension)</code> or <code>(input_dimension, )</code>.</p> <p> TYPE: <code>RealArray</code> </p> RETURNS DESCRIPTION <code>RealArray</code> <p>The output samples of the first-order Taylor polynomial shaped as <code>(sample_size, n_nodes)</code> or <code>(n_nodes, )</code>.</p> Source code in <code>src/gemseo_umdo/use_cases/heat_equation/model.py</code> <pre><code>def compute_taylor(self, input_samples: RealArray) -&gt; RealArray:\n    \"\"\"Evaluate the first-order Taylor polynomial.\n\n    Args:\n        input_samples: The input samples\n            shaped as `(sample_size, input_dimension)` or `(input_dimension, )`.\n\n    Returns:\n        The output samples of the first-order Taylor polynomial\n        shaped as `(sample_size, n_nodes)` or `(n_nodes, )`.\n    \"\"\"\n    X = input_samples  # noqa: N806\n    mu_X = self.__default_input_value  # noqa: N806\n    return self.__f_at_mu_X + (\n        7 * X[..., [0]] * self.__term2\n        - (X[..., [3]] - mu_X[3]) * pi**2 * 0.5 * self.__term3\n        + 400\n        * self.__term1\n        * (np_abs(X[..., [4]]) + np_abs(X[..., [5]]) + np_abs(X[..., [6]]))\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/uncertain_space/","title":"Uncertain space","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/uncertain_space/#gemseo_umdo.use_cases.heat_equation.uncertain_space","title":"uncertain_space","text":"<p>The uncertain space to be used with the heat equation discipline.</p>"},{"location":"reference/gemseo_umdo/use_cases/heat_equation/uncertain_space/#gemseo_umdo.use_cases.heat_equation.uncertain_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/heat_equation/uncertain_space/#gemseo_umdo.use_cases.heat_equation.uncertain_space.HeatEquationUncertainSpace","title":"HeatEquationUncertainSpace","text":"<pre><code>HeatEquationUncertainSpace(\n    nu_bounds: tuple[float, float] = (0.001, 0.009)\n)\n</code></pre> <p>               Bases: <code>ParameterSpace</code></p> <p>The uncertain space to be used with the heat equation discipline.</p> PARAMETER DESCRIPTION <code>nu_bounds</code> <p>The lower and upper bounds of the thermal diffusivity \\(\\nu\\).</p> <p> TYPE: <code>tuple[float, float]</code> DEFAULT: <code>(0.001, 0.009)</code> </p> Source code in <code>src/gemseo_umdo/use_cases/heat_equation/uncertain_space.py</code> <pre><code>def __init__(self, nu_bounds: tuple[float, float] = (0.001, 0.009)) -&gt; None:\n    r\"\"\"\n    Args:\n        nu_bounds: The lower and upper bounds\n            of the thermal diffusivity $\\nu$.\n    \"\"\"  # noqa: D205 D212 D415\n    distribution_name = \"OTUniformDistribution\"\n    super().__init__()\n    self.add_random_variable(\"X_1\", distribution_name, minimum=-pi, maximum=pi)\n    self.add_random_variable(\"X_2\", distribution_name, minimum=-pi, maximum=pi)\n    self.add_random_variable(\"X_3\", distribution_name, minimum=-pi, maximum=pi)\n    self.add_random_variable(\n        \"X_4\", distribution_name, minimum=nu_bounds[0], maximum=nu_bounds[1]\n    )\n    self.add_random_variable(\"X_5\", distribution_name, minimum=-1.0, maximum=1.0)\n    self.add_random_variable(\"X_6\", distribution_name, minimum=-1.0, maximum=1.0)\n    self.add_random_variable(\"X_7\", distribution_name, minimum=-1.0, maximum=1.0)\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/","title":"Spring mass model","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/#gemseo_umdo.use_cases.spring_mass_model","title":"spring_mass_model","text":"<p>The spring-mass system under uncertainty.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/","title":"Discipline","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/#gemseo_umdo.use_cases.spring_mass_model.discipline","title":"discipline","text":"<p>The spring-mass model use case.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/#gemseo_umdo.use_cases.spring_mass_model.discipline-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/#gemseo_umdo.use_cases.spring_mass_model.discipline.SpringMassDiscipline","title":"SpringMassDiscipline","text":"<pre><code>SpringMassDiscipline(\n    mass: float = 1.5,\n    initial_state: tuple[float, float] = (0, 0),\n    initial_time: float = 0.0,\n    final_time: float = 10.0,\n    time_step: float = 0.1,\n    gravity: float = 9.8,\n)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The GEMSEO-based spring-mass model \\(m\\frac{d^2z(t)}{dt^2} = -kz(t) + mg\\).</p> <p>This model computes the time displacement of an object attached to a spring in function of the stiffness of the spring.</p> <p>It computes also its maximum displacement.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>mass</code> <p>The mass of the object.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.5</code> </p> <code>initial_state</code> <p>The initial position and velocity of the object.</p> <p> TYPE: <code>tuple[float, float]</code> DEFAULT: <code>(0, 0)</code> </p> <code>initial_time</code> <p>The initial time.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>final_time</code> <p>The final time.</p> <p> TYPE: <code>float</code> DEFAULT: <code>10.0</code> </p> <code>time_step</code> <p>The time step.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.1</code> </p> <code>gravity</code> <p>The gravity acceleration.</p> <p> TYPE: <code>float</code> DEFAULT: <code>9.8</code> </p> Source code in <code>src/gemseo_umdo/use_cases/spring_mass_model/discipline.py</code> <pre><code>def __init__(\n    self,\n    mass: float = 1.5,\n    initial_state: tuple[float, float] = (0, 0),\n    initial_time: float = 0.0,\n    final_time: float = 10.0,\n    time_step: float = 0.1,\n    gravity: float = 9.8,\n) -&gt; None:\n    \"\"\"\n    Args:\n        mass: The mass of the object.\n        initial_state: The initial position and velocity of the object.\n        initial_time: The initial time.\n        final_time: The final time.\n        time_step: The time step.\n        gravity: The gravity acceleration.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(name=f\"{self.__class__.__name__}({time_step})\")\n    self.input_grammar.update_from_names([self.__STIFFNESS])\n    self.output_grammar.update_from_names([\n        self.__MAX_DISPLACEMENT,\n        self.__DISPLACEMENT,\n    ])\n    self.__model = SpringMassModel(\n        mass=mass,\n        initial_state=initial_state,\n        initial_time=initial_time,\n        final_time=final_time,\n        time_step=time_step,\n        gravity=gravity,\n    )\n    self.default_input_data = {self.__STIFFNESS: array([2.25])}\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/#gemseo_umdo.use_cases.spring_mass_model.discipline.SpringMassDiscipline-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/discipline/#gemseo_umdo.use_cases.spring_mass_model.discipline.SpringMassDiscipline.cost","title":"cost  <code>property</code>","text":"<pre><code>cost: float\n</code></pre> <p>The evaluation cost.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/","title":"Model","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/#gemseo_umdo.use_cases.spring_mass_model.model","title":"model","text":"<p>The GEMSEO-free spring-mass model.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/#gemseo_umdo.use_cases.spring_mass_model.model-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/#gemseo_umdo.use_cases.spring_mass_model.model.SpringMassModel","title":"SpringMassModel","text":"<pre><code>SpringMassModel(\n    mass: float = 1.5,\n    initial_state: tuple[float, float] = (0, 0),\n    initial_time: float = 0.0,\n    final_time: float = 10.0,\n    time_step: float = 0.1,\n    gravity: float = 9.8,\n)\n</code></pre> <p>The GEMSEO-free spring-mass model.</p> <p>This model computes the time displacement of an object attached to a spring in function of the stiffness of the spring.</p> <p>It computes also its maximum displacement.</p> <p>The ordinary differential equation is</p> \\[m\\frac{d^2z(t)}{dt^2} = -kz(t) + mg\\] <p>with \\(\\left.\\frac{dz(t)}{dt}\\right|_{t=0}=z(0)=z_0\\).</p> PARAMETER DESCRIPTION <code>mass</code> <p>The mass of the object.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.5</code> </p> <code>initial_state</code> <p>The initial position and velocity of the object.</p> <p> TYPE: <code>tuple[float, float]</code> DEFAULT: <code>(0, 0)</code> </p> <code>initial_time</code> <p>The initial time.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.0</code> </p> <code>final_time</code> <p>The final time.</p> <p> TYPE: <code>float</code> DEFAULT: <code>10.0</code> </p> <code>time_step</code> <p>The time step.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.1</code> </p> <code>gravity</code> <p>The gravity acceleration.</p> <p> TYPE: <code>float</code> DEFAULT: <code>9.8</code> </p> Source code in <code>src/gemseo_umdo/use_cases/spring_mass_model/model.py</code> <pre><code>def __init__(\n    self,\n    mass: float = 1.5,\n    initial_state: tuple[float, float] = (0, 0),\n    initial_time: float = 0.0,\n    final_time: float = 10.0,\n    time_step: float = 0.1,\n    gravity: float = 9.8,\n) -&gt; None:\n    \"\"\"\n    Args:\n        mass: The mass of the object.\n        initial_state: The initial position and velocity of the object.\n        initial_time: The initial time.\n        final_time: The final time.\n        time_step: The time step.\n        gravity: The gravity acceleration.\n    \"\"\"  # noqa: D205 D212 D415\n    self.__mass = mass\n    self.__gravity = gravity\n    self.__initial_state = initial_state\n    self.__time = arange(initial_time, final_time, time_step)\n    self.__cost = 1.0 / time_step\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/#gemseo_umdo.use_cases.spring_mass_model.model.SpringMassModel-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/model/#gemseo_umdo.use_cases.spring_mass_model.model.SpringMassModel.cost","title":"cost  <code>property</code>","text":"<pre><code>cost: float\n</code></pre> <p>The evaluation cost.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/uncertain_space/","title":"Uncertain space","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/uncertain_space/#gemseo_umdo.use_cases.spring_mass_model.uncertain_space","title":"uncertain_space","text":"<p>The space of the uncertain variables of the spring-mass system.</p>"},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/uncertain_space/#gemseo_umdo.use_cases.spring_mass_model.uncertain_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/spring_mass_model/uncertain_space/#gemseo_umdo.use_cases.spring_mass_model.uncertain_space.SpringMassUncertainSpace","title":"SpringMassUncertainSpace","text":"<pre><code>SpringMassUncertainSpace()\n</code></pre> <p>               Bases: <code>ParameterSpace</code></p> <p>The space of the uncertain variables of the spring-mass system.</p> Source code in <code>src/gemseo_umdo/use_cases/spring_mass_model/uncertain_space.py</code> <pre><code>def __init__(self) -&gt; None:  # noqa: D107\n    super().__init__()\n    self.add_random_variable(\n        \"stiffness\",\n        \"OTDistribution\",\n        interfaced_distribution=\"Beta\",\n        interfaced_distribution_parameters=(3.0, 2.0, 1.0, 3.5),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/truss/","title":"Truss","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/#gemseo_umdo.use_cases.truss","title":"truss","text":"<p>Truss problem.</p> <p>This problem from the literature is a truss structure comprising 11 horizontal bars, with uncertain Young's modulus \\(E_1\\) and cross-section area \\(A_1\\), and 12 oblical bars, with uncertain Young's modulus \\(E_2\\) and cross-section area \\(A_2\\). The 6 upper nodes are subjected to uncertain vertical loads \\(P_1,\\ldots,P_6\\) and the variable of interest is the vertical displacement \\(V_1\\) at the bottom central node.</p> <p>References</p> <p>G\u00e9raud Blatman, Bruno Sudret, Adaptive sparse polynomial chaos expansion based on least angle regression, Journal of Computational Physics, Volume 230, Issue 6, 2011, Pages 2345-2367, https://doi.org/10.1016/j.jcp.2010.12.021.</p> <p>Sang Hoon Lee, Byung Man Kwak, Response surface augmented moment method for efficient reliability analysis, Structural Safety, Volume 28, Issue 3, 2006, Pages 261-272, https://doi.org/10.1016/j.strusafe.2005.08.003.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bar/","title":"Bar","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar","title":"bar","text":"<p>Defining a bar of the truss problem.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar.Bar","title":"Bar  <code>dataclass</code>","text":"<pre><code>Bar(\n    area: float = 0.002,\n    young_modulus: float = 210000000000.0,\n)\n</code></pre> <p>A bar of the truss model.</p> PARAMETER DESCRIPTION <code>area</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>0.002</code> </p> <code>young_modulus</code> <p>An enumeration.</p> <p> TYPE: <code>str</code> DEFAULT: <code>210000000000.0</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar.Bar-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar.Bar.area","title":"area  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>area: float = 0.002\n</code></pre> <p>The cross-sectional of the bar (in m\u00b2).</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bar/#gemseo_umdo.use_cases.truss.bar.Bar.young_modulus","title":"young_modulus  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>young_modulus: float = 210000000000.0\n</code></pre> <p>The Young's modulus of the material (in Pa).</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bars/","title":"Bars","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/bars/#gemseo_umdo.use_cases.truss.bars","title":"bars","text":"<p>Defining the bars of the truss problem.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/bars/#gemseo_umdo.use_cases.truss.bars-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/bars/#gemseo_umdo.use_cases.truss.bars.Bars","title":"Bars","text":"<p>               Bases: <code>NamedTuple</code></p> <p>The bars of the truss model.</p> PARAMETER DESCRIPTION <code>bar_0</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_1</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_2</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_3</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_4</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_5</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_6</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_7</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_8</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_9</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_10</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_11</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.001, young_modulus=210000000000.0)</code> </p> <code>bar_12</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_13</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_14</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_15</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_16</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_17</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_18</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_19</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_20</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_21</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p> <code>bar_22</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('Bar')</code> DEFAULT: <code>Bar(area=0.002, young_modulus=210000000000.0)</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/truss/discipline/","title":"Discipline","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/discipline/#gemseo_umdo.use_cases.truss.discipline","title":"discipline","text":"<p>Defining the truss model as a discipline.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/discipline/#gemseo_umdo.use_cases.truss.discipline-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/discipline/#gemseo_umdo.use_cases.truss.discipline.TrussDiscipline","title":"TrussDiscipline","text":"<pre><code>TrussDiscipline(use_different_bars: bool = False)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The discipline wrapping the truss model.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>use_different_bars</code> <p>Whether the bars are different. Otherwise, use identical oblical bars and identical horizontal bars.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/use_cases/truss/discipline.py</code> <pre><code>def __init__(self, use_different_bars: bool = False) -&gt; None:\n    \"\"\"\n    Args:\n        use_different_bars: Whether the bars are different.\n            Otherwise, use identical oblical bars and identical horizontal bars.\n    \"\"\"  # noqa: D205 D212\n    super().__init__()\n    e1_names = (\n        tuple(f\"E1_{i}\" for i in range(1, 12)) if use_different_bars else (\"E1\",)\n    )\n    e2_names = (\n        tuple(f\"E2_{i}\" for i in range(1, 13)) if use_different_bars else (\"E2\",)\n    )\n    a1_names = (\n        tuple(f\"A1_{i}\" for i in range(1, 12)) if use_different_bars else (\"A1\",)\n    )\n    a2_names = (\n        tuple(f\"A2_{i}\" for i in range(1, 13)) if use_different_bars else (\"A2\",)\n    )\n    p_names = tuple(f\"P{i}\" for i in range(1, 7))\n    self.io.input_grammar.update_from_names((\n        *e1_names,\n        *e2_names,\n        *a1_names,\n        *a2_names,\n        *p_names,\n    ))\n    self.io.input_grammar.descriptions.update({\n        name: f\"The Young's modulus of the horizontal bar #{i} (in Pa).\"\n        for i, name in enumerate(e1_names, start=1)\n    })\n    self.io.input_grammar.descriptions.update({\n        name: f\"The Young's modulus of the vertical bar #{i} (in Pa).\"\n        for i, name in enumerate(e2_names, start=1)\n    })\n    self.io.input_grammar.descriptions.update({\n        name: f\"The cross-sectional area of the horizontal bar #{i} (in m\u00b2).\"\n        for i, name in enumerate(a1_names, start=1)\n    })\n    self.io.input_grammar.descriptions.update({\n        name: f\"The cross-sectional area of the vertical bar #{i} (in m\u00b2).\"\n        for i, name in enumerate(a2_names, start=1)\n    })\n    self.io.input_grammar.descriptions.update({\n        name: f\"The vertical force #{i} (in N).\"\n        for i, name in enumerate(p_names, start=1)\n    })\n    self.io.output_grammar.update_from_names((\"V1\", \"displacements\"))\n    self.io.output_grammar.descriptions.update({\n        \"V1\": \"The vertical displacement (in m) at the bottom central node.\",\n        \"displacements\": (\n            \"The nodal displacements (in m) shaped as `(n_nodes, 2)` \"\n            \"(the first and second columns \"\n            \"represent the horizontal and vertical displacements respectively).\"\n        ),\n    })\n    self.default_input_data = (\n        dict.fromkeys(e1_names, array([210000000000.0]))\n        | dict.fromkeys(e2_names, array([210000000000.0]))\n        | dict.fromkeys(a1_names, array([0.002]))\n        | dict.fromkeys(a2_names, array([0.001]))\n        | dict.fromkeys(p_names, array([5e4]))\n    )\n    self.__truss_model = TrussModel()\n    self.__use_different_bars = use_different_bars\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/truss/forces/","title":"Forces","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/forces/#gemseo_umdo.use_cases.truss.forces","title":"forces","text":"<p>Defining the forces in the truss problem.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/forces/#gemseo_umdo.use_cases.truss.forces-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/forces/#gemseo_umdo.use_cases.truss.forces.Forces","title":"Forces","text":"<p>               Bases: <code>NamedTuple</code></p> <p>The forces (in N) of the truss problem.</p> PARAMETER DESCRIPTION <code>force_7</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p> <code>force_8</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p> <code>force_9</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p> <code>force_10</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p> <code>force_11</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p> <code>force_12</code> <p>An enumeration.</p> <p> TYPE: <code>ForwardRef('float')</code> DEFAULT: <code>50000.0</code> </p>"},{"location":"reference/gemseo_umdo/use_cases/truss/model/","title":"Model","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model","title":"model","text":"<p>Defining the truss model.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model.TrussModel","title":"TrussModel","text":"<p>The truss model.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model.TrussModel-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model.TrussModel.compute","title":"compute","text":"<pre><code>compute(\n    bars: Bars | None = None, forces: Forces | None = None\n) -&gt; tuple[float, ndarray]\n</code></pre> <p>Compute the vertical displacements.</p> PARAMETER DESCRIPTION <code>bars</code> <p>The settings of the bars. If <code>None</code>, the model uses default values.</p> <p> TYPE: <code>Bars | None</code> DEFAULT: <code>None</code> </p> <code>forces</code> <p>The settings of the forces. If <code>None</code>, the model uses default values.</p> <p> TYPE: <code>Forces | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>tuple[float, ndarray]</code> <p>The vertical displacement at the bottom central node, and the nodal displacements, shaped as <code>(n_nodes, 2)</code> (the first and second columns represent the horizontal and vertical displacements respectively).</p> Source code in <code>src/gemseo_umdo/use_cases/truss/model.py</code> <pre><code>def compute(\n    self,\n    bars: Bars | None = None,\n    forces: Forces | None = None,\n) -&gt; tuple[float, ndarray]:\n    \"\"\"Compute the vertical displacements.\n\n    Args:\n        bars: The settings of the bars.\n            If `None`, the model uses default values.\n        forces: The settings of the forces.\n            If `None`, the model uses default values.\n\n    Returns:\n        The vertical displacement at the bottom central node,\n        and the nodal displacements, shaped as `(n_nodes, 2)`\n        (the first and second columns represent the horizontal\n        and vertical displacements respectively).\n    \"\"\"\n    if bars is None:\n        bars = Bars()\n\n    if forces is None:\n        forces = Forces()\n\n    forces = block([\n        [zeros((7, 2))],\n        [zeros((6, 1)), full((6, 1), -array(forces)[:, newaxis])],\n    ])\n    free_forces = forces.flatten()[self.__FREE_DOF]\n    stiffness_matrix = lil_matrix((self.__N_DOF, self.__N_DOF))\n    for bar, element in zip(bars, self.__ELEMENTS):\n        node_1, node_2 = element\n        element_stiffness_matrix = self.__compute_element_stiffness_matrix(\n            bar.young_modulus, bar.area, node_1, node_2\n        )\n        dof_map = [node_1 * 2, node_1 * 2 + 1, node_2 * 2, node_2 * 2 + 1]\n        for i in range(4):\n            for j in range(4):\n                stiffness_matrix[dof_map[i], dof_map[j]] += (\n                    element_stiffness_matrix[i, j]\n                )\n\n    free_stiffness_matrix = stiffness_matrix[self.__FREE_DOF, :][:, self.__FREE_DOF]\n    free_stiffness_matrix = csr_matrix(free_stiffness_matrix)\n\n    displacements = zeros(self.__N_DOF)\n    displacements[self.__FREE_DOF] = spsolve(free_stiffness_matrix, free_forces)\n\n    return displacements[7], displacements.reshape((-1, 2))\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/truss/model/#gemseo_umdo.use_cases.truss.model.TrussModel.plot","title":"plot","text":"<pre><code>plot(\n    displacements: ndarray | None = None,\n    scale: float = 1.0,\n    show: bool = True,\n    file_path: str | Path = \"\",\n) -&gt; None\n</code></pre> <p>Plot the truss structure.</p> PARAMETER DESCRIPTION <code>displacements</code> <p>The nodal displacements if any, shaped as <code>(n_nodes, 2)</code> (the first and second columns represent the horizontal and vertical displacements respectively).</p> <p> TYPE: <code>ndarray | None</code> DEFAULT: <code>None</code> </p> <code>scale</code> <p>A scaling factor to better see the displacements.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.0</code> </p> <code>show</code> <p>Whether to display the visualization.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>file_path</code> <p>The path of the file to save the visualization.</p> <p> TYPE: <code>str | Path</code> DEFAULT: <code>''</code> </p> Source code in <code>src/gemseo_umdo/use_cases/truss/model.py</code> <pre><code>def plot(\n    self,\n    displacements: ndarray | None = None,\n    scale: float = 1.0,\n    show: bool = True,\n    file_path: str | Path = \"\",\n) -&gt; None:\n    \"\"\"Plot the truss structure.\n\n    Args:\n        displacements: The nodal displacements if any,\n            shaped as `(n_nodes, 2)`\n            (the first and second columns represent the horizontal\n            and vertical displacements respectively).\n        scale: A scaling factor to better see the displacements.\n        show: Whether to display the visualization.\n        file_path: The path of the file to save the visualization.\n    \"\"\"\n    fig = plt.figure(figsize=(10, 6))\n\n    elements = self.__ELEMENTS\n    nodes = self.__NODES\n\n    for element in elements:\n        first_node, second_node = element\n        x = [nodes[first_node, 0], nodes[second_node, 0]]\n        y = [nodes[first_node, 1], nodes[second_node, 1]]\n        plt.plot(\n            x,\n            y,\n            \"b-\",\n            label=\"Original elements\" if element == elements[0] else None,\n        )\n\n    if displacements is not None:\n        displaced_nodes = nodes + scale * displacements\n        for element in elements:\n            first_node, second_node = element\n            x = [displaced_nodes[first_node, 0], displaced_nodes[second_node, 0]]\n            y = [displaced_nodes[first_node, 1], displaced_nodes[second_node, 1]]\n            plt.plot(\n                x,\n                y,\n                \"r--\",\n                label=\"Displaced elements\" if element == elements[0] else None,\n            )\n\n    plt.scatter(nodes[:, 0], nodes[:, 1], color=\"blue\", label=\"Nodes\")\n    title = \"The truss\"\n    if displacements is not None:\n        plt.scatter(\n            displaced_nodes[:, 0],\n            displaced_nodes[:, 1],\n            color=\"red\",\n            marker=\"o\",\n            label=\"Displaced nodes\",\n        )\n        title += \" and its displacement\"\n\n    plt.title(title)\n    plt.xlabel(\"X-coordinate (m)\")\n    plt.ylabel(\"Y-coordinate (m)\")\n    plt.axis(\"equal\")\n    plt.grid(True)\n    plt.legend()\n    save_show_figure(fig, show, file_path)\n</code></pre>"},{"location":"reference/gemseo_umdo/use_cases/truss/uncertain_space/","title":"Uncertain space","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/uncertain_space/#gemseo_umdo.use_cases.truss.uncertain_space","title":"uncertain_space","text":"<p>Defining the uncertain space of the truss problem.</p>"},{"location":"reference/gemseo_umdo/use_cases/truss/uncertain_space/#gemseo_umdo.use_cases.truss.uncertain_space-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/use_cases/truss/uncertain_space/#gemseo_umdo.use_cases.truss.uncertain_space.TrussUncertainSpace","title":"TrussUncertainSpace","text":"<pre><code>TrussUncertainSpace(\n    factor: float = 1.0, use_different_bars: bool = False\n)\n</code></pre> <p>               Bases: <code>ParameterSpace</code></p> <p>The uncertain space of the truss problem.</p> PARAMETER DESCRIPTION <code>factor</code> <p>The multiplication factor of the standard deviation with respect to the original paper.</p> <p> TYPE: <code>float</code> DEFAULT: <code>1.0</code> </p> <code>use_different_bars</code> <p>Whether the bars are different. Otherwise, use identical oblical bars and identical horizontal bars.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/gemseo_umdo/use_cases/truss/uncertain_space.py</code> <pre><code>def __init__(self, factor: float = 1.0, use_different_bars: bool = False) -&gt; None:\n    \"\"\"\n    Args:\n        factor: The multiplication factor of the standard deviation\n            with respect to the original paper.\n        use_different_bars: Whether the bars are different.\n            Otherwise, use identical oblical bars and identical horizontal bars.\n    \"\"\"  # noqa: D205 D212\n    super().__init__()\n    for name in (\n        (f\"A1_{i}\" for i in range(1, 12)) if use_different_bars else (\"A1\",)\n    ):\n        self.add_random_variable(\n            name,\n            \"OTDistribution\",\n            interfaced_distribution=\"LogNormal\",\n            interfaced_distribution_parameters=self._to_lognormal(\n                2e-3, factor * 2e-4\n            ),\n        )\n\n    for name in (\n        (f\"A2_{i}\" for i in range(1, 13)) if use_different_bars else (\"A2\",)\n    ):\n        self.add_random_variable(\n            name,\n            \"OTDistribution\",\n            interfaced_distribution=\"LogNormal\",\n            interfaced_distribution_parameters=self._to_lognormal(\n                1e-3, factor * 2e-4\n            ),\n        )\n\n    for name in (\n        (\n            *(f\"E1_{i}\" for i in range(1, 12)),\n            *(f\"E2_{i}\" for i in range(1, 13)),\n        )\n        if use_different_bars\n        else (\"E1\", \"E2\")\n    ):\n        self.add_random_variable(\n            name,\n            \"OTDistribution\",\n            interfaced_distribution=\"LogNormal\",\n            interfaced_distribution_parameters=self._to_lognormal(\n                2.1e11, factor * 2.1e10\n            ),\n        )\n\n    for i in range(1, 7):\n        self.add_random_variable(\n            f\"P{i}\",\n            \"OTDistribution\",\n            interfaced_distribution=\"Gumbel\",\n            interfaced_distribution_parameters=self._to_gumbel(5e4, factor * 7.5e3),\n        )\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/","title":"Visualizations","text":""},{"location":"reference/gemseo_umdo/visualizations/#gemseo_umdo.visualizations","title":"visualizations","text":"<p>Data visualization.</p>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/","title":"Sobol graph","text":""},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph","title":"sobol_graph","text":"<p>A network of uncertain variables representing their Sobol' indices.</p>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph","title":"SobolGraph","text":"<pre><code>SobolGraph(\n    first_order_indices: Mapping[str, float],\n    total_order_indices: Mapping[str, float],\n    second_order_indices: Mapping[tuple[str, str], float],\n    threshold: float = 0.1,\n    maximum_thickness: float = 10.0,\n)\n</code></pre> <p>               Bases: <code>GraphView</code></p> <p>A network of uncertain variables representing their Sobol' indices.</p> <p>A node represents an uncertain variable whose name is written inside, followed by its first-order and total-order Sobol' indices.</p> <p>The thickness of a node is proportional to the total-order Sobol' index of the variable while the thickness of an edge is proportional to the second-order Sobol' index of the corresponding pair of variables.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> PARAMETER DESCRIPTION <code>first_order_indices</code> <p>The first-order Sobol' indices of the scalar inputs, shaped as <code>{name: index}</code>.</p> <p> TYPE: <code>Mapping[str, float]</code> </p> <code>total_order_indices</code> <p>The total-order Sobol' indices of the scalar inputs, shaped as <code>{name: index}</code>.</p> <p> TYPE: <code>Mapping[str, float]</code> </p> <code>second_order_indices</code> <p>The second-order Sobol' indices of the scalar inputs, shaped as <code>{(name, other_name): index}</code>.</p> <p> TYPE: <code>Mapping[tuple[str, str], float]</code> </p> <code>threshold</code> <p>The sensitivity threshold above which a second-order index is significant and the corresponding edge plotted.</p> <p> TYPE: <code>float</code> DEFAULT: <code>0.1</code> </p> <code>maximum_thickness</code> <p>The maximum thickness of a line.</p> <p> TYPE: <code>float</code> DEFAULT: <code>10.0</code> </p> Source code in <code>src/gemseo_umdo/visualizations/sobol_graph.py</code> <pre><code>def __init__(\n    self,\n    first_order_indices: Mapping[str, float],\n    total_order_indices: Mapping[str, float],\n    second_order_indices: Mapping[tuple[str, str], float],\n    threshold: float = 0.1,\n    maximum_thickness: float = 10.0,\n) -&gt; None:\n    \"\"\"\n    Args:\n        first_order_indices: The first-order Sobol' indices of the scalar inputs,\n            shaped as `{name: index}`.\n        second_order_indices:  The second-order Sobol' indices of the scalar inputs,\n            shaped as `{(name, other_name): index}`.\n        total_order_indices: The total-order Sobol' indices of the scalar inputs,\n            shaped as `{name: index}`.\n        threshold: The sensitivity threshold\n            above which a second-order index is significant\n            and the corresponding edge plotted.\n        maximum_thickness: The maximum thickness of a line.\n    \"\"\"  # noqa: D205 D212 D415\n    super().__init__(False)\n    variables_to_nodes = {}\n\n    # Add the nodes representing both first- and total-order indices.\n    for name, total_order_index in total_order_indices.items():\n        first_order_index = first_order_indices[name]\n        node_name = (\n            f\"{name}\\n\"\n            f\"({round(total_order_index * 100)}, {round(first_order_index * 100)})\"\n        )\n        variables_to_nodes[name] = node_name\n        self.node(\n            node_name,\n            penwidth=str(total_order_index * maximum_thickness),\n        )\n\n    # Add the edges representing the second-order indices.\n    for (name, other_name), index in second_order_indices.items():\n        if index &gt;= threshold:\n            self.edge(\n                variables_to_nodes[name],\n                variables_to_nodes[other_name],\n                penwidth=str(index * maximum_thickness),\n            )\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph-attributes","title":"Attributes","text":""},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph.DEFAULT_FILE_PATH","title":"DEFAULT_FILE_PATH  <code>class-attribute</code>","text":"<pre><code>DEFAULT_FILE_PATH: str | Path = 'sobol_graph.png'\n</code></pre> <p>The default file path to save the graph.</p>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph.threshold","title":"threshold  <code>instance-attribute</code>","text":"<pre><code>threshold: float\n</code></pre> <p>The threshold above which an edge is significant.</p>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph.from_analysis","title":"from_analysis  <code>classmethod</code>","text":"<pre><code>from_analysis(\n    analysis: SobolAnalysis,\n    output_name: str,\n    output_component: int = 0,\n) -&gt; SobolGraph\n</code></pre> <p>Create the Sobol' graph from a Sobol' analysis.</p> PARAMETER DESCRIPTION <code>analysis</code> <p>A Sobol' analysis.</p> <p> TYPE: <code>SobolAnalysis</code> </p> <code>output_name</code> <p>The name of the output.</p> <p> TYPE: <code>str</code> </p> <code>output_component</code> <p>The component of the output.</p> <p> TYPE: <code>int</code> DEFAULT: <code>0</code> </p> RETURNS DESCRIPTION <code>SobolGraph</code> <p>The Sobol' graph associated with this Sobol' analysis.</p> Source code in <code>src/gemseo_umdo/visualizations/sobol_graph.py</code> <pre><code>@classmethod\ndef from_analysis(\n    cls, analysis: SobolAnalysis, output_name: str, output_component: int = 0\n) -&gt; SobolGraph:\n    \"\"\"Create the Sobol' graph from a Sobol' analysis.\n\n    Args:\n        analysis: A Sobol' analysis.\n        output_name: The name of the output.\n        output_component: The component of the output.\n\n    Returns:\n        The Sobol' graph associated with this Sobol' analysis.\n    \"\"\"\n    return cls(\n        cls.__preprocess(analysis.indices.first[output_name][output_component]),\n        cls.__preprocess(analysis.indices.total[output_name][output_component]),\n        cls.__preprocess_second_order(\n            analysis.indices.second[output_name][output_component]\n        ),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/sobol_graph/#gemseo_umdo.visualizations.sobol_graph.SobolGraph.from_pce","title":"from_pce  <code>classmethod</code>","text":"<pre><code>from_pce(\n    pce_regressor: PCERegressor,\n    output_name: str,\n    output_component: int = 0,\n) -&gt; SobolGraph\n</code></pre> <p>Create the Sobol' graph from a PCE (polynomial chaos expansion) regressor.</p> PARAMETER DESCRIPTION <code>pce_regressor</code> <p>A PCE regressor.</p> <p> TYPE: <code>PCERegressor</code> </p> <code>output_name</code> <p>The name of the output.</p> <p> TYPE: <code>str</code> </p> <code>output_component</code> <p>The component of the output.</p> <p> TYPE: <code>int</code> DEFAULT: <code>0</code> </p> RETURNS DESCRIPTION <code>SobolGraph</code> <p>The Sobol' graph associated with this Sobol' analysis.</p> RAISES DESCRIPTION <code>ValueError</code> <p>When the name is not an output name.</p> Source code in <code>src/gemseo_umdo/visualizations/sobol_graph.py</code> <pre><code>@classmethod\ndef from_pce(\n    cls, pce_regressor: PCERegressor, output_name: str, output_component: int = 0\n) -&gt; SobolGraph:\n    \"\"\"Create the Sobol' graph from a PCE (polynomial chaos expansion) regressor.\n\n    Args:\n        pce_regressor: A PCE regressor.\n        output_name: The name of the output.\n        output_component: The component of the output.\n\n    Returns:\n        The Sobol' graph associated with this Sobol' analysis.\n\n    Raises:\n        ValueError: When the name is not an output name.\n    \"\"\"\n    if output_name not in pce_regressor.output_names:\n        msg = f\"The name {output_name!r} is not an output name.\"\n        raise ValueError(msg)\n\n    sizes = pce_regressor.sizes\n    index = 0\n    for name in pce_regressor.output_names:  # pragma: no branch\n        if name == output_name:\n            index += output_component\n            break\n\n        index += sizes[output_name]\n\n    return cls(\n        cls.__preprocess({\n            k: atleast_1d(v).round(3)\n            for k, v in pce_regressor.first_sobol_indices[index].items()\n        }),\n        cls.__preprocess({\n            k: atleast_1d(v).round(3)\n            for k, v in pce_regressor.total_sobol_indices[index].items()\n        }),\n        cls.__preprocess_second_order({\n            k1: {k2: atleast_2d(v2).round(3) for k2, v2 in v1.items()}\n            for k1, v1 in pce_regressor.second_sobol_indices[index].items()\n        }),\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/","title":"Uncertain coupling graph","text":""},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph","title":"uncertain_coupling_graph","text":"<p>An uncertain coupling graph.</p>"},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph","title":"UncertainCouplingGraph","text":"<pre><code>UncertainCouplingGraph(\n    disciplines: Sequence[Discipline],\n    uncertain_space: ParameterSpace,\n    variable_names: Iterable[str] | None = None,\n)\n</code></pre> <p>An uncertain coupling graph.</p> <p>A coupling graph whose disciplines are represented by nodes and coupling variables by edges whose thickness is proportional to its dispersion.</p> <p>The dispersion is computed using a DispersionMeasure such as the coefficient of variation (CV) or the quartile coefficient of dispersion (QCD).</p> <p>To be used as:</p> <ol> <li>Instantiate an    UncertainCouplingGraph.</li> <li>Sample the multidisciplinary system, using    sample().</li> <li>Generate the coupling graph for a given dispersion measure, using    visualize().</li> </ol> <p>If you want to change the dispersion measure or filter the variables, repeat Step 3 with another dispersion measure or a list of variable names.</p> <p>If you want to improve the estimations of the statistics, repeat Step 2 with additional evaluations and Step 3.</p> PARAMETER DESCRIPTION <code>disciplines</code> <p>The coupled disciplines.</p> <p> TYPE: <code>Sequence[Discipline]</code> </p> <code>uncertain_space</code> <p>The space of the uncertain variables.</p> <p> TYPE: <code>ParameterSpace</code> </p> <code>variable_names</code> <p>The names of the coupling variables of interest. If <code>None</code>, use all the coupling variables.</p> <p> TYPE: <code>Iterable[str] | None</code> DEFAULT: <code>None</code> </p> Source code in <code>src/gemseo_umdo/visualizations/uncertain_coupling_graph.py</code> <pre><code>def __init__(\n    self,\n    disciplines: Sequence[Discipline],\n    uncertain_space: ParameterSpace,\n    variable_names: Iterable[str] | None = None,\n) -&gt; None:\n    \"\"\"\n    Args:\n        disciplines: The coupled disciplines.\n        uncertain_space: The space of the uncertain variables.\n        variable_names: The names of the coupling variables of interest.\n            If `None`, use all the coupling variables.\n    \"\"\"  # noqa: D205 D212 D415\n    if variable_names is None:\n        self.__output_names = get_all_outputs(disciplines)\n    else:\n        self.__output_names = variable_names\n\n    self.__scenario = DOEScenario(\n        disciplines, self.__output_names[0], uncertain_space, formulation_name=\"MDF\"\n    )\n    for output_name in self.__output_names:\n        self.__scenario.add_observable(output_name)\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph-classes","title":"Classes","text":""},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph.DispersionMeasure","title":"DispersionMeasure","text":"<p>               Bases: <code>StrEnum</code></p> <p>A dispersion measure.</p>"},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph-functions","title":"Functions","text":""},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph.sample","title":"sample","text":"<pre><code>sample(\n    n_samples: int,\n    algo_name: str = \"OT_OPT_LHS\",\n    **algo_options: Any\n) -&gt; None\n</code></pre> <p>Sample the multidisciplinary system.</p> PARAMETER DESCRIPTION <code>n_samples</code> <p>The number of evaluations of the multidisciplinary system.</p> <p> TYPE: <code>int</code> </p> <code>algo_name</code> <p>The name of the DOE algorithm.</p> <p> TYPE: <code>str</code> DEFAULT: <code>'OT_OPT_LHS'</code> </p> <code>**algo_options</code> <p>The options of the DOE algorithm.</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> Source code in <code>src/gemseo_umdo/visualizations/uncertain_coupling_graph.py</code> <pre><code>def sample(\n    self, n_samples: int, algo_name: str = \"OT_OPT_LHS\", **algo_options: Any\n) -&gt; None:\n    \"\"\"Sample the multidisciplinary system.\n\n    Args:\n        n_samples: The number of evaluations of the multidisciplinary system.\n        algo_name: The name of the DOE algorithm.\n        **algo_options: The options of the DOE algorithm.\n    \"\"\"\n    self.__scenario.execute(\n        algo_name=algo_name, n_samples=n_samples, **algo_options\n    )\n</code></pre>"},{"location":"reference/gemseo_umdo/visualizations/uncertain_coupling_graph/#gemseo_umdo.visualizations.uncertain_coupling_graph.UncertainCouplingGraph.visualize","title":"visualize","text":"<pre><code>visualize(\n    maximum_thickness: int = 30,\n    dispersion_measure: DispersionMeasure = QCD,\n    variable_names: Iterable[str] | None = None,\n    show: bool = True,\n    save: bool = True,\n    file_path: str | Path = \"\",\n    clean_up: bool = True,\n) -&gt; GraphView\n</code></pre> <p>Generate the uncertain coupling graph.</p> PARAMETER DESCRIPTION <code>maximum_thickness</code> <p>The maximum thickness of a line.</p> <p> TYPE: <code>int</code> DEFAULT: <code>30</code> </p> <code>dispersion_measure</code> <p>A standardized measure of dispersion.</p> <p> TYPE: <code>DispersionMeasure</code> DEFAULT: <code>QCD</code> </p> <code>variable_names</code> <p>The names of the coupling variables of interest. If <code>None</code>, use all the coupling variables of interest defined at instantiation.</p> <p> TYPE: <code>Iterable[str] | None</code> DEFAULT: <code>None</code> </p> <code>show</code> <p>Whether to display the graph with the default application associated to the file extension.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>save</code> <p>Whether to save the graph on the disk.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> <code>file_path</code> <p>The file path with extension to save the graph. If <code>\"\"</code>, use the class name with PNG format.</p> <p> TYPE: <code>str | Path</code> DEFAULT: <code>''</code> </p> <code>clean_up</code> <p>Whether to remove the source files.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>GraphView</code> <p>The view of the uncertain coupling graph.</p> Source code in <code>src/gemseo_umdo/visualizations/uncertain_coupling_graph.py</code> <pre><code>def visualize(\n    self,\n    maximum_thickness: int = 30,\n    dispersion_measure: DispersionMeasure = DispersionMeasure.QCD,\n    variable_names: Iterable[str] | None = None,\n    show: bool = True,\n    save: bool = True,\n    file_path: str | Path = \"\",\n    clean_up: bool = True,\n) -&gt; GraphView:\n    \"\"\"Generate the uncertain coupling graph.\n\n    Args:\n        maximum_thickness: The maximum thickness of a line.\n        dispersion_measure: A standardized measure of dispersion.\n        variable_names: The names of the coupling variables of interest.\n            If `None`,\n            use all the coupling variables of interest defined at instantiation.\n        show: Whether to display the graph\n            with the default application associated to the file extension.\n        save: Whether to save the graph on the disk.\n        file_path: The file path with extension to save the graph.\n            If `\"\"`, use the class name with PNG format.\n        clean_up: Whether to remove the source files.\n\n    Returns:\n        The view of the uncertain coupling graph.\n    \"\"\"\n    if variable_names is None:\n        all_output_names = self.__output_names\n    else:\n        all_output_names = variable_names\n\n    database = self.__scenario.formulation.optimization_problem.database\n    output_names_to_measures = {\n        output_name: self.__DISP_MEAS_TO_FUNCTION[dispersion_measure](\n            database.get_function_history(output_name)\n        )\n        for output_name in self.__output_names\n    }\n    dependency_graph = DependencyGraph(self.__scenario.disciplines).graph\n    graph_view = GraphView()\n    for discipline in self.__scenario.disciplines:\n        graph_view.node(discipline.name)\n\n    for head_disc, tail_disc, coupling_names in dependency_graph.edges(data=\"io\"):\n        variable_names = set(coupling_names).intersection(set(all_output_names))\n        for coupling_name in variable_names:\n            disp_meas = atleast_1d(output_names_to_measures[coupling_name])\n            coupling_size = disp_meas.size\n            for i in range(coupling_size):\n                graph_view.edge(\n                    head_disc.name,\n                    tail_disc.name,\n                    label=repr_variable(coupling_name, i, coupling_size),\n                    penwidth=str(round(abs(disp_meas[i] * maximum_thickness), 2)),\n                )\n\n    for discipline in dependency_graph.nodes:\n        coupling_names = set(discipline.io.input_grammar.names).intersection(\n            discipline.io.output_grammar.names\n        )\n        discipline_name = discipline.name\n        variable_names = set(coupling_names).intersection(set(all_output_names))\n        for coupling_name in variable_names:\n            disp_meas = atleast_1d(output_names_to_measures[coupling_name])\n            coupling_size = disp_meas.size\n            for i in range(coupling_size):\n                graph_view.edge(\n                    discipline_name,\n                    discipline_name,\n                    label=repr_variable(coupling_name, i, coupling_size),\n                    penwidth=str(round(abs(disp_meas[i] * maximum_thickness), 2)),\n                )\n\n    if save:\n        graph_view.visualize(show=show, file_path=file_path, clean_up=clean_up)\n\n    return graph_view\n</code></pre>"},{"location":"user_guide/","title":"User guide","text":""},{"location":"user_guide/#user-guide","title":"User guide","text":""},{"location":"user_guide/statistics/","title":"Statistics","text":""},{"location":"user_guide/statistics/#statistics","title":"Statistics","text":""},{"location":"user_guide/statistics/multilevel/","title":"Multilevel Monte Carlo","text":""},{"location":"user_guide/statistics/multilevel/#multilevel-monte-carlo","title":"Multilevel Monte Carlo","text":"<p>A classical problem consists of estimating a statistic \\(\\theta\\) of the output of a simulator \\(f\\) whose input \\(\\mathbf{X}\\) is random: that is, a statistic \\(\\theta\\) of \\(Y=f(\\mathbf{X})\\).</p>"},{"location":"user_guide/statistics/multilevel/#multilevel-monte-carlo-methods","title":"Multilevel Monte Carlo methods","text":"<p>Crude Monte Carlo (MC) is the most standard method to estimate it. For instance, given a sample \\(\\left(\\mathbf{X}^{(1)},\\ldots,\\mathbf{X}^{(N)}\\right)\\) made of independent random variables distributed as \\(\\mathbf{X}\\), \\(\\frac{1}{N}\\sum_{i=1}^Nf(\\mathbf{X}^{(i)})\\) is an unbiased MC estimator of the expectation of \\(Y\\) whose variance is \\(\\mathcal{O}(N^{-1})\\). (N.B. by unbiasedness, the variance of the MC estimator equals its mean squared error.)</p> <p>In presence of a sequence of simulators \\((f_\\ell)_{\\ell = 0}^L\\) with increasing accuracy and computational cost, such that \\(f_L = f\\), multilevel Monte Carlo (MLMC) methods<sup>1</sup> can be relevant to reduce the variance of the MC estimator. The MLMC methods use all these models to estimate the statistic \\(\\theta_L\\) (a.k.a. \\(\\theta\\)) of the random output variable \\(f_L(\\mathbf{X})\\).</p> <p>We denote by \\(Y_\\ell=f_\\ell(\\mathbf{X})\\) the random output variable associated with the model level \\(f_\\ell\\) and by \\((\\theta_1,\\ldots,\\theta_L)\\) the sequence of statistics increasingly close to \\(\\theta_L\\), where \\(\\theta_\\ell\\) is the statistic of \\(Y_\\ell\\). Then, the statistical measure \\(\\theta_L\\) can be expressed as a telescoping sum \\(\\theta_L = \\sum \\limits_{\\ell = 0}^{L} T_\\ell\\), where \\(T_\\ell = \\theta_\\ell - \\theta_{\\ell-1}\\), and by convention \\(\\theta_{-1} = 0\\). Let \\(\\hat{\\theta}_{\\ell,n_\\ell}^{\\mathrm{MC},(\\ell)}\\) and \\(\\hat{\\theta}_{\\ell-1,n_\\ell}^{\\mathrm{MC},(\\ell)}\\) be respectively the Monte Carlo (MC) estimators of \\(\\theta_\\ell\\) and \\(\\theta_{\\ell-1}\\) using the same \\(n_{\\ell}\\)-sample.</p> <p>Then, the MLMC estimator \\(\\hat{\\theta}_L^{\\mathrm{ML}}\\) of \\(\\theta_L\\) may be expressed as:</p> \\[ \\hat{\\theta}_L^{\\mathrm{MLMC}} = \\sum \\limits_{\\ell = 0}^{L} \\hat{T}_{\\ell,n_\\ell}^{\\mathrm{MC}} = \\sum \\limits_{\\ell = 0}^{L} \\hat{\\theta}_{\\ell,n_\\ell}^{\\mathrm{MC},(\\ell)}- \\hat{\\theta}_{\\ell-1,n_\\ell}^{\\mathrm{MC},(\\ell)}. \\] <p>Many algorithms distributing the sampling budget between the different levels can be found in the literature. Their goal is often to get an MLMC estimator with an accuracy target set by the user. Recently, an allocation algorithm<sup>2</sup> has been proposed to get the best accuracy for a given sampling budget.</p>"},{"location":"user_guide/statistics/multilevel/#multilevel-monte-carlo-with-control-variates","title":"Multilevel Monte Carlo with control variates","text":"<p>When surrogate models are available as functions of the random input \\(\\mathbf{X}\\), their random outputs can be used as control variates (CVs) to reduce the variance of the MC estimators.</p> <p>In 2023, El Amri et al<sup>3</sup> have investigated the combination of CVs and MLMC in different ways and called the resulting algorithm MLMC-MLCV, standing for multilevel Monte Carlo with multilevel control variates. Their idea was to estimate each \\(T_\\ell\\) of the telescoping sum with a control variate approach based on surrogate models. They showed that even with surrogate models that are moderately correlated to the original models, the reduction in variance could be significant.</p> <ol> <li> <p>Michael B Giles. Multilevel Monte Carlo methods. Acta numerica, 24:259\u2013328, 2015.\u00a0\u21a9</p> </li> <li> <p>Paul Mycek and Matthias De Lozzo. Multilevel Monte Carlo covariance estimation for the computation of Sobol'indices. SIAM/ASA Journal on Uncertainty Quantification, 7(4):1323\u20131348, 2019.\u00a0\u21a9</p> </li> <li> <p>Mohamed Reda El Amri, Paul Mycek, Sophie Ricci, and Matthias De Lozzo. Multilevel surrogate-based control variates. 2023. arXiv:2306.10800.\u00a0\u21a9</p> </li> </ol>"},{"location":"user_guide/umdo/","title":"MDO under uncertainty","text":""},{"location":"user_guide/umdo/#mdo-under-uncertainty","title":"MDO under uncertainty","text":""},{"location":"user_guide/umdo/#introduction","title":"Introduction","text":""},{"location":"user_guide/umdo/#optimization-problem","title":"Optimization problem","text":"<p>A standard optimization problem aims to find a vector \\(x^*\\) minimizing an objective function \\(f\\) over a search space \\(\\mathcal{X}\\subset\\mathbb{R}^d\\) while satisfying inequality constraints \\(g(x)\\leq 0\\) and equality constraints \\(h(x)=0\\):</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp; &amp; f(x) \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g(x) \\leq 0 \\\\ &amp;&amp;&amp;h(x) = 0 \\end{align} \\] <p>where \\(f:\\mathcal{X}\\to\\mathbb{R}\\), \\(g:\\mathcal{X}\\to\\mathbb{R}^{p_g}\\) and \\(h:\\mathcal{X}\\to\\mathbb{R}^{p_h}\\).</p> <p>Any optimization problem of the form</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp; &amp; f_{\\textrm{cost}}(x) \\\\ &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{maximize}}&amp; &amp; f_{\\textrm{performance}}(x) \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g_n(x) \\leq t_{g_n} \\\\ &amp;&amp;&amp;g_p(x) \\geq t_{g_p} \\\\ &amp;&amp;&amp;\\tilde{h}(x) = t_h \\end{align} \\] <p>can be reduced to such a standard optimization problem:</p> <ul> <li>an objective to minimize,</li> <li>upper inequality constraints with bounds equal to 0,</li> <li>equality constraints with right-hand sides equal to 0.</li> </ul> <p>API</p> <p>In GEMSEO, the user instantiates an OptimizationProblem from a DesignSpace, defines its objective functions and constraints with MDOFunction objects and solves it with an algorithm from a BaseDriverLibrary. This algorithm can be either an optimizer or a design of experiments (DOE).</p> Example <p>The optimization problem</p> \\[ \\begin{align} &amp;\\underset{x\\in[-1,1]}{\\operatorname{minimize}}&amp; &amp; x^2 \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp; x^3 \\ge 0.1 \\end{align} \\] <p>can be solved with the Python lines</p> <pre><code>from gemseo import execute_algo\nfrom gemseo.algos.optimization_problem import Optimization\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.core.mdo_functions.mdo_function import MDOFunction\n\ndesign_space = DesignSpace()\ndesign_space.add_variable(\"x\", lower_bound=-1., upper_bound=1.)\n\nproblem = OptimizationProblem(design_space)\nproblem.objective = MDOFunction(lambda x: x**2, \"f\")\nproblem.add_constraint(MDOFunction(lambda x: x**3, \"g\"), positive=True, value=0.1)\n\nexecute_algo(problem, algo_name=\"PYDOE_FULLFACT\", n_samples=10, algo_type=\"doe\")\n</code></pre>"},{"location":"user_guide/umdo/#optimization-problem-under-uncertainty","title":"Optimization problem under uncertainty","text":"<p>The models are often subject to uncertainties. There are different ways of classifying and modeling uncertainties. GEMSEO-UMDO uses the probability theory to model both the aleatory and epistemic uncertainties as random variables.</p> <p>Then, the objective \\(f(x,U)\\) and the constraints \\(g(x,U)\\) and \\(h(x,U)\\), where \\(U\\) denotes random inputs, are in turn random variables and the standard optimization problem is replaced by</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp; &amp; \\mathbb{K}_f[f(x,U)] \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\mathbb{K}_g[g(x,U)] \\leq 0 \\\\ &amp;&amp;&amp;\\mathbb{K}_h[h(x,U)] = 0 \\end{align} \\] <p>where \\(\\mathbb{K}_f\\), \\(\\mathbb{K}_g\\) and \\(\\mathbb{K}_h\\) are statistic operators, e.g.</p> <ul> <li>the expectation operator \\(\\mathbb{E}\\),</li> <li>the standard deviation operator \\(\\mathbb{S}\\),</li> <li>the variance operator \\(\\mathbb{V}\\),</li> <li>a margin, i.e. a combination of expectation and standard deviation operators parametrized by a weight \\(\\kappa\\): \\(\\mathbb{E}+\\kappa\\cdot\\mathbb{S}\\),</li> <li>a probability operator \\(\\mathbb{P}\\) parametrized by bounds \\(m\\) and \\(M\\).</li> </ul> <p>In practice, the statistics \\(\\mathbb{K}_f[f(x,U)]\\), \\(\\mathbb{K}_g[g(x,U)]\\) and \\(\\mathbb{K}_h[h(x,U)]\\) are unknown and the operators \\(\\mathbb{K}_f\\), \\(\\mathbb{K}_g\\) and \\(\\mathbb{K}_h\\) are replaced by data-based operators \\(\\widehat{\\mathbb{K}}_f\\), \\(\\widehat{\\mathbb{K}}_g\\) and \\(\\widehat{\\mathbb{K}}_h\\). For example, in the case of the expectation operator \\(\\mathbb{E}\\) and the Monte Carlo (MC) sampling technique, the statistic \\(\\mathbb{E}[f(x,U)]\\) is replaced by the statistic estimator \\(\\widehat{\\mathbb{E}}[f(x,U)]=\\frac{1}{N}\\sum_{i=1}^Nf(x,u^{(i)})\\) where \\(u^{(1)},\\ldots,u^{(N)}\\) are \\(N\\) independent realizations of \\(U\\).</p> <p>Typically, a margin is applied to the objective to ensure a robust optimum \\(x^*\\). Indeed, minimizing margin \\(\\mathbb{E}[f(x,U)]+\\kappa\\cdot\\mathbb{S}[f(x,U)]\\) pushes towards a compromise between</p> <ol> <li>a small value of \\(f(x^*,u)\\) by minimizing \\(\\mathbb{E}[f(x,U)]\\),</li> <li>a small dispersion around \\(f(x^*,u)\\) by minimizing \\(\\mathbb{S}[f(x,U)]\\).</li> </ol> <p>For reliability purposes, probabilities could be applied to inequality constraints, e.g. \\(\\mathbb{P}[g(x,U)\\geq\\epsilon]\\) or \\(\\mathbb{P}[g(x,u)&gt;0]-\\varepsilon\\), or equality constraints, e.g. \\(\\mathbb{P}[|h(x,U)|\\geq\\epsilon]\\).</p> <p>Margin under normal assumption</p> <p>When \\(\\phi(x,U)\\) is normally distributed, the margin \\(\\mathbb{E}[\\phi(x,U)]+q_\\alpha\\cdot\\mathbb{S}[\\phi(x,U)]\\) corresponds to the \\(\\alpha\\)-quantile of \\(\\phi(x,U)\\) where \\(q_\\alpha\\) is the \\(\\alpha\\)-quantile of the standard Gaussian distribution. For that reason, 2 or 3 are common candidates for \\(\\kappa\\) as in this case, the margins correspond to the 0.975- and 0.999- quantiles of \\(\\phi(x,U)\\) respectively.</p>"},{"location":"user_guide/umdo/#multidisciplinary-optimization-mdo-problem","title":"Multidisciplinary optimization (MDO) problem","text":"<p>In complex systems, the quantities \\(f(x)\\), \\(g(x)\\) and \\(h(x)\\) are often computed by \\(M\\) models, called disciplines, which can be weakly or strongly coupled. The vector \\(x\\) can be split into</p> <ul> <li>a sub-vector \\(x_0\\) shared by at least two disciplines,</li> <li>sub-vectors \\(x_{1\\ldots M}=\\{x_1,\\ldots,x_M\\}\\), where \\(x_i\\) is specific to the \\(i\\)-th discipline.</li> </ul> <p>Then, the problem can be rewritten as the multidisciplinary optimization (MDO) problem</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X},\\,y\\in\\mathcal{Y}}{\\operatorname{minimize}}&amp;&amp;f(x,y)\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g(x,y) \\leq 0 \\\\ &amp;&amp;&amp;h(x,y) = 0 \\\\ &amp;&amp;&amp;y=c(x,y) \\end{align} \\] <p>where \\(c_i:x_0,x_i,y_{-i}\\mapsto y_i\\) represents the \\(i\\)-th discipline with \\(y_{-i}=\\{y_j\\}_{j\\in\\{1,\\ldots,M\\}\\setminus\\{i\\}}\\).</p> <p>This MDO problem implies that the optimum \\((x^*,y^*)\\) must be multidisciplinary feasible, i.e. satisfying the coupling equations \\(y=c(x,y)\\). Solving a non-linear equation system is called a multidisciplinary analysis (MDA).</p> Example: MDA with linear disciplines <p>Let us consider a simple MDO problem with two linear disciplines given by \\(c_1: x_0,x_1,y_2 \\mapsto x_0 + x_1 + y_2\\) and \\(c_2: x_0,x_2,y_1 \\mapsto x_0 + x_2 + 2y_1\\). Let us define the objective function as \\(f(x_0,x_1,x_2,y_1,y_2)=c_1(x_0,x_1,y_2)^2+c_2(x_0,x_2,y_1)^2\\). The coupling equations are \\(c_1(x_0,x_1,y_2)=y_1\\) and \\(c_2(x_0,x_2,y_1)=y_2\\). In this linear case, they can be solved analytically: \\(y_1(x) = -2x_0-x_1-x_2\\) and \\(y_2(x) = -3x_0-2x_1-x_2\\). Then, the objective function output can be rewritten as a function of \\(x\\) only: \\(f(x,y(x))=y_1(x)^2+y_2(x)^2\\), and the MDO problem becomes a simple optimization problem.</p> <p>In the case of non-linear disciplines, the MDA can be solved with Newton's method or a fixed-point technique.</p>"},{"location":"user_guide/umdo/#mdo-formulations","title":"MDO formulations","text":"<p>The efficient resolution of an MDO problem involves finding a suitable rewriting of the problem, called MDO formulation or architecture<sup>1</sup>, which is accompanied by a characteristic process (workflow and dataflow). We present some MDO formulations just after, with a very simple version under uncertainty where the statistics are estimated by MC sampling using \\(N\\) realizations of \\(U\\). More advanced estimation techniques can be found in GEMSEO-UMDO.</p>"},{"location":"user_guide/umdo/#mdf","title":"MDF","text":"<p>The MDF (multidisciplinary feasible) formulation of the MDO problem is certainly the best-known:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp;&amp;f(x,y(x))\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g(x,y(x)) \\leq 0 \\\\ &amp;&amp;&amp;h(x,y(x)) = 0. \\\\ \\end{align} \\] <p>This architecture performs an MDA at each design point \\(x\\), which, by the implicit function theorem, allows us to rewrite \\(y\\) as \\(y(x)\\), a function of \\(x\\). Because of this point-by-point coupling management, the MDF formulation is qualified as coupled.</p> <p>In presence of uncertainties, we have:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp;&amp;\\mathbb{K}_f[f(x,y(x,U),U)]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\mathbb{K}_g[g(x,y(x,U),U)] \\leq 0 \\\\ &amp;&amp;&amp;\\mathbb{K}_h[h(x,y(x,U),U)] = 0. \\\\ \\end{align} \\] <p>Here is a naive MC version:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}}&amp;&amp;\\widehat{\\mathbb{K}}_f[f(x,y(x,U),U)]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\widehat{\\mathbb{K}}_g[g(x,y(x,U),U)] \\leq 0 \\\\ &amp;&amp;&amp;\\widehat{\\mathbb{K}}_h[h(x,y(x,U),U)] = 0. \\\\ \\end{align} \\] <p>where \\(\\widehat{\\mathbb{K}}_{\\phi}[\\phi(x,y(x,U),U)]\\) is written from the samples \\(\\{\\phi\\!\\left(x,y\\!\\left(x,u^{(i)}\\right),u^{(i)}\\right)\\}_{i\\in\\{1,\\ldots,N\\}}\\).</p> <p>Note that the MDA is performed sample by sample, thus multiplying the computational cost of an iteration of the optimization loop by \\(N\\) with respect to the uncertainty-free case (without considering possible parallelizations).</p>"},{"location":"user_guide/umdo/#idf","title":"IDF","text":"<p>The IDF (individual disciplinary feasible) formulation is also popular:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X},\\,\\tilde{y}\\in\\mathcal{Y}}{\\operatorname{minimize}}&amp;&amp;f(x,c(x,\\tilde{y}))\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g(x,c(x,\\tilde{y})) \\leq 0 \\\\ &amp;&amp;&amp;h(x,c(x,\\tilde{y})) = 0 \\\\ &amp;&amp;&amp;\\tilde{y} = c(x,\\tilde{y}). \\end{align} \\] <p>This architecture evaluates the disciplines independently at each iteration of the optimization loop and is thus qualified as uncoupled. The multidisciplinary feasibility is ensured at convergence of the optimization algorithm by means of the consistency constraints \\(\\tilde{y} = c(x,\\tilde{y})\\) and the additional optimization variables \\(\\tilde{y}\\).</p> <p>In presence of uncertainties, we have:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X},\\,\\tilde{Y}}{\\operatorname{minimize}}&amp;&amp;\\mathbb{K}_f[f(x,c(x,\\tilde{Y},U),U)]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\mathbb{K}_g[g(x,c(x,\\tilde{Y},U),U)] \\leq 0 \\\\ &amp;&amp;&amp;\\mathbb{K}_h[h(x,c(x,\\tilde{Y},U),U)] = 0 \\\\ &amp;&amp;&amp;\\tilde{Y} = c(x,\\tilde{Y},U). \\end{align} \\] <p>where \\(\\tilde{Y}\\) is a random variable.</p> <p>Here is a naive MC version:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X},\\tilde{y}^{(1)},\\ldots,\\tilde{y}^{(N)}}{\\operatorname{minimize}}&amp;&amp;\\widehat{\\mathbb{K}}_f[f(x,c(x,\\tilde{Y},U),U]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\widehat{\\mathbb{K}}_g[g(x,c(x,\\tilde{Y},U),U] \\leq 0 \\\\ &amp;&amp;&amp;\\widehat{\\mathbb{K}}_h[h(x,c(x,\\tilde{Y},U),U] = 0 \\\\ &amp;&amp;&amp;\\tilde{y}^{(1)} = c\\!\\left(x,\\tilde{y}^{(1)},u^{(1)}\\right) \\\\ &amp;&amp;&amp;\\vdots\\\\ &amp;&amp;&amp;\\tilde{y}^{(N)} = c\\!\\left(x,\\tilde{y}^{(N)},u^{(N)}\\right). \\end{align} \\] <p>where \\(\\widehat{\\mathbb{K}}_{\\phi}[\\phi(x,c(x,\\tilde{Y},U),U)]\\) is written from the samples \\(\\{\\phi\\!\\left(x,c\\!\\left(x,\\tilde{y}^{(i)},u^{(i)}\\right),u^{(i)}\\right)\\}_{i\\in\\{1,\\ldots,N\\}}\\).</p> <p>Note that the dimension of the consistency constraints space as well as the dimension of the additional optimization variables space increases by a factor of \\(N\\), which can be very problematic, especially when the dimension of the coupling variables space is large.</p>"},{"location":"user_guide/umdo/#bi-level","title":"Bi-level","text":"<p>Bi-level formulations split the optimization problem into a top-level optimization problem controlling the shared design variables \\(x_0\\) and a sublevel optimization problem controlling the local design variables \\(x_{1\\ldots M}\\).</p> <p>In particular, Gazaix et al. (2019)<sup>2</sup> proposed to rewrite the initial MDO problem into a sequence of bi-level optimization problems whose sublevels are split into independent disciplinary optimization problems. This decomposition according to the disciplines makes the reuse of existing disciplinary optimization processes possible as well as their execution in parallel. It can also be done according to the nature of the design variables (continuous, discrete or mixed variables, etc.) and whether certain derivatives are available, to take advantage of specialized optimizers, although in the following we present the disciplinary version.</p> <p>Given the initial shared design values \\(x_0^{(0)}\\) and the initial local design values \\(x_{1\\ldots M}^{(0)}\\), the top-level optimization problem of the \\(k\\)-th term of this bi-level optimization problem sequence can be written as</p> \\[ \\begin{align} &amp;\\underset{x_0\\in\\mathcal{X}_0}{\\operatorname{minimize}}&amp;&amp;f\\!\\left(x_0, x_{1\\ldots M}^{(k)}, y\\!\\left(x_0, x_{1\\ldots M}^{(k)}\\right)\\right)\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g\\!\\left(x_0, x_{1\\ldots M}^{(k)}, y\\!\\left(x_0, x_{1\\ldots M}^{(k)}\\right)\\right)\\leq 0 \\end{align} \\] <p>where \\(x_i^{(k)}\\) is a solution of the disciplinary optimization problem</p> \\[ \\begin{align} &amp;\\underset{x_i\\in\\mathcal{X}_i}{\\operatorname{minimize}}&amp;&amp;f\\!\\left(x_0, x_i, x_{-i}^{(k-1)}, c\\!\\left(x_0,x_i,x_{-i}^{(k-1)},y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}\\right)\\right)\\right)\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g_i\\!\\left(x_0, x_i, x_{-i}^{(k-1)}, c\\!\\left(x_0,x_i,x_{-i}^{(k-1)},y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}\\right)\\right)\\right)\\leq 0 \\end{align} \\] <p>with \\(x_{-i}^{(k-1)}=\\left(x_j^{(k-1)}\\right)_{j\\in\\{1,\\ldots,M\\}\\setminus\\{i\\}}\\) and \\(y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}\\right)\\) the MDA solution at the design point \\(\\left(x_0,x_{1\\ldots M}^{(k-1)}\\right)\\).</p> <p>In presence of uncertainties, Aziz Alaoui (2025)<sup>3</sup> proposed a similar bi-level formulation. The main problem can be written as</p> \\[ \\begin{align} &amp;\\underset{x_0\\in\\mathcal{X}_0}{\\operatorname{minimize}}&amp;&amp;\\mathbb{K}_f\\!\\left[f\\!\\left(x_0, X_{1\\ldots M}^{(k)}, y\\!\\left(x_0, X_{1\\ldots M}^{(k)}, U\\right), U\\right)\\right]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp; \\mathbb{K}_g\\!\\left[g\\!\\left(x_0, X_{1\\ldots M}^{(k)}, y\\!\\left(x_0, X_{1\\ldots M}^{(k)}, U\\right), U\\right)\\right]\\leq 0 \\end{align} \\] <p>where \\(X_i^{(k)}=x_i^{(k)}(U)\\) is a random variable such that for any realization \\(u\\) of \\(U\\), \\(x_i^{(k)}(u)\\) is a solution of the disciplinary optimization problem</p> \\[ \\begin{align} &amp;\\underset{x_i\\in\\mathcal{X}_i}{\\operatorname{minimize}}&amp;&amp;f\\!\\left(x_0, x_i, x_{-i}^{(k-1)}(u), c\\!\\left(x_0,x_i,x_{-i}^{(k-1)}(u),y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}(u),u\\right),u\\right),u\\right)\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g_i\\!\\left(x_0, x_i, x_{-i}^{(k-1)}(u), c\\!\\left(x_0,x_i,x_{-i}^{(k-1)}(u),y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}(u),u\\right),u\\right),u\\right)\\leq 0 \\end{align} \\] <p>Different in kind from MDF</p> <p>Unlike its uncertainty-free version, which aims to be a reformulation of the MDF-formulated MDO problem, this bi-level formulation under uncertainty and its MDF counterpart are quite different in nature. While MDF is looking for an optimum design \\(x^*=(x_0^*,x_{1\\ldots M}^*)\\), this bi-level formulation is looking for a random optimum \\(X^*=(x_0^*,X_{1\\ldots M}^*)\\) where only the shared design variables \\(x_0^*\\) are fixed. The other design variables \\(X_{1\\ldots M}^*\\) are function of both this \\(x_0^*\\) and the uncertain sources \\(U\\) and define the optimal choices possible according to the values of \\(U\\). The idea behind this formulation is that because optimization under uncertainty leads to a solution more conservative than in the absence of uncertainties, it may be appropriate to fix only the global variables now and take time to fix the local variables, in the hope that the uncertainty \\(U\\) will diminish over the course of the design process and so lead to less conservative solutions, i.e. a better objective value.</p> <p>Here is a naive MC version:</p> \\[ \\begin{align} &amp;\\underset{x_0\\in\\mathcal{X}_0}{\\operatorname{minimize}}&amp;&amp;\\widehat{K}_f\\!\\left[f\\!\\left(x_0, X_{1\\ldots M}^{(k)}, y\\!\\left(x_0, X_{1\\ldots M}^{(k)}, U\\right), U\\right)\\right]\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;  \\widehat{K}_g\\!\\left[g\\!\\left(x_0, X_{1\\ldots M}^{(k)}, y\\!\\left(x_0, X_{1\\ldots M}^{(k)}, U\\right), U\\right)\\right]\\leq 0 \\end{align} \\] <p>where \\(\\widehat{K}_{\\phi}\\!\\left[\\phi\\!\\left(x_0, X_{1\\ldots M}^{(k)}, y\\!\\left(x_0, X_{1\\ldots M}^{(k)}, U\\right), U\\right)\\right]\\) is written from the samples \\(\\left\\{\\phi\\!\\left(x_0, x_{1\\ldots M}^{(k)}\\!\\left(u^{(i)}\\right), y\\!\\left(x_0, x_{1\\ldots M}^{(k)}\\!\\left(u^{(i)}\\right), u^{(i)}\\right)\\right)\\right\\}_{i\\in\\{1,\\ldots,N\\}}\\)</p> <p>and where \\(x_j^{(k)}(u^{(i)})\\) is solution of</p> \\[ \\begin{align} &amp;\\underset{x_i\\in\\mathcal{X}_i}{\\operatorname{minimize}}&amp;&amp;f\\!\\left(x_0, x_i, x_{-i}^{(k-1)}\\!\\left(u^{(i)}\\right), c\\!\\left(x_0,x_i,x_{-i}^{(k-1)}\\!\\left(u^{(i)}\\right),y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}\\!\\left(u^{(i)}\\right),u^{(i)}\\right),u^{(i)}\\right),u^{(i)}\\right)\\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;g_i\\!\\left(x_0, x_i, x_{-i}^{(k-1)}\\!\\left(u^{(i)}\\right), c\\!\\left(x_0,x_i,x_{-i}^{(k-1)}\\!\\left(u^{(i)}\\right),y\\!\\left(x_0,x_{1\\ldots M}^{(k-1)}\\!\\left(u^{(i)}\\right),u^{(i)}\\right),u^{(i)}\\right),u^{(i)}\\right)\\leq 0 \\end{align} \\]"},{"location":"user_guide/umdo/#api","title":"API","text":"<p>Here is an outline of the API to define and solve an MDO problem under uncertainty. The key ingredients for the definition are the disciplines, the design space, the constraints, the objective(s) and the U-MDO formulation combining an MDO formulation and a statistic estimation technique. The MDO problem can be solved using either an optimizer or a DOE. Go to the examples for more information. In this section, we present what is different compared to MDO without uncertainties</p>"},{"location":"user_guide/umdo/#disciplines","title":"Disciplines","text":"<p>When defining disciplines, do not forget to declare the uncertain variables as input variables so that the UMDOScenario and UDOEScenario can take them into account.</p> <p>Example</p> <p>Let us implement an Discipline outputting \\(f(x,U)=(x_1+U)^2+(x_2+U)^2\\): <pre><code>from numpy import array\nfrom gemseo.core.discipline.discipline import Discipline\n\n\nclass MyDiscipline(Discipline):\n\n    def __init__(self):\n        super().__init__()\n        self.input_grammar.update_from_names([\"x1\", \"x2\", \"U\"])\n        self.default_input_data = {\"x1\": array([0.]), \"x2\": array([0.]), \"U\": array([0.5])}\n\n    def _run(self, input_data):\n        x1 = self.io.data[\"x1\"]\n        x2 = self.io.data[\"x2\"]\n        U = self.io.data[\"U\"]\n        y = (x1+U)**2 + (x2+U)**2\n        self.io.update_output_data({\"y\": y})\n</code></pre></p> <p>This discipline can be executed with different values of the uncertain variable \\(U\\): <pre><code>discipline.execute()  # default value, i.e. U=0.5\ndiscipline.execute({\"U\": array([0.2])})  # custom value: U=0.2\n</code></pre></p>"},{"location":"user_guide/umdo/#uncertain-space","title":"Uncertain space","text":"<p>The uncertain variables have to be defined in a ParameterSpace with the method add_random_variable.</p> <p>Example</p> <p>In the previous example, we could model the uncertain variable \\(U\\) as a random variable triangularly distributed between 0.2 and 0.7 with a mode of 0.4:</p> <pre><code>from gemseo.algos.parameter_space import ParameterSpace\n\nuncertain_space = ParameterSpace()\nuncertan_space.add_random_variable(\n    \"U\", \"OTTriangularDistribution\", minimum=0.2, maximum=0.7, mode=0.4\n)\n</code></pre>"},{"location":"user_guide/umdo/#scenario","title":"Scenario","text":"<p>Given these disciplines and uncertain space, as well as a design space, objective(s) and constraint(s), the MDO problem under uncertainty can be set up by</p> <ul> <li>UDOEScenario   to solve it using a DOE,</li> <li>UMDOScenario   to solve it using an optimizer or a DOE.</li> </ul> <p>You also need to fill in the statistics associated with the objective(s) and constraint(s), and the U-MDO formulation, combining an statistics estimation technique and an MDO formulation.</p> <p>API</p> <p>The API of UDOEScenario is deliberately similar to the API of DOEScenario. And the same for UMDOScenario and MDOScenario. This choice was made not only to simplify the user's life, but also because an MDO problem under uncertainty is first and foremost an MDO problem.</p> <p>Example</p> <p>Continuing the previous example, we seek to minimize \\(\\mathbf{E}[(x_1+U)^2+(x_2+U)^2]\\) over the domain \\([-1,1]^2\\) with the gradient-free optimization algorithm COBYLA and a Monte Carlo estimator of the expectation.</p> <pre><code>from gemseo.algos.design_space import DesignSpace\nfrom gemseo_umdo.formulations.sampling_settings import Sampling_Settings\nfrom gemseo_umdo.scenarios.umdo_scenario import UMDOScenario\n\ndesign_space = DesignSpace()\ndesign_space.add_variable(\"x1\", lower_bound=-1., upper_bound=1.)\ndesign_space.add_variable(\"x2\", lower_bound=-1, upper_bound=1.)\n\nscenario = UMDOScenario(\n    [discipline],\n    \"DisciplinaryOpt\",\n    \"y\",\n    design_space,\n    uncertain_space,\n    \"Mean\",\n    statistic_estimation_settings=Sampling_Settings(n_samples=100),\n)\nscenario.execute(algo_name=\"NLOPT_COBYLA\", max_iter=50)\n</code></pre>"},{"location":"user_guide/umdo/#statistic-estimation","title":"Statistic estimation","text":"<p>UDOEScenario and UMDOScenario can use Sampling_Settings, with <code>n_samples</code> set to a certain value \\(N\\), to estimate the statistics associated with \\(f(x,U)\\), \\(g(x,U)\\) and \\(h(x,U)\\) by sampling,:</p> \\[\\!\\left(f\\!\\left(x,u^{(i)}\\right),g\\!\\left(x,u^{(i)}\\right),h\\!\\left(x,u^{(i)}\\right)\\right)_{1\\leq i \\leq N}.\\] <p>However, when costly disciplines are involved, this approach may be too expensive. The rest of the MDO under uncertainty section of the user guide presents other statistic estimation techniques to reduce the number of discipline evaluations, such as control variates, Taylor polynomials and polynomial chaos expansions. Choosing an estimation technique and its options is made via the argument <code>statistic_estimation_settings</code> of UMDOScenario (or UDOEScenario), which is a Pydantic model of settings, e.g. ControlVariate_Settings, TaylorPolynomial_Settings or PCE_Settings.</p> <p>As of now, only the <code>Sampling</code>, <code>SequentialSampling</code> and <code>PCE</code> U-MDO formulations provide analytical derivatives of the statistics when the disciplines and the multidisciplinary process generated by the MDO formulation are differentiable. Therefore, the other U-MDO formulations require gradient approximation to use gradient-based optimizers, what can be expensive according to the dimension of the design space.</p> <p>Finally, it is important to bear in mind that all these techniques make approximations in order to estimate statistics more cheaply than sampling. Estimates are therefore made with a certain degree of precision, and potentially with a certain degree of bias. So, at the end of an optimization process with a given statistic estimation technique T, it is advisable to copy and paste the scenario and replay it with Sampling_Settings parameterized by a non-negligible <code>n_samples</code> at the design solution point <code>x_opt</code> found with T (i.e. <code>scenario.execute(algo_name=\"CustomDOE\", samples=at_least2d(x_opt))</code>) to obtain a better estimate of the statistics at this point. This avoids pitfalls, such as concluding that a constraint is satisfied when it is not. Note that this validation approach is also recommended in surrogate-based optimization (with or without uncertainty), where it is advisable to evaluate the objective and constraints with the original models at the end of an optimization loop, due to the error of the surrogate models.</p> Implementation <p>Given a DesignSpace and a collection of Disciplines, a DOEScenario generates and solves an OptimizationProblem that corresponds to a BaseMDOFormulation. The resolution consists in sampling the objective and constraints over the DesignSpace, i.e. \\((x^{(i)},f(x^{(i)},U),g(x^{(i)},U),h(x^{(i)},U))_{1\\leq i \\leq N}\\), and returning either the \\(x^*\\) minimizing \\(f\\) while satisying \\(g\\) and \\(h\\) or the \\(x^*\\) that violates the least \\(g\\) and \\(h\\).</p> <p>GEMSEO-UMDO uses this sampling mechanism a first time with a ParameterSpace instead of the DesignSpace to estimate the statistics \\(\\mathbb{K}_f[f(x,U)]\\), \\(\\mathbb{K}_g[g(x,U)]\\) and \\(\\mathbb{K}_h[h(x,U)]\\) based on the samples \\((u^{(i)},f(x,u^{(i)}),g(x,u^{(i)}),h(x,u^{(i)}))_{1\\leq i \\leq N}\\). In the case of Monte Carlo sampling, \\(N\\) is the number of samples while in the case of Taylor expansion, \\(M\\in\\{1,1+q\\}\\) where \\(q\\) is the dimension of the uncertain space depending on whether the derivatives are known or to be estimated by finite differences. These statistics estimators \\(\\hat{\\mathbb{K}}_f[f(x,U)]\\), \\(\\hat{\\mathbb{K}}_g[g(x,U)]\\) and \\(\\hat{\\mathbb{K}}_h[h(x,U)]\\) are then used to build a new OptimizationProblem over the DesignSpace:</p> \\[ \\begin{align} &amp;\\underset{x\\in\\mathcal{X}}{\\operatorname{minimize}} &amp; &amp; \\hat{\\mathbb{K}}_f[f(x,U)] \\\\ &amp;\\operatorname{subject\\;to} &amp; &amp;\\hat{\\mathbb{K}}_g[g(x,U)] \\leq 0 \\\\ &amp;&amp;&amp;\\hat{\\mathbb{K}}_h[h(x,U)] = 0. \\end{align} \\] <p>Thus implemented, GEMSEO-UMDO should be able to set up any MDO problem under uncertainty from any BaseMDOFormulation and any statistic estimation technique. This vision may be theoretical at the moment, but the ambition of GEMSEO-UMDO is to be an engine generating U-MDO formulations based on any MDO formulation and any statistic estimators.</p> <ol> <li> <p>Joaquim R. R. A. Martins and Andrew B. Lambe. Multidisciplinary design optimization: a survey of architectures. AIAA Journal, 51:2049\u20132075, 2013. doi:10.2514/1.J051895.\u00a0\u21a9</p> </li> <li> <p>Anne Gazaix, Francois Gallard, Vincent Ambert, Damien Gu\u00e9not, Maxime Hamadi, Patrick Sarouille, St\u00e9phane Grihon, Thierry Druot, Joel Brezillon, Thierry Lefebvre, Nathalie Bartoli, Remi Lafage, Vincent Gachelin, Justin Plakoo, Nicolas Desfachelles, Selime Gurol, Benoit Pauwels, and Charlie Vanaret. Industrial application of an advanced bi-level MDO formulation to an aircraft engine pylon optimization. In AIAA AVIATION Forum. American Institute of Aeronautics and Astronautics, 2019.\u00a0\u21a9</p> </li> <li> <p>Amine Aziz Alaoui. Contributions to multidisciplinary design optimization under uncertainty, with applications to aircraft design. Theses, Universit\u00e9 de Toulouse, February 2025. URL: https://theses.hal.science/tel-05059696.\u00a0\u21a9</p> </li> </ol>"},{"location":"user_guide/umdo/control_variate/","title":"Control variate","text":""},{"location":"user_guide/umdo/control_variate/#control-variate","title":"Control variate","text":"<p>ControlVariate is a U-MDO formulation that estimates the statistics using control variates based on first-order Taylor polynomials.</p> <p>Control variates (CVs) method</p> <p>The control variates method is a variance reduction technique used in Monte Carlo sampling. Read more</p> <p>The Taylor polynomials are centered at \\(\\mu=\\mathbb{E}[U]\\) where \\(U\\) is the random input vector.</p> <p>This U-MDO formulation has one mandatory parameter, namely <code>n_samples</code>.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=ControlVariate_Settings(n_samples=20),\n)\n</code></pre>"},{"location":"user_guide/umdo/control_variate/#settings","title":"Settings","text":"<p>By default, the formulation uses the DOE algorithm <code>OT_OPT_LHS</code> with 10 samples: the Latin hypercube sampling (LHS) enhanced by simulated annealing of OpenTURNS. Simulated annealing is a global optimization technique that starts from an initial LHS and improves it to maximize its discrepancy and so to get a better space-filling LHS.</p> <p>The number of samples can be changed with the parameter <code>n_samples</code> and the DOE algorithm name can be changed with the parameter <code>doe_algo_settings</code> , which is a Pydantic model deriving from BaseDOESettings. When <code>n_samples</code> is <code>None</code> (default) and <code>doe_algo_settings</code> has a field <code>n_samples</code>, then this field is considered. When <code>doe_algo_settings</code> has a field <code>seed</code> and its value is <code>None</code>, then the U-MDO formulation will use SEED.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the algorithm name and settings, e.g.</p> <pre><code>settings = ControlVariate_Settings(doe_algo_settings=OT_MONTE_CARLO(n_samples=20, n_processes=2))\nscenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=settings,\n)\n</code></pre>"},{"location":"user_guide/umdo/control_variate/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance and the margin.</p> <p>Only the average formula is noted here, for simplicity's sake</p> \\[\\mathbb{E}[\\varphi(x,U)] \\approx \\frac{1}{N}\\sum_{i=1}^N f\\left(x,U^{(i)}\\right) +\\alpha_N\\left(\\frac{1}{N}\\sum_{j=1}^N \\tilde{f}\\left(x,U^{(j)}\\right)-f(x,\\mu)\\right)\\] <p>where \\(\\tilde{f}(x)\\) is the first-order Taylor polynomial of \\(f(x)\\) at \\(\\mu\\), \\(\\alpha_N\\) is the empirical estimator of \\(\\frac{\\text{cov}\\left[f(x,U),\\tilde{f}(x,u)\\right]} {\\mathbb{V}\\left[f(x,U)\\right]}\\) and \\(U^{(1)},\\ldots,U^{(N)}\\) are \\(N\\) independent realizations of \\(U\\).</p>"},{"location":"user_guide/umdo/pce/","title":"Polynomial chaos expansion","text":""},{"location":"user_guide/umdo/pce/#polynomial-chaos-expansion","title":"Polynomial chaos expansion","text":"<p>PCE is a U-MDO formulation that estimates the statistics using polynomial chaos expansions (PCEs).</p> <p>At each iteration of the optimization loop, a PCE is built over the uncertain space and its coefficients are used to estimate specific statistics, namely mean, standard deviation, variance and margin.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=PCE_Settings(doe_n_samples=20),\n)\n</code></pre>"},{"location":"user_guide/umdo/pce/#settings","title":"Settings","text":""},{"location":"user_guide/umdo/pce/#doe-algorithm","title":"DOE algorithm","text":"<p>By default, the formulation uses the OpenTURNS' DOE algorithm <code>OT_OPT_LHS</code>, which is a Latin hypercube sampling (LHS) technique enhanced by simulated annealing, a global optimization technique that starts from an initial LHS and improves it to maximize its discrepancy and so to get a better space-filling LHS.</p> <p>The default number samples is 10. It can be changed with the parameter <code>n_samples</code> and the DOE algorithm name can be changed with the parameter <code>doe_algo_settings</code>, which is a Pydantic model deriving from BaseDOESettings. When <code>n_samples</code> is <code>None</code> (default) and <code>doe_algo_settings</code> has a field <code>n_samples</code>, then this field is considered. When <code>doe_algo_settings</code> has a field <code>seed</code> and its value is <code>None</code>, then the U-MDO formulation will use SEED.</p>"},{"location":"user_guide/umdo/pce/#pces-options","title":"PCE's options","text":"<p>This U-MDO formulation is based on the PCERegressor available in GEMSEO, which wraps the OpenTURNS' PCE algorithm. Use the <code>regressor_settings</code> parameter to set the options of the PCERegressor, using the Pydantic model PCERegressorSettings. For example, set <code>use_lars</code> to <code>True</code> to obtain a more sparse PCE and avoid overfitting (more details) and <code>degree</code> to <code>3</code> for a maximum degree of 3. You can also use the technique proposed in Section II.C.3 of a paper by Mura et al.<sup>1</sup> to approximate the Jacobians of the mean, standard deviation and variance with respect to the design variables at no extra cost, if you do not want to compute the derivatives of the disciplines to reduce the calculation budget or approximate these Jacobians by finite differences. You only have to enable the option <code>approximate_statistics_jacobians</code>.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the DOE algorithm and the PCE's settings, e.g.</p> <pre><code>settings = PCE_Settings(\n    doe_algo_settings=OT_MONTE_CARLO(n_samples=20, n_processes=2),\n    regressor_settings=PCE_Settings.PCERegressorSettings(use_lars=True, degree=3),\n    )\nscenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=settings,\n)\n</code></pre>"},{"location":"user_guide/umdo/pce/#quality-options","title":"Quality options","text":"<p>Finally, many options can be used to adjust the log verbosity providing information on the PCEs built at each optimization iteration:</p> Name Description quality_threshold The learning quality threshold below which a warning is logged. quality_name The name of the measure to assess the quality of the PCE regressor. quality_cv_compute Whether to estimate the quality by cross-validation (CV). quality_n_folds The number of folds in the case of the CV technique. quality_cv_randomize Whether to shuffle the samples before dividing them in folds in the case of the CV technique. quality_cv_seed The seed of the pseudo-random number generator. quality_cv_threshold The CV quality threshold below which a warning is logged."},{"location":"user_guide/umdo/pce/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance and the margin, from the coefficients \\((\\alpha_i)_{0\\leq i \\leq N}\\) of the PCE</p> \\[\\hat{f}_x(U)=\\alpha_0 + \\sum_{1\\leq i\\leq P}\\alpha_i\\Phi_i(U).\\] Statistic Notation Estimator Mean \\(\\mathbb{E}[\\varphi(x,U)]\\) \\(E_{\\textrm{PCE}}[\\varphi(x,U)]=\\alpha_0\\) Variance \\(\\mathbb{V}[\\varphi(x,U)]\\) \\(V_{\\textrm{PCE}}[\\varphi(x,U)]=\\sum_{1\\leq i\\leq P}\\alpha_i^2\\) Standard deviation \\(\\mathbb{S}[\\varphi(x,U)]\\) \\(S_{\\textrm{PCE}}[\\varphi(x,U)]=\\sqrt{V_{\\textrm{PCE}}[\\varphi(x,U)]}\\) Margin \\(\\textrm{Margin}[\\varphi(x,U)]\\) \\(\\textrm{Margin}_{\\textrm{PCE}}[\\varphi(x,U)]=E_{\\textrm{PCE}}[\\varphi(x,U)] + \\kappa \\cdot S_{\\textrm{PCE}}[\\varphi(x,U)]\\)"},{"location":"user_guide/umdo/pce/#gradient-based-optimization","title":"Gradient-based optimization","text":"<p>When the multidisciplinary process is differentiable, and a gradient-based optimizer is used, analytical derivatives are implemented with the following statistics: mean, standard deviation, variance and margin.</p> <ol> <li> <p>Riccardo Mura, Tiziano Ghisu, and Shahrokh Shahpar. Least squares approximation-based polynomial chaos expansion for uncertainty quantification and robust optimization in aeronautics. In AIAA AVIATION 2020 FORUM. 2020. URL: https://arc.aiaa.org/doi/abs/10.2514/6.2020-3163, arXiv:https://arc.aiaa.org/doi/pdf/10.2514/6.2020-3163, doi:10.2514/6.2020-3163.\u00a0\u21a9</p> </li> </ol>"},{"location":"user_guide/umdo/sampling/","title":"Sampling","text":""},{"location":"user_guide/umdo/sampling/#sampling","title":"Sampling","text":"<p>Sampling is a U-MDO formulation that estimates the statistics unbiasedly using Monte Carlo sampling.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=Sampling_Settings(n_samples=20),\n)\n</code></pre>"},{"location":"user_guide/umdo/sampling/#settings","title":"Settings","text":"<p>By default, the formulation uses the DOE algorithm <code>OT_OPT_LHS</code> with 10 samples: the Latin hypercube sampling (LHS) enhanced by simulated annealing of OpenTURNS. Simulated annealing is a global optimization technique that starts from an initial LHS and improves it to maximize its discrepancy and so to get a better space-filling LHS.</p> <p>The number of samples can be changed with the parameter <code>n_samples</code> and the DOE algorithm name can be changed with the parameter <code>doe_algo_settings</code>, which is a Pydantic model deriving from BaseDOESettings. When <code>n_samples</code> is <code>None</code> (default) and <code>doe_algo_settings</code> has a field <code>n_samples</code>, then this field is considered. When <code>doe_algo_settings</code> has a field <code>seed</code> and its value is <code>None</code>, then the U-MDO formulation will use SEED.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the DOE algorithm name and settings, e.g.</p> <pre><code>settings = Sampling_Settings(doe_algo_settings=OT_MONTE_CARLO(n_samples=20, n_processes=2)\nscenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=settings),\n)\n</code></pre>"},{"location":"user_guide/umdo/sampling/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance, the margin and the probability.</p> Statistic Notation Estimator Mean \\(\\mathbb{E}[\\varphi(x,U)]\\) \\(E_N[\\varphi(x,U)]=\\frac{1}{N}\\sum_{i=1}^N\\varphi(x,U^{(i)})\\) Variance \\(\\mathbb{V}[\\varphi(x,U)]\\) \\(V_N[\\varphi(x,U)]=\\frac{1}{N-1}\\sum_{i=1}^N\\left(\\varphi(x,U^{(i)})-E_N[\\varphi(x,U)]\\right)^2\\) Standard deviation \\(\\mathbb{S}[\\varphi(x,U)]\\) \\(S_N[\\varphi(x,U)]=\\sqrt{V_N[\\varphi(x,U)]}\\) Margin \\(\\textrm{Margin}[\\varphi(x,U)]\\) \\(\\textrm{Margin}_N[\\varphi(x,U)]=E_N[\\varphi(x,U)]+\\kappa\\cdot S_N[\\varphi(x,U)]\\) Probability \\(\\mathbb{P}[\\varphi(x,U)\\leq 0]\\) \\(P_N[\\varphi(x,U)\\leq 0]=E_N[\\mathbb{1}_{\\varphi(x,U)\\leq 0}]\\)"},{"location":"user_guide/umdo/sampling/#gradient-based-optimization","title":"Gradient-based optimization","text":"<p>When the multidisciplinary process is differentiable, and a gradient-based optimizer is used, analytical derivatives are implemented with the following statistics: mean, standard deviation, variance and margin. For probability statistics, only derivatives approximated by finite differences are currently available.</p>"},{"location":"user_guide/umdo/sequential_sampling/","title":"Sequential sampling","text":""},{"location":"user_guide/umdo/sequential_sampling/#sequential-sampling","title":"Sequential sampling","text":"<p>SequentialSampling is a U-MDO formulation that estimates the statistics unbiasedly by using Monte Carlo sampling. Contrary to Sampling, this U-MDO formulation does not use a constant sample size but a sample size that increases with the iterations of the optimization loop.</p> <p>The number of samples <code>n_samples</code> corresponds to the maximum number of samples for a given iteration of the optimization loop.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=SequentialSampling_Settings(n_samples=20),\n)\n</code></pre>"},{"location":"user_guide/umdo/sequential_sampling/#settings","title":"Settings","text":""},{"location":"user_guide/umdo/sequential_sampling/#algorithm","title":"Algorithm","text":"<p>By default, the formulation uses the algorithm <code>OT_OPT_LHS</code> to get a good space-filling design of experiments (DOE), with only 10 samples.</p> <p>DOE algorithms</p> <p>Read the GEMSEO documentation for more information about the available DOE algorithms.</p> <p>The number of samples can be changed with the parameter <code>n_samples</code> and the DOE algorithm name can be changed with the parameter <code>doe_algo_settings</code>, which is a Pydantic model deriving from BaseDOESettings. When <code>n_samples</code> is <code>None</code> (default) and <code>doe_algo_settings</code> has a field <code>n_samples</code>, then this field is considered. When <code>doe_algo_settings</code> has a field <code>seed</code> and its value is <code>None</code>, then the U-MDO formulation will use SEED.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the DOE algorithm name and settings, e.g.</p> <pre><code>settings = SequentialSampling_Settings(doe_algo_settings=OT_MONTE_CARLO(n_samples=20, n_processes=2))\nscenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=settings,\n)\n</code></pre>"},{"location":"user_guide/umdo/sequential_sampling/#sampling-size-profile","title":"Sampling size profile","text":"<p>By default, the number of samples is equal to 1 at the first iteration and is incremented by 1 at each iteration of the optimization loop.</p> <p>These values can be changed with the statistic estimation parameters <code>initial_n_samples</code> and <code>n_samples_increment</code>.</p>"},{"location":"user_guide/umdo/sequential_sampling/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance, the margin and the probability, The estimators are given below at the \\(k\\)-th iteration of the optimization loop.</p> Statistic Notation Estimator Mean \\(\\mathbb{E}[\\varphi(x,U)]\\) \\(E_{N_k}[\\varphi(x,U)]=\\frac{1}{N_k}\\sum_{i=1}^{N_k}\\varphi(x,U^{(i)})\\) Variance \\(\\mathbb{V}[\\varphi(x,U)]\\) \\(V_{N_k}[\\varphi(x,U)]=\\frac{1}{N_k-1}\\sum_{i=1}^{N_k}\\left(\\varphi(x,U^{(i)})-E_{N_k}[\\varphi(x,U)]\\right)^2\\) Standard deviation \\(\\mathbb{S}[\\varphi(x,U)]\\) \\(S_{N_k}[\\varphi(x,U)]=\\sqrt{V_{N_k}[\\varphi(x,U)]}\\) Margin \\(\\textrm{Margin}[\\varphi(x,U)]\\) \\(\\textrm{Margin}_{N_k}[\\varphi(x,U)]=E_{N_k}[\\varphi(x,U)]+\\kappa\\cdot S_{N_k}[\\varphi(x,U)]\\) Probability \\(\\mathbb{P}[\\varphi(x,U)\\leq 0]\\) \\(P_{N_k}[\\varphi(x,U)\\leq 0]=E_{N_k}[\\mathbb{1}_{\\varphi(x,U)\\leq 0}]\\)"},{"location":"user_guide/umdo/surrogate/","title":"Surrogate model","text":""},{"location":"user_guide/umdo/surrogate/#surrogate","title":"Surrogate","text":"<p>Surrogate is a U-MDO formulation that estimates the statistics using surrogate models.</p> <p>At each iteration of the optimization loop, a surrogate model is built over the uncertain space and Monte Carlo sampling is used to estimate specific statistics, namely mean, standard deviation, variance, probability and margin.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=Surrogate_Settings(doe_n_samples=20),\n)\n</code></pre>"},{"location":"user_guide/umdo/surrogate/#settings","title":"Settings","text":""},{"location":"user_guide/umdo/surrogate/#doe-algorithm","title":"DOE algorithm","text":"<p>By default, the formulation uses the OpenTURNS' DOE algorithm <code>OT_OPT_LHS</code>, which is a Latin hypercube sampling (LHS) technique enhanced by simulated annealing, a global optimization technique that starts from an initial LHS and improves it to maximize its discrepancy and so to get a better space-filling LHS.</p> <p>The default number samples is 10. It can be changed with the parameter <code>n_samples</code> and the DOE algorithm name can be changed with the parameter <code>doe_algo_settings</code>, which is a Pydantic model deriving from BaseDOESettings. When <code>n_samples</code> is <code>None</code> (default) and <code>doe_algo_settings</code> has a field <code>n_samples</code>, then this field is considered. When <code>doe_algo_settings</code> has a field <code>seed</code> and its value is <code>None</code>, then the U-MDO formulation will use SEED.</p>"},{"location":"user_guide/umdo/surrogate/#surrogates-options","title":"Surrogate's options","text":"<p>This U-MDO formulation is based on a BaseRegressor. By default, this surrogate model is the RBFRegressor available in GEMSEO, which wraps the SciPy's RBF algorithm. The kind of regressor can be changed by setting the <code>regressor_settings</code> parameter with a Pydantic model defining the settings of a regressor For example, set <code>regressor_settings</code> to <code>\"LinearRegressor_Settings()\"</code> to use a linear regressor, <code>regressor_settings</code> to <code>RBFRegressor_Settings(function=\"cubic\")</code> for a RBFRegressor based on a cubic function and <code>regressor_n_samples</code> to <code>100</code> to estimate the statistics with 100 Monte Carlo simulations instead of 10000.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the DOE algorithm and the surrogate's options, e.g.</p> <pre><code>settings = Surrogate_Settings(\n    doe_algo_settings=OT_MONTE_CARLO_Settings(n_samples=20, n_processes=2),\n    regressor_settings=PolynomialRegressor_Settings(degree=3),\n    regressor_n_samples=100,\n)\nscenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_parameters=settings,\n)\n</code></pre>"},{"location":"user_guide/umdo/surrogate/#quality-options","title":"Quality options","text":"<p>Finally, many options can be used to adjust the log verbosity providing information on the surrogates built at each optimization iteration:</p> Name Description quality_threshold The learning quality threshold below which a warning is logged. quality_name The name of the measure to assess the quality of the PCE regressor. quality_cv_compute Whether to estimate the quality by cross-validation (CV). quality_n_folds The number of folds in the case of the CV technique. quality_cv_randomize Whether to shuffle the samples before dividing them in folds in the case of the CV technique. quality_cv_seed The seed of the pseudo-random number generator. quality_cv_threshold The CV quality threshold below which a warning is logged."},{"location":"user_guide/umdo/surrogate/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance, the margin and the probability, by sampling the surrogate model \\(\\widehat{\\varphi}\\) of \\(\\varphi\\).</p> Statistic Notation Estimator Mean \\(\\mathbb{E}[\\varphi(x,U)]\\) \\(E_{\\textrm{Surrogate}}[\\varphi(x,U)]=\\frac{1}{N}\\sum_{i=1}^N\\widehat{\\varphi}(x,U^{(i)})\\) Variance \\(\\mathbb{V}[\\varphi(x,U)]\\) \\(V_{\\textrm{Surrogate}}[\\varphi(x,U)]=\\frac{1}{N-1}\\sum_{i=1}^N\\left(\\widehat{\\varphi}(x,U^{(i)})-E_{\\textrm{Surrogate}}[\\varphi(x,U)]\\right)^2\\) Standard deviation \\(\\mathbb{S}[\\varphi(x,U)]\\) \\(S_{\\textrm{PCE}}[\\varphi(x,U)]=\\sqrt{V_{\\textrm{Surrogate}}[\\varphi(x,U)]}\\) Margin \\(\\textrm{Margin}[\\varphi(x,U)]\\) \\(\\textrm{Margin}_{\\textrm{Surrogate}}[\\varphi(x,U)]=E_{\\textrm{Surrogate}}[\\varphi(x,U)] + \\kappa \\cdot S_{\\textrm{Surrogate}}[\\varphi(x,U)]\\) Probability \\(\\mathbb{P}[\\varphi(x,U)\\leq 0]\\) \\(P_{\\textrm{PCE}}[\\varphi(x,U)\\leq 0]=E_N[\\mathbb{1}_{\\widehat{\\varphi}(x,U)\\leq 0}]\\)"},{"location":"user_guide/umdo/taylor_polynomial/","title":"Taylor polynomial","text":""},{"location":"user_guide/umdo/taylor_polynomial/#taylor-polynomial","title":"Taylor polynomial","text":"<p>TaylorPolynomial is a U-MDO formulation that estimates the statistics using Taylor polynomials.</p> <p>The Taylor polynomials are centered at \\(\\mu=\\mathbb{E}[U]\\) where \\(U\\) is the random input vector.</p> <p>When the derivatives with respect to the uncertain variables are available, this U-MDO formulation introduces no additional calculation cost associated with taking the uncertainties into account. Otherwise, finite differences are computed and so the additional cost is \\(d+1\\) evaluations of the process associated with the BaseMDOFormulation where \\(d\\) is the dimension of the uncertain space.</p> <p>This U-MDO formulation has no mandatory parameters.</p> <p>Here is a typical scenario template:</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=TaylorPolynomial_Settings(),\n)\n</code></pre>"},{"location":"user_guide/umdo/taylor_polynomial/#settings","title":"Settings","text":""},{"location":"user_guide/umdo/taylor_polynomial/#derivatives-calculation","title":"Derivatives calculation","text":"<p>When the derivatives with respect to the uncertain variables are missing or when the process resulting from the BaseMDOFormulation cannot be differentiated with respect to these variables, this U-MDO formulation uses finite difference approximations. One can also force the use of finite difference approximations by setting the statistic estimation parameter <code>differentiation_method</code> to <code>\"finite_differences\"</code>.</p> <p>API</p> <p>Use <code>statistic_estimation_settings</code> to set the options, e.g.</p> <pre><code>scenario = UMDOScenario(\n    disciplines,\n    mdo_formulation_name,\n    objective_name,\n    design_space,\n    uncertain_space,\n    statistic_name,\n    statistic_estimation_settings=TaylorPolynomial_Settings(differentiation_method=\"finite_differences\"),\n)\n</code></pre>"},{"location":"user_guide/umdo/taylor_polynomial/#second-order","title":"Second-order","text":"<p>By default, this U-MDO formulation uses first-order Taylor polynomials. Second-order Taylor polynomials can also be used by setting the statistic estimation parameter <code>second_order</code> to <code>True</code>.</p> <p>Computational cost</p> <p>As GEMSEO does not support second-order derivatives, the second-order derivatives are estimated by finite-differences from the first-order derivatives. When the dimension of the uncertain space is large or when the first-order derivatives are already finite difference approximations, using second-order Taylor polynomials can be very costly.</p>"},{"location":"user_guide/umdo/taylor_polynomial/#statistics","title":"Statistics","text":"<p>This U-MDO formulation has been implemented for the expectation, the standard deviation, the variance and the margin.</p> <p>Here are the expressions when using first-order Taylor polynomials.</p> Statistic Notation Estimator Mean \\(\\mathbb{E}[\\varphi(x,U)]\\) \\(E_{\\textrm{TP}_1}[\\varphi(x,U)]=\\varphi(x,\\mu)\\) Variance \\(\\mathbb{V}[\\varphi(x,U)]\\) \\(V_{\\textrm{TP}_1}[\\varphi(x,U)]=\\nabla\\varphi(x,\\mu)^T\\Sigma \\nabla\\varphi(x,\\mu)\\) Standard deviation \\(\\mathbb{S}[\\varphi(x,U)]\\) \\(S_{\\textrm{TP}_1}[\\varphi(x,U)]=\\sqrt{V_{\\textrm{TP}_1}[\\varphi(x,U)]}\\) Margin \\(\\textrm{Margin}[\\varphi(x,U)]\\) \\(\\textrm{Margin}_{\\textrm{TP}_1}[\\varphi(x,U)]=E_{\\textrm{TP}_1}[\\varphi(x,U)]+\\kappa\\cdot S_{\\textrm{TP}_1}[\\varphi(x,U)]\\) <p>where \\(\\Sigma=\\left(\\textrm{cov}(U_i,U_j)\\right)_{1\\leq i,j\\leq d}\\) is the covariance matrix of \\(U\\) and \\(\\nabla\\varphi(x,\\mu)= \\left(\\frac{\\partial\\varphi(x,\\mu)}{\\partial u_i}\\right)_{1\\leq i \\leq d}\\) is the column-vector of the partial derivatives of \\(\\varphi\\) with respect to the uncertain variables.</p>"},{"location":"user_guide/visualization/","title":"Visualization","text":""},{"location":"user_guide/visualization/#visualization","title":"Visualization","text":""},{"location":"user_guide/visualization/sobol_graph/","title":"Sobol graph","text":""},{"location":"user_guide/visualization/sobol_graph/#sobol-sensitivity-graph","title":"Sobol' sensitivity graph","text":"<p>The Sobol' indices<sup>1</sup> are widely used in sensitivity analysis <sup>2</sup><sup>3</sup>.</p> <p>Sobol' index</p> <p>A Sobol' index represent the proportion of the variance of a quantity of interest explained by one or more uncertain inputs.</p> <p>The proportion explained by a single uncertain input is called a first-order index, the proportion explained by the interaction of two uncertain inputs is called a second-order index, ... and the proportion explained by an uncertain input separately or in interaction with other uncertain inputs is called a total-order index.</p>"},{"location":"user_guide/visualization/sobol_graph/#visualize-sobol-indices","title":"Visualize Sobol' indices","text":"<p>These sensitivity indices are often represented with pie charts and bar charts. These charts display the first-order and total-order Sobol' indices associated with the different uncertain inputs.</p> <p>The pie charts represent the first- and second-order indices as pie slices while the bar charts represent the first- and total-order indices with confidence intervals.</p> <p>Bar charts can help to determine whether the indices are well estimated or whether the variance of the quantity of interest is explained by the interaction between some uncertain inputs.</p> <p></p> <p>Bar chart generated by GEMSEO from the Ishigami function.</p> <p>Pie charts can help to determine whether interactions of order greater than 2 explain the variance of the quantity of interest.</p> <p></p> <p>Pie chart generated from synthetic data.</p> <p>Info</p> <p>Most of the UQ libraries propose only first-order indices and total-order indices; some of them propose also the second-order indices.</p>"},{"location":"user_guide/visualization/sobol_graph/#fanova-graph","title":"FANOVA graph","text":""},{"location":"user_guide/visualization/sobol_graph/#introduction","title":"Introduction","text":"<p>In the case of second-order Sobol' indices, a FANOVA graph<sup>4</sup> can be used to display the interactions between the uncertain variables. This graph is a network of uncertain variables representing their Sobol' indices:</p> <ul> <li>A node represents an uncertain variable whose name is written inside,   followed by its first-order and total-order Sobol' indices,</li> <li>The thickness of a node   is proportional to the total-order Sobol' index   of the variable   while the thickness of an edge   is proportional to the second-order Sobol' index   of the corresponding pair of variables.</li> </ul>"},{"location":"user_guide/visualization/sobol_graph/#api","title":"API","text":"<p>The SobolGraph can be built from three dictionaries:</p> <ul> <li>the first-order indices defined as <code>{name: sobol_index}</code>,</li> <li>the second-order indices defined as <code>{(name, other_name): sobol_index}</code>,</li> <li>the total-order indices defined as <code>{name: sobol_index}</code>.</li> </ul> <p>Then, this graph can be both displayed in a window and saved on the disk:</p> <pre><code>sobol_graph = SobolGraph(first_sobol, second_sobol, total_sobol)\nsobol_graph.visualize()\n</code></pre> <p></p> <p>Sobol' graph for the Ishigami function.</p> <p>Note</p> <p>Several examples of Sobol' graphs, including this one, can be found in a dedicated gallery.</p> <p>Lastly, given one or more disciplines and an uncertain space, the SobolAnalysis proposed by GEMSEO computes the Sobol' indices for several discipline outputs. Then, the SobolGraph associated with a specific discipline output can be generated from this analysis:</p> <pre><code>sobol_graph = SobolGraph.from_analysis(sobol_analysis, output_name)\nsobol_graph.visualize()\n</code></pre>"},{"location":"user_guide/visualization/sobol_graph/#options","title":"Options","text":"<p>At instantiation, the float argument <code>threshold</code> allows to set the sensitivity threshold above which a second-order index is declared as significant and the corresponding edge plotted.</p> <p>One can also change the maximum thickness of a line with the argument <code>maximum_thickness</code>.</p> <ol> <li> <p>I.M Sobol\u2032. Global sensitivity indices for nonlinear mathematical models and their Monte Carlo estimates. Mathematics and Computers in Simulation, 55(1):271\u2013280, 2001.\u00a0\u21a9</p> </li> <li> <p>Andrea Saltelli, Marco Ratto, Terry Andres, Francesca Campolongo, Jessica Cariboni, Debora Gatelli, Michaela Saisana, and Stefano Tarantola. Global sensitivity analysis: the primer. John Wiley &amp; Sons, 2008.\u00a0\u21a9</p> </li> <li> <p>Bertrand Iooss and Paul Lema\u00eetre. A review on global sensitivity analysis methods. Uncertainty management in simulation-optimization of complex systems: algorithms and applications, pages 101\u2013122, 2015.\u00a0\u21a9</p> </li> <li> <p>Thomas Muehlenstaedt, Olivier Roustant, Laurent Carraro, and Sonja Kuhnt. Data-driven Kriging models based on FANOVA-decomposition. Statistics and Computing, 22:723\u2013738, 2012.\u00a0\u21a9</p> </li> </ol>"},{"location":"user_guide/visualization/uncertain_coupling_graph/","title":"Uncertain coupling graph","text":""},{"location":"user_guide/visualization/uncertain_coupling_graph/#uncertain-coupling-graph","title":"Uncertain coupling graph","text":""},{"location":"user_guide/visualization/uncertain_coupling_graph/#introduction","title":"Introduction","text":"<p>Standard sensitivity analysis<sup>1</sup><sup>2</sup> seeks to identify the uncertain inputs that have an impact on a model output. Similarly, in the case of a multidisciplinary system, some uncertain inputs can have a more significant impact on certain disciplines.</p>"},{"location":"user_guide/visualization/uncertain_coupling_graph/#graph","title":"Graph","text":"<p>Then, the goal of the UncertainCouplingGraph proposed by GEMSEO-UMDO is to identify:</p> <ul> <li>the coupling variables that are not impacted by the uncertain inputs,</li> <li>the disciplines that are not impacted by the uncertain inputs.</li> </ul> <p>The nodes of this graph represent the disciplines while the edges represent the coupling variables.</p> <p>The thickness of an edge is proportional to the absolute value of the dispersion of the corresponding coupling variable.</p> <p>A node connected only by ultra-thin edges will therefore be judged to be very insensitive to uncertain inputs.</p>"},{"location":"user_guide/visualization/uncertain_coupling_graph/#dispersion-measures","title":"Dispersion measures","text":"<p>The dispersion of a coupling variable is computed using a DispersionMeasure. GEMSEO-UMDO proposes two dispersion measures.</p> <p>The coefficient of variation (COV) represents the standard deviation normalized by the mean value:</p> \\[\\textrm{COV}[Y]=\\frac{\\mathbb{S}[Y]}{\\mathbb{E}[Y]}\\] <p>where \\(\\mathbb{E}[Y]\\) and \\(\\mathbb{S}[Y]\\) are the expectation and standard deviation of the random variable \\(Y\\). \\(\\textrm{COV}[Y]\\) tends to infinity as \\(\\textrm{E}[Y]\\) tends to 0, which makes it sensitive to small changes in \\(\\textrm{E}[Y]\\) for values near zero.</p> <p>The quartile coefficient of dispersion (QCD) represents the interquartile range (IQR) normalized by the sum of the first and third quartile:</p> \\[\\textrm{QCD}[Y]=\\frac{\\mathbb{q}_{75\\%}[Y]-\\mathbb{q}_{25\\%}[Y]}{\\mathbb{q}_{25\\%}[Y]+\\mathbb{q}_{75\\%}[Y]}\\] <p>where \\(\\mathbb{q}_{\\alpha}[Y]\\) is the \\(\\alpha\\)-quantile of \\(Y\\).</p>"},{"location":"user_guide/visualization/uncertain_coupling_graph/#api","title":"API","text":"<p>Firstly, the UncertainCouplingGraph is built from a collection of disciplines, an uncertain space and possibly a subset of coupling variable names.</p> <pre><code>graph = UncertainCouplingGraph(disciplines, uncertain_space)\n</code></pre> <p>Then, the disciplines are sampled using an optimized Latin hypercube sampling technique:</p> <pre><code>graph.sample(100)\n</code></pre> <p>Warning</p> <p>Setting the number of samples is mandatory. In the previous example, we used 100 samples.</p> <p>Lastly, this graph can be both displayed in a window and saved on the disk:</p> <pre><code>graph.visualize()\n</code></pre> <p></p> <p>Uncertainty coupling graph from the Sobieski's SSBJ problem.</p> <p>Note</p> <p>Several examples of uncertain coupling graphs, including this one, can be found in a dedicated gallery.</p>"},{"location":"user_guide/visualization/uncertain_coupling_graph/#options","title":"Options","text":"<p>At the sampling stage, the algorithm can be modified by setting the arguments <code>algo_name</code> and <code>algo_options</code> of the method sample().</p> <p>At the visualization stage, the string argument <code>dispersion_measure</code> allows to change the dispersion measure (QCD by default).</p> <p>It is also possible to filter some coupling variables with the argument <code>variable_names</code> (all coupling variables are displayed by default).</p> <p>Lastly, the float argument <code>maximum_thickness</code> can be used to set the maximum edge thickness.</p> <ol> <li> <p>Andrea Saltelli, Marco Ratto, Terry Andres, Francesca Campolongo, Jessica Cariboni, Debora Gatelli, Michaela Saisana, and Stefano Tarantola. Global sensitivity analysis: the primer. John Wiley &amp; Sons, 2008.\u00a0\u21a9</p> </li> <li> <p>Bertrand Iooss and Paul Lema\u00eetre. A review on global sensitivity analysis methods. Uncertainty management in simulation-optimization of complex systems: algorithms and applications, pages 101\u2013122, 2015.\u00a0\u21a9</p> </li> </ol>"}]}